E501 Line too long (92 > 88)
 --> freecad/SquatchCut/InitGui.py:2:89
  |
1 | """@codex
2 | Workbench registration: defines SquatchCutWorkbench and registers commands with FreeCAD GUI.
  |                                                                                         ^^^^
3 | - Primary entry point: SquatchCut_ShowTaskPanel (consolidated Task panel).
4 | - Legacy commands remain available via the Advanced toolbar/menu.
  |

E501 Line too long (89 > 88)
 --> freecad/SquatchCut/InitGui.py:6:89
  |
4 | - Legacy commands remain available via the Advanced toolbar/menu.
5 | Icons: resolves icons under resources/icons/.
6 | Note: Avoid adding business logic; keep this file focused on registration/bootstrap only.
  |                                                                                         ^
7 | """
  |

E501 Line too long (107 > 88)
  --> freecad/SquatchCut/core/csv_import.py:23:89
   |
23 | def validate_csv_file(path: str, csv_units: str = "metric") -> tuple[list[dict], list[CsvValidationError]]:
   |                                                                                         ^^^^^^^^^^^^^^^^^^^
24 |     """
25 |     Parse and validate the CSV at `path`.
   |

E501 Line too long (113 > 88)
   --> freecad/SquatchCut/core/csv_import.py:103:89
    |
103 | def _validate_panel_row(row: dict, row_number: int, units: str) -> tuple[dict | None, CsvValidationError | None]:
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^
104 |     missing = [field for field in REQUIRED_COLUMNS if not row.get(field)]
105 |     if missing:
    |

E501 Line too long (102 > 88)
   --> freecad/SquatchCut/core/csv_import.py:106:89
    |
104 |     missing = [field for field in REQUIRED_COLUMNS if not row.get(field)]
105 |     if missing:
106 |         return None, CsvValidationError(row_number, f"Missing required fields: {', '.join(missing)}.")
    |                                                                                         ^^^^^^^^^^^^^^
107 |
108 |     id_value = row["id"]
    |

E501 Line too long (91 > 88)
   --> freecad/SquatchCut/core/csv_import.py:112:89
    |
110 |     if width_error:
111 |         return None, width_error
112 |     height_value, height_error = _parse_positive_float(row["height"], row_number, "Height")
    |                                                                                         ^^^
113 |     if height_error:
114 |         return None, height_error
    |

E501 Line too long (90 > 88)
   --> freecad/SquatchCut/core/csv_import.py:119:89
    |
117 |     height_value = _convert_units(height_value, units)
118 |
119 |     qty_value, qty_error = _parse_positive_int(row.get("qty", ""), row_number, "Quantity")
    |                                                                                         ^^
120 |     if qty_error:
121 |         return None, qty_error
    |

E501 Line too long (117 > 88)
   --> freecad/SquatchCut/core/csv_import.py:143:89
    |
143 | def _parse_positive_float(value: str, row_number: int, label: str) -> tuple[float | None, CsvValidationError | None]:
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
144 |     text = (value or "").strip()
145 |     if not text:
    |

E501 Line too long (96 > 88)
   --> freecad/SquatchCut/core/csv_import.py:150:89
    |
148 |         number = float(text)
149 |     except ValueError:
150 |         return None, CsvValidationError(row_number, f"{label} must be a number (got '{text}').")
    |                                                                                         ^^^^^^^^
151 |     if number <= 0:
152 |         return None, CsvValidationError(row_number, f"{label} must be greater than zero (got '{text}').")
    |

E501 Line too long (105 > 88)
   --> freecad/SquatchCut/core/csv_import.py:152:89
    |
150 |         return None, CsvValidationError(row_number, f"{label} must be a number (got '{text}').")
151 |     if number <= 0:
152 |         return None, CsvValidationError(row_number, f"{label} must be greater than zero (got '{text}').")
    |                                                                                         ^^^^^^^^^^^^^^^^^
153 |     return number, None
    |

E501 Line too long (106 > 88)
   --> freecad/SquatchCut/core/csv_import.py:156:89
    |
156 | def _parse_positive_int(value: str, row_number: int, label: str) -> tuple[int, CsvValidationError | None]:
    |                                                                                         ^^^^^^^^^^^^^^^^^^
157 |     text = (value or "").strip()
158 |     if not text:
    |

E501 Line too long (95 > 88)
   --> freecad/SquatchCut/core/csv_import.py:163:89
    |
161 |         number = int(text)
162 |     except ValueError:
163 |         return 0, CsvValidationError(row_number, f"{label} must be an integer (got '{text}').")
    |                                                                                         ^^^^^^^
164 |     if number <= 0:
165 |         return 0, CsvValidationError(row_number, f"{label} must be greater than zero (got '{text}').")
    |

E501 Line too long (102 > 88)
   --> freecad/SquatchCut/core/csv_import.py:165:89
    |
163 |         return 0, CsvValidationError(row_number, f"{label} must be an integer (got '{text}').")
164 |     if number <= 0:
165 |         return 0, CsvValidationError(row_number, f"{label} must be greater than zero (got '{text}').")
    |                                                                                         ^^^^^^^^^^^^^^
166 |     return number, None
    |

E501 Line too long (112 > 88)
 --> freecad/SquatchCut/core/csv_loader.py:3:89
  |
1 | """@codex
2 | Module: CSV loader for panel definitions used by SquatchCut.
3 | Boundaries: Do not touch FreeCAD documents or geometry; only read, validate, and normalize CSV data into panels.
  |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^
4 | Primary methods: load_file, _read_rows, _validate_rows, _normalize_types_and_units, _to_panels.
5 | Note: Update incrementally; do not overwrite this module when adding logic.
  |

E501 Line too long (95 > 88)
 --> freecad/SquatchCut/core/csv_loader.py:4:89
  |
2 | Module: CSV loader for panel definitions used by SquatchCut.
3 | Boundaries: Do not touch FreeCAD documents or geometry; only read, validate, and normalize CSV data into panels.
4 | Primary methods: load_file, _read_rows, _validate_rows, _normalize_types_and_units, _to_panels.
  |                                                                                         ^^^^^^^
5 | Note: Update incrementally; do not overwrite this module when adding logic.
6 | """
  |

E501 Line too long (104 > 88)
  --> freecad/SquatchCut/core/csv_loader.py:44:89
   |
42 |         return rows
43 |
44 |     def validate_row(self, row: dict, row_number: int | None = None, csv_units: str = "metric") -> dict:
   |                                                                                         ^^^^^^^^^^^^^^^^
45 |         """Validate a single CSV row, ensuring required fields exist."""
46 |         missing = [key for key in ("id", "width", "height") if not row.get(key)]
   |

E501 Line too long (108 > 88)
   --> freecad/SquatchCut/core/csv_loader.py:144:89
    |
142 |             missing = required - headers
143 |             if missing:
144 |                 msg = f">>> [SquatchCut] load_csv: missing required headers: {', '.join(sorted(missing))}\n"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^
145 |                 if App:
146 |                     App.Console.PrintError(msg)
    |

E501 Line too long (91 > 88)
   --> freecad/SquatchCut/core/csv_loader.py:147:89
    |
145 |                 if App:
146 |                     App.Console.PrintError(msg)
147 |                 raise ValueError(f"Missing required headers: {', '.join(sorted(missing))}")
    |                                                                                         ^^^
148 |
149 |             for idx, row in enumerate(reader, start=1):
    |

E501 Line too long (94 > 88)
   --> freecad/SquatchCut/core/csv_loader.py:198:89
    |
196 |                 except Exception as exc:
197 |                     App.Console.PrintError(
198 |                         f">>> [SquatchCut] load_csv: skipping row {idx} due to error: {exc}\n"
    |                                                                                         ^^^^^^
199 |                     )
200 |                     continue
    |

E501 Line too long (90 > 88)
   --> freecad/SquatchCut/core/csv_loader.py:203:89
    |
201 |     except FileNotFoundError:
202 |         if App:
203 |             App.Console.PrintError(f">>> [SquatchCut] load_csv: file not found: {path}\n")
    |                                                                                         ^^
204 |         raise
205 |     except Exception:
    |

E501 Line too long (107 > 88)
  --> freecad/SquatchCut/core/cut_optimization.py:27:89
   |
27 | def _orientations_for_part(part, allowed_rotations: tuple[int, ...]) -> Iterable[tuple[float, float, int]]:
   |                                                                                         ^^^^^^^^^^^^^^^^^^^
28 |     """Yield (width, height, rotation_deg) respecting part.can_rotate and allowed_rotations."""
29 |     yield part.width, part.height, 0
   |

E501 Line too long (95 > 88)
  --> freecad/SquatchCut/core/cut_optimization.py:28:89
   |
27 | def _orientations_for_part(part, allowed_rotations: tuple[int, ...]) -> Iterable[tuple[float, float, int]]:
28 |     """Yield (width, height, rotation_deg) respecting part.can_rotate and allowed_rotations."""
   |                                                                                         ^^^^^^^
29 |     yield part.width, part.height, 0
30 |     if getattr(part, "can_rotate", False) and 90 in allowed_rotations and part.width != part.height:
   |

E501 Line too long (100 > 88)
  --> freecad/SquatchCut/core/cut_optimization.py:30:89
   |
28 |     """Yield (width, height, rotation_deg) respecting part.can_rotate and allowed_rotations."""
29 |     yield part.width, part.height, 0
30 |     if getattr(part, "can_rotate", False) and 90 in allowed_rotations and part.width != part.height:
   |                                                                                         ^^^^^^^^^^^^
31 |         yield part.height, part.width, 90
   |

E501 Line too long (110 > 88)
  --> freecad/SquatchCut/core/cut_optimization.py:34:89
   |
34 | def guillotine_nest_parts(parts, sheet, config, sheet_sizes: list[tuple[float, float]] | None = None) -> list:
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^
35 |     """
36 |     Guillotine-style nesting: place parts in free rectangles, splitting space after each placement.
   |

E501 Line too long (99 > 88)
  --> freecad/SquatchCut/core/cut_optimization.py:36:89
   |
34 | def guillotine_nest_parts(parts, sheet, config, sheet_sizes: list[tuple[float, float]] | None = None) -> list:
35 |     """
36 |     Guillotine-style nesting: place parts in free rectangles, splitting space after each placement.
   |                                                                                         ^^^^^^^^^^^
37 |
38 |     - Parts sorted largest-first.
   |

E501 Line too long (92 > 88)
  --> freecad/SquatchCut/core/cut_optimization.py:82:89
   |
80 |         return []
81 |
82 |     free_rects = [{"x": 0.0, "y": 0.0, "w": current_sheet_width, "h": current_sheet_height}]
   |                                                                                         ^^^^
83 |     placements: list[nesting_mod.PlacedPart] = []
   |

E501 Line too long (93 > 88)
   --> freecad/SquatchCut/core/cut_optimization.py:109:89
    |
107 |                 y = fr["y"]
108 |                 # Sanity check against sheet bounds
109 |                 if x + w > current_sheet_width + 1e-6 or y + h > current_sheet_height + 1e-6:
    |                                                                                         ^^^^^
110 |                     continue
    |

E501 Line too long (105 > 88)
   --> freecad/SquatchCut/core/cut_optimization.py:132:89
    |
130 |                     "h": fr["h"],
131 |                 }
132 |                 # Bottom rect: covers width of the part (plus left region) below the horizontal cut line.
    |                                                                                         ^^^^^^^^^^^^^^^^^
133 |                 # Constrained to width=w to avoid overlap with right_rect.
134 |                 bottom_rect = {
    |

E501 Line too long (103 > 88)
   --> freecad/SquatchCut/core/cut_optimization.py:157:89
    |
155 |                 raise ValueError(
156 |                     f"Part {part.id} ({part.width} x {part.height}) does not fit "
157 |                     f"on sheet {current_sheet_width} x {current_sheet_height} with guillotine nesting."
    |                                                                                         ^^^^^^^^^^^^^^^
158 |                 )
159 |             free_rects = [{"x": 0.0, "y": 0.0, "w": current_sheet_width, "h": current_sheet_height}]
    |

E501 Line too long (100 > 88)
   --> freecad/SquatchCut/core/cut_optimization.py:159:89
    |
157 |                     f"on sheet {current_sheet_width} x {current_sheet_height} with guillotine nesting."
158 |                 )
159 |             free_rects = [{"x": 0.0, "y": 0.0, "w": current_sheet_width, "h": current_sheet_height}]
    |                                                                                         ^^^^^^^^^^^^
160 |             remaining_parts.insert(0, part)
161 |             continue
    |

E501 Line too long (94 > 88)
   --> freecad/SquatchCut/core/cutlist.py:112:89
    |
110 |         panel_objs = session.get_nested_panel_objects()
111 |     except Exception:
112 |         logger.warning("cutlist: session.get_nested_panel_objects() not available or failed.")
    |                                                                                         ^^^^^^
113 |         panel_objs = []
    |

E501 Line too long (115 > 88)
   --> freecad/SquatchCut/core/cutlist.py:122:89
    |
120 |                 s_min_x, s_max_x, s_min_y, s_max_y = _get_sheet_bounds(sheet_obj)
121 |             except Exception as e:
122 |                 logger.warning(f"cutlist: failed to get bounds for sheet {getattr(sheet_obj, 'Name', '?')}: {e!r}")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
123 |                 continue
    |

E501 Line too long (97 > 88)
   --> freecad/SquatchCut/core/cutlist.py:157:89
    |
155 |             interior_y = [y for y in y_edges if s_min_y < y < s_max_y]
156 |
157 |             interior_x = _filter_edges_by_panels(interior_x, sheet_panels, "x", s_min_y, s_max_y)
    |                                                                                         ^^^^^^^^^
158 |             interior_y = _filter_edges_by_panels(interior_y, sheet_panels, "y", s_min_x, s_max_x)
    |

E501 Line too long (97 > 88)
   --> freecad/SquatchCut/core/cutlist.py:158:89
    |
157 |             interior_x = _filter_edges_by_panels(interior_x, sheet_panels, "x", s_min_y, s_max_y)
158 |             interior_y = _filter_edges_by_panels(interior_y, sheet_panels, "y", s_min_x, s_max_x)
    |                                                                                         ^^^^^^^^^
159 |
160 |             sheet_height = s_max_y - s_min_y
    |

E501 Line too long (93 > 88)
   --> freecad/SquatchCut/core/cutlist.py:196:89
    |
194 |             except Exception:
195 |                 sheet_w = sheet_h = 0.0
196 |             return _cutops_from_cutlist_map(generate_cutlist(placements, (sheet_w, sheet_h)))
    |                                                                                         ^^^^^
197 |
198 |         logger.info("cutlist: no sheets or nested panels; nothing to cut.")
    |

E501 Line too long (101 > 88)
   --> freecad/SquatchCut/core/cutlist.py:216:89
    |
214 |         with open(path, "w", newline="") as f:
215 |             writer = csv.writer(f)
216 |             writer.writerow(["sheet_index", "sheet_name", "orientation", "position_mm", "length_mm"])
    |                                                                                         ^^^^^^^^^^^^^
217 |             for c in cut_ops:
218 |                 writer.writerow(
    |

E501 Line too long (110 > 88)
   --> freecad/SquatchCut/core/cutlist.py:219:89
    |
217 |             for c in cut_ops:
218 |                 writer.writerow(
219 |                     [c.sheet_index, c.sheet_name, c.orientation, f"{c.position_mm:.3f}", f"{c.length_mm:.3f}"]
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^
220 |                 )
221 |         logger.info(f"[SquatchCut] Cutlist exported to: {path}")
    |

E501 Line too long (98 > 88)
  --> freecad/SquatchCut/core/exporter.py:42:89
   |
40 |         global _MISSING_TEXT_HELPER_WARNED
41 |         if not _MISSING_TEXT_HELPER_WARNED:
42 |             logger.warning("[SquatchCut] text helper module unavailable; export labels disabled.")
   |                                                                                         ^^^^^^^^^^
43 |             _MISSING_TEXT_HELPER_WARNED = True
44 |         return None
   |

E501 Line too long (106 > 88)
   --> freecad/SquatchCut/core/exporter.py:139:89
    |
137 |             candidate.parent.mkdir(parents=True, exist_ok=True)
138 |         except Exception as exc:
139 |             logger.warning(f"[SquatchCut] Unable to prepare export directory '{candidate.parent}': {exc}")
    |                                                                                         ^^^^^^^^^^^^^^^^^^
140 |             fallback = _default_export_directory()
141 |             candidate = fallback / candidate.name
    |

E501 Line too long (95 > 88)
   --> freecad/SquatchCut/core/exporter.py:160:89
    |
158 |         writer = csv.writer(fh)
159 |         writer.writerow(
160 |             ["sheet_index", "part_id", "width_mm", "height_mm", "rotation_deg", "x_mm", "y_mm"]
    |                                                                                         ^^^^^^^
161 |         )
162 |         for p in placements:
    |

E501 Line too long (96 > 88)
   --> freecad/SquatchCut/core/exporter.py:229:89
    |
227 |             tx = x + w / 2.0 + sheet_index * (sheet_w + sheet_spacing)
228 |             ty = y + h / 2.0
229 |             txt = create_export_shape_text(doc, str(label), tx, ty, 0.0, size=_label_size(w, h))
    |                                                                                         ^^^^^^^^
230 |             if txt is not None:
231 |                 objs.append(txt)
    |

E501 Line too long (107 > 88)
   --> freecad/SquatchCut/core/exporter.py:238:89
    |
236 |             tx = x + w / 2.0 + sheet_index * (sheet_w + sheet_spacing)
237 |             ty = y - margin
238 |             tw = create_export_shape_text(doc, f"W: {w:.1f} mm", tx, ty, 0.0, size=_label_size(w, h) * 0.6)
    |                                                                                         ^^^^^^^^^^^^^^^^^^^
239 |             if tw is not None:
240 |                 objs.append(tw)
    |

E501 Line too long (107 > 88)
   --> freecad/SquatchCut/core/exporter.py:243:89
    |
241 |             tx = x + w + margin + sheet_index * (sheet_w + sheet_spacing)
242 |             ty = y + h / 2.0
243 |             th = create_export_shape_text(doc, f"H: {h:.1f} mm", tx, ty, 0.0, size=_label_size(w, h) * 0.6)
    |                                                                                         ^^^^^^^^^^^^^^^^^^^
244 |             if th is not None:
245 |                 objs.append(th)
    |

E501 Line too long (89 > 88)
   --> freecad/SquatchCut/core/exporter.py:249:89
    |
249 | def export_cutlist_map_to_csv(cutlist_by_sheet: dict[int, list], file_path: str) -> None:
    |                                                                                         ^
250 |     """Write a cutlist mapping (sheet -> cuts) to CSV."""
251 |     with open(file_path, "w", newline="", encoding="utf-8") as fh:
    |

E501 Line too long (89 > 88)
   --> freecad/SquatchCut/core/exporter.py:300:89
    |
298 |             fh.write("-" * 22 + "\n")
299 |             for cut in cutlist_by_sheet[sheet_index]:
300 |                 fh.write(f"{cut.get('cut_order', '')}. {cut.get('cut_type', '')} cut:\n")
    |                                                                                         ^
301 |                 fh.write(
302 |                     f"   Direction: {cut.get('cut_direction', '')} from {cut.get('from_edge', '')} "
    |

E501 Line too long (100 > 88)
   --> freecad/SquatchCut/core/exporter.py:302:89
    |
300 |                 fh.write(f"{cut.get('cut_order', '')}. {cut.get('cut_type', '')} cut:\n")
301 |                 fh.write(
302 |                     f"   Direction: {cut.get('cut_direction', '')} from {cut.get('from_edge', '')} "
    |                                                                                         ^^^^^^^^^^^^
303 |                     f"at {_fmt(cut.get('distance_from_edge_mm'))}\n"
304 |                 )
    |

E501 Line too long (105 > 88)
   --> freecad/SquatchCut/core/exporter.py:373:89
    |
371 |     sheet_mode = sheet_mode or "simple"
372 |     job_sheet_defs = list(job_sheets or [])
373 |     sheet_sizes = derive_sheet_sizes_for_layout(sheet_mode, job_sheet_defs, sheet_w, sheet_h, placements)
    |                                                                                         ^^^^^^^^^^^^^^^^^
374 |
375 |     placements_by_sheet = _group_placements_by_sheet(placements)
    |

E501 Line too long (98 > 88)
   --> freecad/SquatchCut/core/exporter.py:383:89
    |
381 |     generated_paths: list[Path] = []
382 |     for sheet_index in sorted(placements_by_sheet.keys()):
383 |         width_mm, height_mm = resolve_sheet_dimensions(sheet_sizes, sheet_index, sheet_w, sheet_h)
    |                                                                                         ^^^^^^^^^^
384 |         content = _render_sheet_svg(
385 |             sheet_number=sheet_index + 1,
    |

E501 Line too long (105 > 88)
   --> freecad/SquatchCut/core/exporter.py:402:89
    |
401 |     logger.info(
402 |         f"[SquatchCut] SVG export complete: wrote {len(generated_paths)} file(s) to {base_target.parent}"
    |                                                                                         ^^^^^^^^^^^^^^^^^
403 |     )
404 |     return generated_paths
    |

E501 Line too long (94 > 88)
   --> freecad/SquatchCut/core/exporter.py:435:89
    |
435 | def _format_dimension_pair(width_mm: float, height_mm: float, measurement_system: str) -> str:
    |                                                                                         ^^^^^^
436 |     label = unit_utils.unit_label_for_system(measurement_system)
437 |     width_str = unit_utils.format_length(width_mm, measurement_system)
    |

E501 Line too long (97 > 88)
   --> freecad/SquatchCut/core/exporter.py:442:89
    |
442 | def _part_font_size(width_mm: float, height_mm: float, sheet_size: tuple[float, float]) -> float:
    |                                                                                         ^^^^^^^^^
443 |     min_sheet_dim = max(min(sheet_size), 1.0)
444 |     base = min(width_mm, height_mm) * 0.25
    |

E501 Line too long (127 > 88)
   --> freecad/SquatchCut/core/exporter.py:466:89
    |
464 |     header_margin = min(max(min_sheet_dim * 0.04, 8.0), 30.0)
465 |     header_y = height_mm - header_margin
466 |     header_text = f"Sheet {sheet_number} of {total_sheets} – {_format_dimension_pair(width_mm, height_mm, measurement_system)}"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
467 |     style_block = (
468 |         "<style>"
    |

E501 Line too long (107 > 88)
   --> freecad/SquatchCut/core/exporter.py:480:89
    |
478 |     body.append(
479 |         f'<svg xmlns="http://www.w3.org/2000/svg" width="{_fmt_float(width_mm)}mm" '
480 |         f'height="{_fmt_float(height_mm)}mm" viewBox="0 0 {_fmt_float(width_mm)} {_fmt_float(height_mm)}" '
    |                                                                                         ^^^^^^^^^^^^^^^^^^^
481 |         'preserveAspectRatio="xMinYMin meet" version="1.1">'
482 |     )
    |

E501 Line too long (116 > 88)
   --> freecad/SquatchCut/core/exporter.py:485:89
    |
483 |     body.append(style_block)
484 |     body.append(
485 |         f'<rect class="sheet-border" x="0" y="0" width="{_fmt_float(width_mm)}" height="{_fmt_float(height_mm)}" />'
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
486 |     )
487 |     body.append(
    |

E501 Line too long (98 > 88)
   --> freecad/SquatchCut/core/exporter.py:489:89
    |
487 |     body.append(
488 |         f'<text class="sheet-header" font-size="{_fmt_float(header_font)}" '
489 |         f'x="{_fmt_float(width_mm / 2.0)}" y="{_fmt_float(header_y)}" dominant-baseline="middle">'
    |                                                                                         ^^^^^^^^^^
490 |         f"{escape(header_text)}</text>"
491 |     )
    |

E501 Line too long (96 > 88)
   --> freecad/SquatchCut/core/exporter.py:524:89
    |
522 |         label_parts = [
523 |             f'<text class="part-label" font-size="{_fmt_float(part_font)}" '
524 |             f'x="{_fmt_float(center_x)}" y="{_fmt_float(center_y)}" dominant-baseline="middle">'
    |                                                                                         ^^^^^^^^
525 |         ]
526 |         for idx, line in enumerate(lines):
    |

E501 Line too long (104 > 88)
   --> freecad/SquatchCut/core/exporter.py:574:89
    |
572 |     total_parts = 0
573 |     for sheet_index in sorted(grouped.keys()):
574 |         width_mm, height_mm = resolve_sheet_dimensions(sheet_sizes, sheet_index, fallback_w, fallback_h)
    |                                                                                         ^^^^^^^^^^^^^^^^
575 |         export_parts: list[ExportPartPlacement] = []
576 |         for placement in grouped[sheet_index]:
    |

E501 Line too long (99 > 88)
   --> freecad/SquatchCut/core/exporter.py:608:89
    |
607 |     job_name = _resolve_job_name(doc)
608 |     export_job = ExportJob(job_name=job_name, measurement_system=measurement_system, sheets=sheets)
    |                                                                                         ^^^^^^^^^^^
609 |     logger.info(f"[SquatchCut] ExportJob summary: {len(sheets)} sheet(s), {total_parts} part(s).")
610 |     for sheet in sheets[:3]:
    |

E501 Line too long (98 > 88)
   --> freecad/SquatchCut/core/exporter.py:609:89
    |
607 |     job_name = _resolve_job_name(doc)
608 |     export_job = ExportJob(job_name=job_name, measurement_system=measurement_system, sheets=sheets)
609 |     logger.info(f"[SquatchCut] ExportJob summary: {len(sheets)} sheet(s), {total_parts} part(s).")
    |                                                                                         ^^^^^^^^^^
610 |     for sheet in sheets[:3]:
611 |         logger.info(
    |

E501 Line too long (149 > 88)
   --> freecad/SquatchCut/core/exporter.py:612:89
    |
610 | …
611 | …
612 | …}: {_fmt_float(sheet.width_mm)} x {_fmt_float(sheet.height_mm)} mm, {len(sheet.parts)} part(s)."
    |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
613 | …
614 | …
    |

E501 Line too long (94 > 88)
   --> freecad/SquatchCut/core/exporter.py:633:89
    |
633 | def export_cutlist(export_job: ExportJob, target_path: str, *, as_text: bool = False) -> None:
    |                                                                                         ^^^^^^
634 |     """
635 |     Export a cutlist for the provided ExportJob.
    |

E501 Line too long (91 > 88)
   --> freecad/SquatchCut/core/exporter.py:642:89
    |
640 |         placements = _export_job_to_placements(export_job)
641 |         if not placements:
642 |             logger.warning("[SquatchCut] No placements available; cutlist export skipped.")
    |                                                                                         ^^^
643 |             return
644 |         primary_sheet = _job_primary_sheet_size(export_job)
    |

E501 Line too long (97 > 88)
   --> freecad/SquatchCut/core/exporter.py:744:89
    |
742 |         generated_paths.append(target_path)
743 |
744 |     logger.info(f"[SquatchCut] SVG export complete via gateway: {len(generated_paths)} file(s).")
    |                                                                                         ^^^^^^^^^
745 |     return generated_paths
    |

E501 Line too long (90 > 88)
  --> freecad/SquatchCut/core/geometry_sync.py:11:89
   |
10 | def sync_source_panels_to_document():
11 |     """Create/refresh source panel geometry in the active document and update the view."""
   |                                                                                         ^^
12 |     if App is None:
13 |         logger.warning("sync_source_panels_to_document() skipped: FreeCAD not available.")
   |

E501 Line too long (90 > 88)
  --> freecad/SquatchCut/core/geometry_sync.py:13:89
   |
11 |     """Create/refresh source panel geometry in the active document and update the view."""
12 |     if App is None:
13 |         logger.warning("sync_source_panels_to_document() skipped: FreeCAD not available.")
   |                                                                                         ^^
14 |         return
   |

E501 Line too long (101 > 88)
  --> freecad/SquatchCut/core/geometry_sync.py:50:89
   |
48 |         try:
49 |             verts = list(first.Shape.Vertexes)
50 |             coords = ", ".join(f"({v.Point.x:.2f}, {v.Point.y:.2f}, {v.Point.z:.2f})" for v in verts)
   |                                                                                         ^^^^^^^^^^^^^
51 |             logger.debug(f"First source panel '{first.Name}' vertices: {coords}")
52 |         except Exception as exc:  # pragma: no cover
   |

E501 Line too long (96 > 88)
   --> freecad/SquatchCut/core/gui_tests.py:144:89
    |
142 |             cmd.import_from_path(csv_path)
143 |         else:
144 |             raise RuntimeError("ImportCsvCommand.import_from_path not available for GUI tests.")
    |                                                                                         ^^^^^^^^
145 |
146 |         sync_source_panels_to_document()
    |

E501 Line too long (96 > 88)
   --> freecad/SquatchCut/core/gui_tests.py:185:89
    |
183 |             cmd.import_from_path(csv_path)
184 |         else:
185 |             raise RuntimeError("ImportCsvCommand.import_from_path not available for GUI tests.")
    |                                                                                         ^^^^^^^^
186 |
187 |         sync_source_panels_to_document()
    |

E501 Line too long (89 > 88)
   --> freecad/SquatchCut/core/gui_tests.py:194:89
    |
192 |         nested_group = doc.getObject("SquatchCut_NestedParts")
193 |         if nested_group is None or not getattr(nested_group, "Group", []):
194 |             raise RuntimeError("No sheets or nested panels found after nesting preview.")
    |                                                                                         ^
195 |
196 |         if not session.get_source_panel_objects():
    |

E501 Line too long (95 > 88)
   --> freecad/SquatchCut/core/gui_tests.py:268:89
    |
266 |             panel._on_units_changed()
267 |         if sc_units.get_units() != "in":
268 |             raise AssertionError("Units pref did not update to 'in' after selecting imperial.")
    |                                                                                         ^^^^^^^
269 |         panel.rbUnitsMetric.setChecked(True)
270 |         if hasattr(panel, "_on_units_changed"):
    |

E501 Line too long (93 > 88)
   --> freecad/SquatchCut/core/gui_tests.py:273:89
    |
271 |             panel._on_units_changed()
272 |         if sc_units.get_units() != "mm":
273 |             raise AssertionError("Units pref did not update to 'mm' after selecting metric.")
    |                                                                                         ^^^^^
274 |         result.set_pass()
275 |     except Exception as exc:
    |

E501 Line too long (93 > 88)
   --> freecad/SquatchCut/core/gui_tests.py:295:89
    |
293 |         # Labels are now in the sheet_widget sub-component
294 |         sheet_widget = getattr(panel_mm, "sheet_widget", None)
295 |         lbl_w_mm = getattr(sheet_widget, "sheet_width_label", None) if sheet_widget else None
    |                                                                                         ^^^^^
296 |         lbl_h_mm = getattr(sheet_widget, "sheet_height_label", None) if sheet_widget else None
    |

E501 Line too long (94 > 88)
   --> freecad/SquatchCut/core/gui_tests.py:296:89
    |
294 |         sheet_widget = getattr(panel_mm, "sheet_widget", None)
295 |         lbl_w_mm = getattr(sheet_widget, "sheet_width_label", None) if sheet_widget else None
296 |         lbl_h_mm = getattr(sheet_widget, "sheet_height_label", None) if sheet_widget else None
    |                                                                                         ^^^^^^
297 |
298 |         if lbl_w_mm is None or lbl_h_mm is None:
    |

E501 Line too long (90 > 88)
   --> freecad/SquatchCut/core/gui_tests.py:299:89
    |
298 |         if lbl_w_mm is None or lbl_h_mm is None:
299 |             raise RuntimeError("Main panel missing sheet_width_label/sheet_height_label.")
    |                                                                                         ^^
300 |         if "mm" not in lbl_w_mm.text() or "mm" not in lbl_h_mm.text():
301 |             raise AssertionError(
    |

E501 Line too long (89 > 88)
   --> freecad/SquatchCut/core/gui_tests.py:302:89
    |
300 |         if "mm" not in lbl_w_mm.text() or "mm" not in lbl_h_mm.text():
301 |             raise AssertionError(
302 |                 f"Expected 'mm' in labels; got '{lbl_w_mm.text()}', '{lbl_h_mm.text()}'."
    |                                                                                         ^
303 |             )
    |

E501 Line too long (93 > 88)
   --> freecad/SquatchCut/core/gui_tests.py:311:89
    |
309 |         panel_in = taskpanel_main.create_main_panel_for_tests()
310 |         sheet_widget = getattr(panel_in, "sheet_widget", None)
311 |         lbl_w_in = getattr(sheet_widget, "sheet_width_label", None) if sheet_widget else None
    |                                                                                         ^^^^^
312 |         lbl_h_in = getattr(sheet_widget, "sheet_height_label", None) if sheet_widget else None
    |

E501 Line too long (94 > 88)
   --> freecad/SquatchCut/core/gui_tests.py:312:89
    |
310 |         sheet_widget = getattr(panel_in, "sheet_widget", None)
311 |         lbl_w_in = getattr(sheet_widget, "sheet_width_label", None) if sheet_widget else None
312 |         lbl_h_in = getattr(sheet_widget, "sheet_height_label", None) if sheet_widget else None
    |                                                                                         ^^^^^^
313 |
314 |         if lbl_w_in is None or lbl_h_in is None:
    |

E501 Line too long (90 > 88)
   --> freecad/SquatchCut/core/gui_tests.py:315:89
    |
314 |         if lbl_w_in is None or lbl_h_in is None:
315 |             raise RuntimeError("Main panel missing sheet_width_label/sheet_height_label.")
    |                                                                                         ^^
316 |         if "in" not in lbl_w_in.text() or "in" not in lbl_h_in.text():
317 |             raise AssertionError(
    |

E501 Line too long (89 > 88)
   --> freecad/SquatchCut/core/gui_tests.py:318:89
    |
316 |         if "in" not in lbl_w_in.text() or "in" not in lbl_h_in.text():
317 |             raise AssertionError(
318 |                 f"Expected 'in' in labels; got '{lbl_w_in.text()}', '{lbl_h_in.text()}'."
    |                                                                                         ^
319 |             )
320 |         result.set_pass()
    |

E501 Line too long (101 > 88)
   --> freecad/SquatchCut/core/gui_tests.py:405:89
    |
403 |         orientations = {c.orientation for c in cuts}
404 |         if "vertical" not in orientations or "horizontal" not in orientations:
405 |             raise AssertionError(f"Expected both vertical and horizontal cuts; got {orientations!r}")
    |                                                                                         ^^^^^^^^^^^^^
406 |
407 |         result.set_pass()
    |

E501 Line too long (90 > 88)
  --> freecad/SquatchCut/core/logger.py:93:89
   |
91 |     formatted = _format_message(msg, args)
92 |     report_level, console_level = _get_levels()
93 |     _emit_report(f"[SquatchCut][ERROR] {formatted}", LogLevel.NONE, report_level, "error")
   |                                                                                         ^^
94 |     _emit_console(f"[SquatchCut][ERROR] {formatted}", LogLevel.NONE, console_level)
   |

E501 Line too long (130 > 88)
 --> freecad/SquatchCut/core/multi_sheet_optimizer.py:3:89
  |
1 | """@codex
2 | Module: Multi-sheet optimization layer that repeatedly runs the nesting engine.
3 | Boundaries: Do not implement single-sheet placement internals or geometry; orchestrate nesting_engine across multiple sheets only.
  |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
4 | Primary methods: optimize, _init_sheets, _allocate_panels, _next_sheet.
5 | Note: Update incrementally; do not overwrite this module when adding logic.
  |

E501 Line too long (93 > 88)
  --> freecad/SquatchCut/core/multi_sheet_optimizer.py:24:89
   |
23 |         width = (
24 |             sheet_size.get("width", 0) if isinstance(sheet_size, dict) else float(sheet_size)
   |                                                                                         ^^^^^
25 |         )
26 |         height = sheet_size.get("height", 0) if isinstance(sheet_size, dict) else 0
   |

E501 Line too long (117 > 88)
  --> freecad/SquatchCut/core/nesting.py:95:89
   |
93 |     """
94 |
95 |     def __init__(self, usable_width: float, usable_height: float, offending_parts: tuple[NestingOffendingPart, ...]):
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
96 |         self.usable_width = usable_width
97 |         self.usable_height = usable_height
   |

E501 Line too long (114 > 88)
   --> freecad/SquatchCut/core/nesting.py:105:89
    |
105 | def get_usable_sheet_area(sheet_width: float, sheet_height: float, margin_mm: float = 0.0) -> tuple[float, float]:
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
106 |     """
107 |     Return the usable width and height after subtracting edge margins.
    |

E501 Line too long (93 > 88)
   --> freecad/SquatchCut/core/nesting.py:161:89
    |
160 | def expand_sheet_sizes(sheet_entries: list[dict]) -> list[tuple[float, float]]:
161 |     """Return a flattened list of sheet (width, height) tuples based on job sheet entries."""
    |                                                                                         ^^^^^
162 |     result: list[tuple[float, float]] = []
163 |     for entry in sheet_entries or []:
    |

E501 Line too long (99 > 88)
   --> freecad/SquatchCut/core/nesting.py:185:89
    |
184 |     - Simple mode returns an empty list so callers repeat the default sheet as needed.
185 |     - Job sheets mode uses the supplied definitions verbatim (invalid ones filtered out elsewhere).
    |                                                                                         ^^^^^^^^^^^
186 |     """
187 |     if sheet_mode == "job_sheets":
    |

E501 Line too long (109 > 88)
   --> freecad/SquatchCut/core/nesting.py:200:89
    |
198 |     Normalize and filter the explicit job sheets to be used for nesting.
199 |
200 |     Returns an ordered list; empty list indicates either simple mode or that no valid sheets were configured.
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^
201 |     """
202 |     if sheet_mode != "job_sheets":
    |

E501 Line too long (102 > 88)
   --> freecad/SquatchCut/core/nesting.py:281:89
    |
279 |     offending: list[NestingOffendingPart] = []
280 |     for part in parts or []:
281 |         if not part_fits_sheet(part.width, part.height, usable_width, usable_height, part.can_rotate):
    |                                                                                         ^^^^^^^^^^^^^^
282 |             offending.append(
283 |                 NestingOffendingPart(
    |

E501 Line too long (92 > 88)
   --> freecad/SquatchCut/core/nesting.py:367:89
    |
366 |     def _sheet_dimensions(index: int) -> tuple[float, float]:
367 |         return resolve_sheet_dimensions(sheet_sizes or [], index, sheet_width, sheet_height)
    |                                                                                         ^^^^
368 |
369 |     def orientations_for_part(p: Part):
    |

E501 Line too long (94 > 88)
   --> freecad/SquatchCut/core/nesting.py:380:89
    |
378 |         # Try to place the part on existing sheets
379 |         for sheet_index, rows in enumerate(sheets):
380 |             # Compute current total height for this sheet from its rows + spacing between rows
    |                                                                                         ^^^^^^
381 |             total_height = 0.0
382 |             for idx, r in enumerate(rows):
    |

E501 Line too long (90 > 88)
   --> freecad/SquatchCut/core/nesting.py:508:89
    |
506 | ) -> list[PlacedPart]:
507 |     """
508 |     Entry that runs the default shelf-based nesting across the supplied sheet definitions.
    |                                                                                         ^^
509 |     """
510 |     # Standard shelf nesting already respects explicit job sheets via sheet_definitions.
    |

E501 Line too long (89 > 88)
   --> freecad/SquatchCut/core/nesting.py:581:89
    |
579 |     if current_sheet_width <= 0 or current_sheet_height <= 0:
580 |         return []
581 |     usable_width, usable_height = _usable_dims(current_sheet_width, current_sheet_height)
    |                                                                                         ^
582 |
583 |     remaining: list[Part] = sorted(
    |

E501 Line too long (103 > 88)
   --> freecad/SquatchCut/core/nesting.py:613:89
    |
611 |                     if current_x + w + spacing > current_sheet_width - margin + 1e-6:
612 |                         continue
613 |                     if current_y + max(row_height, h) + spacing > current_sheet_height - margin + 1e-6:
    |                                                                                         ^^^^^^^^^^^^^^^
614 |                         continue
615 |                     candidate_idx = idx
    |

E501 Line too long (97 > 88)
   --> freecad/SquatchCut/core/nesting.py:648:89
    |
646 |             sheet_index += 1
647 |             current_sheet_width, current_sheet_height = _sheet_dimensions(sheet_index)
648 |             usable_width, usable_height = _usable_dims(current_sheet_width, current_sheet_height)
    |                                                                                         ^^^^^^^^^
649 |             current_y = margin
650 |             continue
    |

E501 Line too long (97 > 88)
   --> freecad/SquatchCut/core/nesting.py:658:89
    |
656 |             sheet_index += 1
657 |             current_sheet_width, current_sheet_height = _sheet_dimensions(sheet_index)
658 |             usable_width, usable_height = _usable_dims(current_sheet_width, current_sheet_height)
    |                                                                                         ^^^^^^^^^
659 |             current_y = margin
    |

E501 Line too long (89 > 88)
   --> freecad/SquatchCut/core/nesting.py:676:89
    |
674 |     - Sort parts by width descending (treat X as rip direction).
675 |     - Build vertical lanes; each lane has thickness = max width of its parts.
676 |     - Within a lane, stack parts along Y until height is exceeded, then start a new lane.
    |                                                                                         ^
677 |     - If a lane won't fit on the current sheet, start a new sheet.
678 |     """
    |

E501 Line too long (89 > 88)
   --> freecad/SquatchCut/core/nesting.py:725:89
    |
723 |         lane_parts = [seed]
724 |
725 |         # Collect parts that can fit within this lane width (allow rotation if permitted)
    |                                                                                         ^
726 |         fitted = []
727 |         for p in list(remaining):
    |

E501 Line too long (105 > 88)
   --> freecad/SquatchCut/core/nesting.py:736:89
    |
735 |         # Sort lane parts by height descending for stacking
736 |         lane_parts.sort(key=lambda p: max(p.height, p.width if p.can_rotate else p.height), reverse=True)
    |                                                                                         ^^^^^^^^^^^^^^^^^
737 |
738 |         current_y = margin
    |

E501 Line too long (91 > 88)
   --> freecad/SquatchCut/core/nesting.py:813:89
    |
811 |         )
812 |     if getattr(cfg, "nesting_mode", "pack") == "cut_friendly":
813 |         return _nest_cut_friendly(parts, sheet_width, sheet_height, cfg, sheet_sizes=sizes)
    |                                                                                         ^^^
814 |     return _nest_rectangular_default(parts, sheet_width, sheet_height, cfg, sheet_sizes=sizes if sizes else None)
    |

E501 Line too long (113 > 88)
   --> freecad/SquatchCut/core/nesting.py:814:89
    |
812 |     if getattr(cfg, "nesting_mode", "pack") == "cut_friendly":
813 |         return _nest_cut_friendly(parts, sheet_width, sheet_height, cfg, sheet_sizes=sizes)
814 |     return _nest_rectangular_default(parts, sheet_width, sheet_height, cfg, sheet_sizes=sizes if sizes else None)
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^
    |

E501 Line too long (97 > 88)
   --> freecad/SquatchCut/core/nesting.py:825:89
    |
823 |     Approximate saw cut counts by collecting unique vertical and horizontal cut lines.
824 |
825 |     - Vertical cuts are inferred from x boundaries of placed parts (and sheet edges if provided).
    |                                                                                         ^^^^^^^^^
826 |     - Horizontal cuts use y boundaries of placed parts (and sheet edges if provided).
827 |     """
    |

E501 Line too long (103 > 88)
   --> freecad/SquatchCut/core/nesting.py:865:89
    |
863 |     fallback_width, fallback_height = sheet_sizes[0]
864 |     for pp in placements:
865 |         sw, sh = resolve_sheet_dimensions(sheet_sizes, pp.sheet_index, fallback_width, fallback_height)
    |                                                                                         ^^^^^^^^^^^^^^^
866 |         vertical.add(0.0)
867 |         vertical.add(float(sw))
    |

E501 Line too long (106 > 88)
   --> freecad/SquatchCut/core/nesting.py:887:89
    |
885 |     """
886 |     Compute basic material utilization metrics for a set of placements.
887 |     Returns: {"utilization_percent": float, "sheets_used": int, "placed_area": float, "sheet_area": float}
    |                                                                                         ^^^^^^^^^^^^^^^^^^
888 |     """
889 |     if not placements or sheet_width <= 0 or sheet_height <= 0:
    |

E501 Line too long (100 > 88)
   --> freecad/SquatchCut/core/nesting.py:890:89
    |
888 |     """
889 |     if not placements or sheet_width <= 0 or sheet_height <= 0:
890 |         return {"utilization_percent": 0.0, "sheets_used": 0, "placed_area": 0.0, "sheet_area": 0.0}
    |                                                                                         ^^^^^^^^^^^^
891 |
892 |     sheets_used = max(pp.sheet_index for pp in placements) + 1
    |

E501 Line too long (100 > 88)
   --> freecad/SquatchCut/core/nesting.py:910:89
    |
908 | ) -> dict:
909 |     if not placements or not sheet_sizes:
910 |         return {"utilization_percent": 0.0, "sheets_used": 0, "placed_area": 0.0, "sheet_area": 0.0}
    |                                                                                         ^^^^^^^^^^^^
911 |     fallback_width, fallback_height = sheet_sizes[0]
912 |     used_sheet_indices = {pp.sheet_index for pp in placements}
    |

E501 Line too long (100 > 88)
   --> freecad/SquatchCut/core/nesting.py:915:89
    |
913 |     total_sheet_area = 0.0
914 |     for sheet_index in used_sheet_indices:
915 |         sw, sh = resolve_sheet_dimensions(sheet_sizes, sheet_index, fallback_width, fallback_height)
    |                                                                                         ^^^^^^^^^^^^
916 |         total_sheet_area += sw * sh
917 |     placed_area = sum(pp.width * pp.height for pp in placements)
    |

E501 Line too long (92 > 88)
   --> freecad/SquatchCut/core/nesting.py:918:89
    |
916 |         total_sheet_area += sw * sh
917 |     placed_area = sum(pp.width * pp.height for pp in placements)
918 |     util_percent = (placed_area / total_sheet_area) * 100.0 if total_sheet_area > 0 else 0.0
    |                                                                                         ^^^^
919 |     return {
920 |         "utilization_percent": util_percent,
    |

E501 Line too long (125 > 88)
 --> freecad/SquatchCut/core/nesting_engine.py:3:89
  |
1 | """@codex
2 | Module: Single-sheet rectangular nesting engine for SquatchCut.
3 | Boundaries: Do not handle multi-sheet allocation, CSV I/O, or geometry output; focus only on placing panels within one sheet.
  |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
4 | Primary methods: place_panels, _init_state, _place_panel, _finalize_placements.
5 | Note: Update incrementally; do not overwrite this module when adding logic.
  |

E501 Line too long (92 > 88)
  --> freecad/SquatchCut/core/nesting_engine.py:47:89
   |
45 |         """Simple skyline/guillotine-style nesting for one sheet."""
46 |         free_rectangles = [
47 |             {"x": 0.0, "y": 0.0, "width": float(sheet_width), "height": float(sheet_height)}
   |                                                                                         ^^^^
48 |         ]
49 |         placements: list[dict] = []
   |

E501 Line too long (104 > 88)
  --> freecad/SquatchCut/core/nesting_engine.py:53:89
   |
52 |         sorted_panels = sorted(
53 |             panels, key=lambda p: max(float(p.get("width", 0)), float(p.get("height", 0))), reverse=True
   |                                                                                         ^^^^^^^^^^^^^^^^
54 |         )
   |

E501 Line too long (97 > 88)
  --> freecad/SquatchCut/core/nesting_engine.py:86:89
   |
84 |         best = min(
85 |             candidates,
86 |             key=lambda c: free_rectangles[c[0][2]]["width"] * free_rectangles[c[0][2]]["height"],
   |                                                                                         ^^^^^^^^^
87 |         )
88 |         (x, y, rect_index), rotation, used_w, used_h = best
   |

E501 Line too long (101 > 88)
  --> freecad/SquatchCut/core/nesting_engine.py:96:89
   |
94 |         if right_w > 0:
95 |             free_rectangles.append(
96 |                 {"x": rect["x"] + used_w, "y": rect["y"], "width": right_w, "height": rect["height"]}
   |                                                                                         ^^^^^^^^^^^^^
97 |             )
98 |         if top_h > 0:
   |

E501 Line too long (98 > 88)
   --> freecad/SquatchCut/core/nesting_engine.py:100:89
    |
 98 |         if top_h > 0:
 99 |             free_rectangles.append(
100 |                 {"x": rect["x"], "y": rect["y"] + used_h, "width": rect["width"], "height": top_h}
    |                                                                                         ^^^^^^^^^^
101 |             )
    |

E501 Line too long (100 > 88)
   --> freecad/SquatchCut/core/nesting_engine.py:130:89
    |
130 | def compute_layout(panels, sheet_width, sheet_height, kerf=0.0, allow_rotation=True, max_sheets=50):
    |                                                                                         ^^^^^^^^^^^^
131 |     """
132 |     Compute a simple shelf-style layout for the provided panels.
    |

E501 Line too long (97 > 88)
  --> freecad/SquatchCut/core/preferences.py:58:89
   |
56 |         return has_w and has_h
57 |
58 |     def _set_metric_defaults(self, width_mm: float, height_mm: float, mark: bool = True) -> None:
   |                                                                                         ^^^^^^^^^
59 |         self._set_float(self.METRIC_WIDTH_KEY, width_mm)
60 |         self._set_float(self.METRIC_HEIGHT_KEY, height_mm)
   |

E501 Line too long (99 > 88)
  --> freecad/SquatchCut/core/preferences.py:64:89
   |
62 |             self._mark_sheet_defaults("metric")
63 |
64 |     def _set_imperial_defaults(self, width_in: float, height_in: float, mark: bool = True) -> None:
   |                                                                                         ^^^^^^^^^^^
65 |         self._set_float(self.IMPERIAL_WIDTH_KEY, width_in)
66 |         self._set_float(self.IMPERIAL_HEIGHT_KEY, height_in)
   |

E501 Line too long (91 > 88)
  --> freecad/SquatchCut/core/preferences.py:75:89
   |
73 |             imperial_exists = self._imperial_defaults_exist()
74 |             if metric_exists and not imperial_exists:
75 |                 width_mm = self._float(self.METRIC_WIDTH_KEY, self.METRIC_DEFAULT_WIDTH_MM)
   |                                                                                         ^^^
76 |                 height_mm = self._float(self.METRIC_HEIGHT_KEY, self.METRIC_DEFAULT_HEIGHT_MM)
77 |                 self._set_imperial_defaults(mm_to_inches(width_mm), mm_to_inches(height_mm), mark=False)
   |

E501 Line too long (94 > 88)
  --> freecad/SquatchCut/core/preferences.py:76:89
   |
74 |             if metric_exists and not imperial_exists:
75 |                 width_mm = self._float(self.METRIC_WIDTH_KEY, self.METRIC_DEFAULT_WIDTH_MM)
76 |                 height_mm = self._float(self.METRIC_HEIGHT_KEY, self.METRIC_DEFAULT_HEIGHT_MM)
   |                                                                                         ^^^^^^
77 |                 self._set_imperial_defaults(mm_to_inches(width_mm), mm_to_inches(height_mm), mark=False)
78 |             elif imperial_exists and not metric_exists:
   |

E501 Line too long (104 > 88)
  --> freecad/SquatchCut/core/preferences.py:77:89
   |
75 |                 width_mm = self._float(self.METRIC_WIDTH_KEY, self.METRIC_DEFAULT_WIDTH_MM)
76 |                 height_mm = self._float(self.METRIC_HEIGHT_KEY, self.METRIC_DEFAULT_HEIGHT_MM)
77 |                 self._set_imperial_defaults(mm_to_inches(width_mm), mm_to_inches(height_mm), mark=False)
   |                                                                                         ^^^^^^^^^^^^^^^^
78 |             elif imperial_exists and not metric_exists:
79 |                 width_in = self._float(self.IMPERIAL_WIDTH_KEY, self.IMPERIAL_DEFAULT_WIDTH_IN)
   |

E501 Line too long (95 > 88)
  --> freecad/SquatchCut/core/preferences.py:79:89
   |
77 |                 self._set_imperial_defaults(mm_to_inches(width_mm), mm_to_inches(height_mm), mark=False)
78 |             elif imperial_exists and not metric_exists:
79 |                 width_in = self._float(self.IMPERIAL_WIDTH_KEY, self.IMPERIAL_DEFAULT_WIDTH_IN)
   |                                                                                         ^^^^^^^
80 |                 height_in = self._float(self.IMPERIAL_HEIGHT_KEY, self.IMPERIAL_DEFAULT_HEIGHT_IN)
81 |                 self._set_metric_defaults(inches_to_mm(width_in), inches_to_mm(height_in), mark=False)
   |

E501 Line too long (98 > 88)
  --> freecad/SquatchCut/core/preferences.py:80:89
   |
78 |             elif imperial_exists and not metric_exists:
79 |                 width_in = self._float(self.IMPERIAL_WIDTH_KEY, self.IMPERIAL_DEFAULT_WIDTH_IN)
80 |                 height_in = self._float(self.IMPERIAL_HEIGHT_KEY, self.IMPERIAL_DEFAULT_HEIGHT_IN)
   |                                                                                         ^^^^^^^^^^
81 |                 self._set_metric_defaults(inches_to_mm(width_in), inches_to_mm(height_in), mark=False)
82 |             self._set_bool(self.SEPARATE_DEFAULTS_MIGRATED_KEY, True)
   |

E501 Line too long (102 > 88)
  --> freecad/SquatchCut/core/preferences.py:81:89
   |
79 |                 width_in = self._float(self.IMPERIAL_WIDTH_KEY, self.IMPERIAL_DEFAULT_WIDTH_IN)
80 |                 height_in = self._float(self.IMPERIAL_HEIGHT_KEY, self.IMPERIAL_DEFAULT_HEIGHT_IN)
81 |                 self._set_metric_defaults(inches_to_mm(width_in), inches_to_mm(height_in), mark=False)
   |                                                                                         ^^^^^^^^^^^^^^
82 |             self._set_bool(self.SEPARATE_DEFAULTS_MIGRATED_KEY, True)
   |

E501 Line too long (98 > 88)
  --> freecad/SquatchCut/core/preferences.py:96:89
   |
94 |         imperial_exists = self._imperial_defaults_exist()
95 |         if not metric_exists:
96 |             self._set_metric_defaults(self.METRIC_DEFAULT_WIDTH_MM, self.METRIC_DEFAULT_HEIGHT_MM)
   |                                                                                         ^^^^^^^^^^
97 |         if not imperial_exists:
98 |             self._set_imperial_defaults(self.IMPERIAL_DEFAULT_WIDTH_IN, self.IMPERIAL_DEFAULT_HEIGHT_IN)
   |

E501 Line too long (104 > 88)
   --> freecad/SquatchCut/core/preferences.py:98:89
    |
 96 |             self._set_metric_defaults(self.METRIC_DEFAULT_WIDTH_MM, self.METRIC_DEFAULT_HEIGHT_MM)
 97 |         if not imperial_exists:
 98 |             self._set_imperial_defaults(self.IMPERIAL_DEFAULT_WIDTH_IN, self.IMPERIAL_DEFAULT_HEIGHT_IN)
    |                                                                                         ^^^^^^^^^^^^^^^^
 99 |
100 |     def _float(self, key: str, fallback: float) -> float:
    |

E501 Line too long (96 > 88)
   --> freecad/SquatchCut/core/preferences.py:269:89
    |
267 |         return mm_to_inches(width_mm), mm_to_inches(height_mm)
268 |
269 |     def get_default_spacing_mm(self, fallback: float = 0.0, system: str | None = None) -> float:
    |                                                                                         ^^^^^^^^
270 |         """
271 |         Return default spacing in mm.
    |

E501 Line too long (94 > 88)
   --> freecad/SquatchCut/core/preferences.py:276:89
    |
274 |         sys = system or self.get_measurement_system()
275 |         if sys == "imperial":
276 |              val_in = self._float(self.IMPERIAL_SPACING_KEY, self.IMPERIAL_DEFAULT_SPACING_IN)
    |                                                                                         ^^^^^^
277 |              return inches_to_mm(val_in)
278 |         return self._float(self.METRIC_SPACING_KEY, fallback or self.METRIC_DEFAULT_SPACING_MM)
    |

E501 Line too long (95 > 88)
   --> freecad/SquatchCut/core/preferences.py:278:89
    |
276 |              val_in = self._float(self.IMPERIAL_SPACING_KEY, self.IMPERIAL_DEFAULT_SPACING_IN)
277 |              return inches_to_mm(val_in)
278 |         return self._float(self.METRIC_SPACING_KEY, fallback or self.METRIC_DEFAULT_SPACING_MM)
    |                                                                                         ^^^^^^^
279 |
280 |     def set_default_spacing_mm(self, value: float, system: str | None = None) -> None:
    |

E501 Line too long (105 > 88)
 --> freecad/SquatchCut/core/report_generator.py:3:89
  |
1 | """@codex
2 | Module: Report generation utilities for SquatchCut nesting results.
3 | Boundaries: Do not generate geometry or perform nesting; only summarize sheets and write PDF/CSV outputs.
  |                                                                                         ^^^^^^^^^^^^^^^^^
4 | Primary methods: build_pdf, build_csv, _summarize, _write_pdf, _write_csv.
5 | Note: Update incrementally; do not overwrite this module when adding logic.
  |

E501 Line too long (148 > 88)
  --> freecad/SquatchCut/core/report_generator.py:95:89
   |
93 | …ements", []):
94 | …
95 | …('panel_id')} at ({placement.get('x')}, {placement.get('y')}) rot {placement.get('rotation')}\n"
   |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
96 | …
97 | …
   |

E501 Line too long (118 > 88)
   --> freecad/SquatchCut/core/report_generator.py:105:89
    |
103 |         text.textLine(f"Total panels: {summary.get('total_panels', 0)}")
104 |         text.textLine(
105 |             f"Efficiency: {summary.get('efficiency_percent', 0):.2f}% | Waste: {summary.get('waste_percent', 0):.2f}%"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
106 |         )
107 |         text.textLine("")
    |

E501 Line too long (103 > 88)
   --> freecad/SquatchCut/core/report_generator.py:114:89
    |
112 |                     f"  Panel {placement.get('panel_id')} "
113 |                     f"({placement.get('width', '')}x{placement.get('height', '')}) "
114 |                     f"at ({placement.get('x')}, {placement.get('y')}), rot {placement.get('rotation')}"
    |                                                                                         ^^^^^^^^^^^^^^^
115 |                 )
116 |                 text.textLine(line)
    |

E501 Line too long (112 > 88)
  --> freecad/SquatchCut/core/session.py:45:89
   |
43 |     if not text:
44 |         return DEFAULT_MEASUREMENT_SYSTEM
45 |     if any(token in text for token in ("imperial", "inch", "us customary", "in/lb", "ft/in", "ft-in", "us-in")):
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^
46 |         return "imperial"
47 |     if any(token in text for token in ("metric", "millimeter", "mm", "si", "mks")):
   |

E501 Line too long (111 > 88)
   --> freecad/SquatchCut/core/session.py:187:89
    |
186 | def clear_nested_layout(doc=None):
187 |     """Clear only the nested layout artifacts (sheet outlines and nested group) while keeping source panels."""
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^
188 |     resolved = _resolve_doc(doc)
189 |     if resolved is None:
    |

E501 Line too long (89 > 88)
   --> freecad/SquatchCut/core/session.py:291:89
    |
289 |         pass
290 |     try:
291 |         doc.SquatchCutDefaultAllowRotate = bool(session_state.get_default_allow_rotate())
    |                                                                                         ^
292 |     except Exception:
293 |         pass
    |

E501 Line too long (100 > 88)
   --> freecad/SquatchCut/core/session.py:304:89
    |
302 |     Ensure the active document has the SquatchCut settings properties.
303 |     """
304 |     normalized_system = measurement_system if measurement_system in ("metric", "imperial") else None
    |                                                                                         ^^^^^^^^^^^^
305 |     if normalized_system is None:
306 |         normalized_system = detect_document_measurement_system(doc) or "metric"
    |

E501 Line too long (101 > 88)
   --> freecad/SquatchCut/core/session.py:307:89
    |
305 |     if normalized_system is None:
306 |         normalized_system = detect_document_measurement_system(doc) or "metric"
307 |     fallback_width, fallback_height = sheet_presets.get_factory_default_sheet_size(normalized_system)
    |                                                                                         ^^^^^^^^^^^^^
308 |     if default_sheet_mm:
309 |         default_width = float(default_sheet_mm[0]) if default_sheet_mm[0] is not None else fallback_width
    |

E501 Line too long (105 > 88)
   --> freecad/SquatchCut/core/session.py:309:89
    |
307 |     fallback_width, fallback_height = sheet_presets.get_factory_default_sheet_size(normalized_system)
308 |     if default_sheet_mm:
309 |         default_width = float(default_sheet_mm[0]) if default_sheet_mm[0] is not None else fallback_width
    |                                                                                         ^^^^^^^^^^^^^^^^^
310 |         default_height = float(default_sheet_mm[1]) if default_sheet_mm[1] is not None else fallback_height
311 |     else:
    |

E501 Line too long (107 > 88)
   --> freecad/SquatchCut/core/session.py:310:89
    |
308 |     if default_sheet_mm:
309 |         default_width = float(default_sheet_mm[0]) if default_sheet_mm[0] is not None else fallback_width
310 |         default_height = float(default_sheet_mm[1]) if default_sheet_mm[1] is not None else fallback_height
    |                                                                                         ^^^^^^^^^^^^^^^^^^^
311 |     else:
312 |         default_width, default_height = fallback_width, fallback_height
    |

E501 Line too long (134 > 88)
   --> freecad/SquatchCut/core/session.py:434:89
    |
432 |     Useful if state was changed directly.
433 |     """
434 |     normalized_system = measurement_system if measurement_system in ("metric", "imperial") else session_state.get_measurement_system()
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
435 |     ensure_doc_settings(doc, normalized_system)
    |

E501 Line too long (98 > 88)
   --> freecad/SquatchCut/core/session_state.py:126:89
    |
126 | def add_job_sheet(width_mm: float, height_mm: float, quantity: int = 1, label: str | None = None):
    |                                                                                         ^^^^^^^^^^
127 |     """Append a new sheet definition."""
128 |     global _job_sheets
    |

E501 Line too long (92 > 88)
   --> freecad/SquatchCut/core/session_state.py:130:89
    |
128 |     global _job_sheets
129 |     entry = _normalize_sheet_entry(
130 |         {"width_mm": width_mm, "height_mm": height_mm, "quantity": quantity, "label": label}
    |                                                                                         ^^^^
131 |     )
132 |     _job_sheets.append(entry)
    |

E501 Line too long (104 > 88)
   --> freecad/SquatchCut/core/session_state.py:338:89
    |
336 | def get_nesting_stats() -> dict:
337 |     """Return summary stats from the last nesting run."""
338 |     return dict(_nesting_stats or {"sheets_used": None, "cut_complexity": None, "overlaps_count": None})
    |                                                                                         ^^^^^^^^^^^^^^^^
    |

E501 Line too long (89 > 88)
 --> freecad/SquatchCut/core/shape_extractor.py:2:89
  |
1 | """@codex
2 | Module: Shape extraction utilities for building SquatchCut panels from FreeCAD documents.
  |                                                                                         ^
3 | Boundaries: Do not load CSV files or perform nesting optimization; only inspect FreeCAD shapes and convert to panel objects.
4 | Primary methods: scan_document, extract_bounding_boxes, to_panel_objects, apply_rotation_rules, filter_selection.
  |

E501 Line too long (124 > 88)
 --> freecad/SquatchCut/core/shape_extractor.py:3:89
  |
1 | """@codex
2 | Module: Shape extraction utilities for building SquatchCut panels from FreeCAD documents.
3 | Boundaries: Do not load CSV files or perform nesting optimization; only inspect FreeCAD shapes and convert to panel objects.
  |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
4 | Primary methods: scan_document, extract_bounding_boxes, to_panel_objects, apply_rotation_rules, filter_selection.
5 | Note: Update incrementally; do not overwrite this module when adding logic.
  |

E501 Line too long (113 > 88)
 --> freecad/SquatchCut/core/shape_extractor.py:4:89
  |
2 | Module: Shape extraction utilities for building SquatchCut panels from FreeCAD documents.
3 | Boundaries: Do not load CSV files or perform nesting optimization; only inspect FreeCAD shapes and convert to panel objects.
4 | Primary methods: scan_document, extract_bounding_boxes, to_panel_objects, apply_rotation_rules, filter_selection.
  |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^
5 | Note: Update incrementally; do not overwrite this module when adding logic.
6 | """
  |

E501 Line too long (100 > 88)
   --> freecad/SquatchCut/core/sheet_model.py:181:89
    |
179 | def build_sheet_boundaries(doc, sheet_sizes, spacing):
180 |     """
181 |     Create sheet boundary planes for each configured sheet size and return the objects plus offsets.
    |                                                                                         ^^^^^^^^^^^^
182 |     """
183 |     if doc is None:
    |

E501 Line too long (92 > 88)
   --> freecad/SquatchCut/core/sheet_model.py:219:89
    |
218 | def compute_sheet_spacing(sheet_sizes, gap_mm: float | None):
219 |     """Determine spacing between sheets based on gap or a proportion of the widest sheet."""
    |                                                                                         ^^^^
220 |     max_width = 0.0
221 |     for width, _ in sheet_sizes:
    |

E501 Line too long (91 > 88)
  --> freecad/SquatchCut/core/sheet_presets.py:60:89
   |
59 | def get_preset_entries(system: str) -> list[dict[str, object]]:
60 |     """Return combo entries that include a leading blank/None selection and preset data."""
   |                                                                                         ^^^
61 |     entries = [{"id": None, "label": "", "size": None, "nickname": None}]
62 |     for preset in get_presets_for_system(system):
   |

E501 Line too long (89 > 88)
  --> freecad/SquatchCut/core/sheet_presets.py:86:89
   |
84 | ) -> tuple[float, float]:
85 |     """
86 |     Choose the size to show when the tasks panel loads, preferring existing session data,
   |                                                                                         ^
87 |     then user defaults, and finally the factory defaults for the measurement system.
88 |     """
   |

E501 Line too long (93 > 88)
   --> freecad/SquatchCut/core/sheet_presets.py:104:89
    |
102 |     tolerance_mm: float = DEFAULT_MATCH_TOLERANCE_MM,
103 | ) -> dict[str, object] | None:
104 |     """Return the matching preset for the system if the dimensions match within tolerance."""
    |                                                                                         ^^^^^
105 |     if width_mm is None or height_mm is None:
106 |         return None
    |

E501 Line too long (95 > 88)
   --> freecad/SquatchCut/core/sheet_presets.py:119:89
    |
118 | def apply_preset(system: str, preset_id: str) -> tuple[float, float] | None:
119 |     """Return the width/height for the preset identified by `preset_id` in the given system."""
    |                                                                                         ^^^^^^^
120 |     normalized = _normalize_measurement_system(system)
121 |     presets = PRESETS_BY_SYSTEM.get(normalized, PRESETS_BY_SYSTEM["metric"])
    |

E501 Line too long (100 > 88)
  --> freecad/SquatchCut/core/text_helpers.py:49:89
   |
47 |     placement = _placement(_vector(x, y, z))
48 |     if placement is None:
49 |         logger.warning(f"[SquatchCut] Screen text creation failed: invalid placement for '{label}'")
   |                                                                                         ^^^^^^^^^^^^
50 |         return None
51 |     strings = [str(label)]
   |

E501 Line too long (102 > 88)
  --> freecad/SquatchCut/core/text_helpers.py:91:89
   |
89 |         resource_dir = ""
90 |     if resource_dir:
91 |         default_font = os.path.join(resource_dir, "Mod", "Draft", "Resources", "Fonts", "default.svg")
   |                                                                                         ^^^^^^^^^^^^^^
92 |         if os.path.exists(default_font):
93 |             return default_font
   |

E501 Line too long (105 > 88)
   --> freecad/SquatchCut/core/text_helpers.py:114:89
    |
112 |     global _FONT_WARNING_EMITTED
113 |     if not font_file and not _FONT_WARNING_EMITTED:
114 |         logger.warning("[SquatchCut] No Draft font configured; using FreeCAD default font for SVG text.")
    |                                                                                         ^^^^^^^^^^^^^^^^^
115 |         _FONT_WARNING_EMITTED = True
116 |     size_mm = float(size) if size is not None and size > 0 else 10.0
    |

E501 Line too long (92 > 88)
   --> freecad/SquatchCut/core/units.py:112:89
    |
110 | def parse_imperial_inches(text: str) -> float:
111 |     """
112 |     Parse imperial strings like "48", "48.5", "3/4", "48 3/4", "48-3/4" into inches (float).
    |                                                                                         ^^^^
113 |
114 |     Raises ValueError on invalid input.
    |

E501 Line too long (89 > 88)
   --> freecad/SquatchCut/core/units.py:121:89
    |
120 |     # Regex strict pattern:
121 |     # 1. Whole number (optional decimal) followed optionally by a fraction (mixed number)
    |                                                                                         ^
122 |     # 2. Or just a fraction
123 |     # The mixed number part allows separator of space or dash (with optional surrounding spaces)
    |

E501 Line too long (96 > 88)
   --> freecad/SquatchCut/core/units.py:123:89
    |
121 |     # 1. Whole number (optional decimal) followed optionally by a fraction (mixed number)
122 |     # 2. Or just a fraction
123 |     # The mixed number part allows separator of space or dash (with optional surrounding spaces)
    |                                                                                         ^^^^^^^^
124 |     pattern = re.compile(r"""
125 |         ^
    |

E501 Line too long (97 > 88)
   --> freecad/SquatchCut/core/units.py:127:89
    |
125 |         ^
126 |         (?:
127 |             (?P<whole>(?:\d+(?:\.\d*)?|\.\d+)) # Whole number (int or float, e.g. 5, 5., .5, 5.5)
    |                                                                                         ^^^^^^^^^
128 |             (?:
129 |                 \s*[- ]\s*                    # Separator: dash or space
    |

E501 Line too long (92 > 88)
   --> freecad/SquatchCut/core/units.py:158:89
    |
156 |         den = float(den_str)
157 |         if den == 0:
158 |             raise ValueError(f"Invalid imperial length format: '{text}' (division by zero)")
    |                                                                                         ^^^^
159 |         val += float(num_str) / den
    |

E501 Line too long (113 > 88)
   --> freecad/SquatchCut/core/units.py:206:89
    |
206 | def format_length(value_mm: float, measurement_system: str, max_denominator: int = 16, decimals: int = 3) -> str:
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^
207 |     """
208 |     Format a millimeter value for display in the requested measurement system.
    |

E501 Line too long (112 > 88)
   --> freecad/SquatchCut/core/units.py:249:89
    |
247 |         return f"{width_in} x {height_in} in"
248 |     # Metric path
249 |     metric_pair = f"{format_metric_length(width_mm, decimals)} x {format_metric_length(height_mm, decimals)} mm"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^
250 |     return metric_pair
    |

E501 Line too long (93 > 88)
  --> freecad/SquatchCut/core/view_controller.py:53:89
   |
51 |     if any(removed_counts.values()):
52 |         logger.info(
53 |             ">>> [SquatchCut] Cleared SquatchCut groups (sheets=%s, nested=%s, sources=%s).",
   |                                                                                         ^^^^^
54 |             removed_counts["sheets"],
55 |             removed_counts["nested"],
   |

E501 Line too long (90 > 88)
   --> freecad/SquatchCut/core/view_controller.py:324:89
    |
322 |     set_squatchcut_group_visibility(resolved_doc, SOURCE_GROUP_NAME)
323 |     count = len(created or getattr(group, "Group", []))
324 |     logger.info(f">>> [SquatchCut] View: showing source geometry only ({count} objects).")
    |                                                                                         ^^
325 |     view = _resolve_view()
326 |     auto_zoom_to_group(view, group)
    |

E501 Line too long (96 > 88)
   --> freecad/SquatchCut/freecad_integration.py:122:89
    |
120 |         hydrate_from_params()
121 |     except Exception as exc:  # pragma: no cover - best-effort bootstrap
122 |         _print_console(f"[SquatchCut][WARN] Failed to hydrate settings: {exc}", level="warning")
    |                                                                                         ^^^^^^^^
    |

E501 Line too long (113 > 88)
   --> freecad/SquatchCut/freecad_integration.py:144:89
    |
143 |     try:
144 |         _print_console(f"[SquatchCut][DEBUG] cmd_import_csv loaded from: {cmd_import_csv.__file__}", level="log")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^
145 |     except Exception:
146 |         pass
    |

E501 Line too long (96 > 88)
   --> freecad/SquatchCut/freecad_integration.py:155:89
    |
153 |     Gui.addCommand("SquatchCut_SetSheetSize", cmd_set_sheet_size.COMMAND)
154 |     Gui.addCommand("SquatchCut_RunNesting", cmd_run_nesting.COMMAND)
155 |     Gui.addCommand("SquatchCut_ToggleSourcePanels", cmd_run_nesting.ToggleSourcePanelsCommand())
    |                                                                                         ^^^^^^^^
156 |     Gui.addCommand("SquatchCut_ExportNestingCSV", cmd_run_nesting.ExportNestingCSVCommand())
157 |     Gui.addCommand("SquatchCut_ExportReport", cmd_export_report.COMMAND)
    |

E501 Line too long (92 > 88)
   --> freecad/SquatchCut/freecad_integration.py:156:89
    |
154 |     Gui.addCommand("SquatchCut_RunNesting", cmd_run_nesting.COMMAND)
155 |     Gui.addCommand("SquatchCut_ToggleSourcePanels", cmd_run_nesting.ToggleSourcePanelsCommand())
156 |     Gui.addCommand("SquatchCut_ExportNestingCSV", cmd_run_nesting.ExportNestingCSVCommand())
    |                                                                                         ^^^^
157 |     Gui.addCommand("SquatchCut_ExportReport", cmd_export_report.COMMAND)
158 |     Gui.addCommand("SquatchCut_Preferences", cmd_preferences.COMMAND)
    |

E501 Line too long (101 > 88)
   --> freecad/SquatchCut/freecad_integration.py:170:89
    |
169 |     MenuText = "SquatchCut"
170 |     ToolTip = "SquatchCut: CSV-driven sheet nesting and panel optimization (Beta – work in progress)"
    |                                                                                         ^^^^^^^^^^^^^
171 |
172 |     try:
    |

E501 Line too long (98 > 88)
   --> freecad/SquatchCut/freecad_integration.py:176:89
    |
174 |     except Exception:
175 |         try:
176 |             _icon_root = os.path.dirname(os.path.abspath(inspect.getfile(inspect.currentframe())))  # type: ignore
    |                                                                                         ^^^^^^^^^^
177 |         except Exception:
178 |             _icon_root = os.getcwd()
    |

E501 Line too long (120 > 88)
   --> freecad/SquatchCut/freecad_integration.py:185:89
    |
183 |         global _initialized
184 |         if _initialized:
185 |             _print_console("[SquatchCut][DEBUG] Initialize() already ran; skipping duplicate registration", level="log")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
186 |             return
187 |         _initialized = True
    |

E501 Line too long (106 > 88)
   --> freecad/SquatchCut/freecad_integration.py:194:89
    |
193 |         if Gui:
194 |             primary_commands = ["SquatchCut_ShowTaskPanel", "SquatchCut_Settings", "SquatchCut_ResetView"]
    |                                                                                         ^^^^^^^^^^^^^^^^^^
195 |             try:
196 |                 self.appendToolbar("SquatchCut", primary_commands)
    |

E501 Line too long (113 > 88)
   --> freecad/SquatchCut/freecad_integration.py:225:89
    |
223 |     """Register the SquatchCut workbench with FreeCAD."""
224 |     if Gui is None:
225 |         _print_console("[SquatchCut][WARN] FreeCADGui not available; workbench not registered.", level="warning")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^
226 |         return None
    |

E501 Line too long (103 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_add_shapes.py:9:89
   |
 7 | # @codex
 8 | # Command: Trigger the Select Shapes dialog to collect panels from the active document.
 9 | # Interactions: Should open SC_SelectShapesDialog and forward selections to core shape_extractor logic.
   |                                                                                         ^^^^^^^^^^^^^^^
10 | # Note: Preserve FreeCAD command structure (GetResources, Activated, IsActive).
11 | from SquatchCut.freecad_integration import App, Gui, Part
   |

E501 Line too long (102 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_add_shapes.py:31:89
   |
29 |                 from SquatchCut.core import logger
30 |
31 |                 logger.warning("AddShapesCommand.Activated() called outside FreeCAD GUI environment.")
   |                                                                                         ^^^^^^^^^^^^^^
32 |             except Exception:
33 |                 pass
   |

E501 Line too long (90 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_add_shapes.py:87:89
   |
85 |                             "SquatchCutCanRotate",
86 |                             "SquatchCut",
87 |                             "Whether this panel may be rotated 90 degrees during nesting",
   |                                                                                         ^^
88 |                         )
89 |                     obj.SquatchCutCanRotate = allow_rotate
   |

E501 Line too long (108 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_export_report.py:37:89
   |
35 |                 from SquatchCut.core import logger
36 |
37 |                 logger.warning("SC_ExportReportCommand.Activated() called outside FreeCAD GUI environment.")
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^
38 |             except Exception:
39 |                 pass
   |

E501 Line too long (92 > 88)
 --> freecad/SquatchCut/gui/commands/cmd_import_csv.py:7:89
  |
5 | # @codex
6 | # Command: Open the CSV import dialog to load panels.
7 | # Interactions: Should invoke SC_CSVImportDialog and hand validated rows to core csv_import.
  |                                                                                         ^^^^
8 | # Note: Preserve FreeCAD command structure (GetResources, Activated, IsActive).
9 | from SquatchCut.core.csv_import import validate_csv_file
  |

E501 Line too long (101 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_import_csv.py:99:89
    |
 97 |         return {
 98 |             "MenuText": "Import Parts",
 99 |             "ToolTip": "Import rectangular parts from a CSV into the SquatchCut Source Parts group.",
    |                                                                                         ^^^^^^^^^^^^^
100 |             "Pixmap": get_icon("import_csv"),
101 |         }
    |

E501 Line too long (102 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_import_csv.py:110:89
    |
108 |         if App is None or Gui is None:
109 |             try:
110 |                 logger.warning("ImportCSVCommand.Activated() called outside FreeCAD GUI environment.")
    |                                                                                         ^^^^^^^^^^^^^^
111 |             except Exception:
112 |                 pass
    |

E501 Line too long (102 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_import_csv.py:169:89
    |
168 |     # Programmatic import helper to bypass dialogs (used by GUI tests)
169 |     def import_from_path(self, csv_path: str, units: str | None = None, csv_units: str | None = None):
    |                                                                                         ^^^^^^^^^^^^^^
170 |         if App is None:
171 |             raise RuntimeError("FreeCAD App module not available for import_from_path.")
    |

E501 Line too long (109 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_main_ui.py:38:89
   |
36 |         if App is None or Gui is None:
37 |             try:
38 |                 logger.warning("SquatchCutMainUICommand.Activated() called outside FreeCAD GUI environment.")
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^
39 |             except Exception:
40 |                 pass
   |

E501 Line too long (107 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_preferences.py:32:89
   |
30 |                 from SquatchCut.core import logger
31 |
32 |                 logger.warning("SC_PreferencesCommand.Activated() called outside FreeCAD GUI environment.")
   |                                                                                         ^^^^^^^^^^^^^^^^^^^
33 |             except Exception:
34 |                 pass
   |

E501 Line too long (96 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_reset_view.py:26:89
   |
24 |         return {
25 |             "MenuText": "Reset View",
26 |             "ToolTip": "Show the sheet and nested layout, hide source parts, and fit the view.",
   |                                                                                         ^^^^^^^^
27 |             "Pixmap": get_icon("main"),
28 |         }
   |

E501 Line too long (90 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_reset_view.py:46:89
   |
44 |             return
45 |
46 |         has_nested = nested_group is not None and bool(getattr(nested_group, "Group", []))
   |                                                                                         ^^
47 |         if has_nested:
48 |             show_nested_only(doc)
   |

E501 Line too long (91 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_run_gui_tests.py:39:89
   |
37 |             msg.setWindowTitle("SquatchCut GUI Tests")
38 |             msg.setIcon(QtWidgets.QMessageBox.Warning)
39 |             msg.setText("SquatchCut GUI tests failed to run. See Report view for details.")
   |                                                                                         ^^^
40 |             msg.exec_()
41 |             return
   |

E501 Line too long (100 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_run_gui_tests.py:48:89
   |
46 |         if passed == total:
47 |             msg.setIcon(QtWidgets.QMessageBox.Information)
48 |             msg.setText("SquatchCut GUI tests completed successfully. See report view for details.")
   |                                                                                         ^^^^^^^^^^^^
49 |         else:
50 |             msg.setIcon(QtWidgets.QMessageBox.Warning)
   |

E501 Line too long (101 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_run_gui_tests.py:51:89
   |
49 |         else:
50 |             msg.setIcon(QtWidgets.QMessageBox.Warning)
51 |             msg.setText("SquatchCut GUI tests completed with failures. See report view for details.")
   |                                                                                         ^^^^^^^^^^^^^
52 |         msg.setInformativeText(f"Passed: {passed}, Failed: {total - passed}")
53 |         msg.exec_()
   |

E501 Line too long (99 > 88)
 --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:3:89
  |
1 | """@codex
2 | FreeCAD command to run the SquatchCut nesting engine and create geometry.
3 | Primary user entry is via SquatchCut_ShowTaskPanel; this command remains for advanced/legacy flows.
  |                                                                                         ^^^^^^^^^^^
4 | """
  |

E501 Line too long (99 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:69:89
   |
67 |             "Pixmap": get_icon("run_nesting"),
68 |             "MenuText": "Nest Parts",
69 |             "ToolTip": "Run the SquatchCut nesting algorithm to place panels on the active sheet.",
   |                                                                                         ^^^^^^^^^^^
70 |         }
   |

E501 Line too long (89 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:94:89
   |
92 |         """
93 |         Return the current, live set of source panel objects from the document.
94 |         Falls back to the provided list (after filtering) if the document group is empty.
   |                                                                                         ^
95 |         """
96 |         live = []
   |

E501 Line too long (103 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:126:89
    |
124 |         if App is None or Gui is None:
125 |             try:
126 |                 logger.warning("RunNestingCommand.Activated() called outside FreeCAD GUI environment.")
    |                                                                                         ^^^^^^^^^^^^^^^
127 |             except Exception:
128 |                 pass
    |

E501 Line too long (91 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:147:89
    |
145 |             panel_objs = self._get_panel_objects()
146 |             if not panel_objs:
147 |                 logger.info("RunNestingCommand: no source panel objects; nothing to nest.")
    |                                                                                         ^^^
148 |                 return
    |

E501 Line too long (98 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:191:89
    |
189 |             source_group = doc.getObject("SquatchCut_SourceParts")
190 |             if source_group is None:
191 |                 source_group = doc.addObject("App::DocumentObjectGroup", "SquatchCut_SourceParts")
    |                                                                                         ^^^^^^^^^^
192 |
193 |             # Move original selected panel objects into the SourcePanels group
    |

E501 Line too long (93 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:203:89
    |
201 |                     valid_panel_objs.append(obj)
202 |                 except Exception:
203 |                     logger.warning("Skipping invalid panel object during nesting addObject.")
    |                                                                                         ^^^^^
204 |                     continue
205 |             if not valid_panel_objs:
    |

E501 Line too long (89 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:251:89
    |
249 |                     except Exception:
250 |                         can_rotate = False
251 |                 parts.append(Part(id=obj.Name, width=w, height=h, can_rotate=can_rotate))
    |                                                                                         ^
252 |
253 |             if not parts:
    |

E501 Line too long (99 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:257:89
    |
255 |                 return
256 |
257 |             usable_width, usable_height = get_usable_sheet_area(sheet_w, sheet_h, margin_mm=gap_mm)
    |                                                                                         ^^^^^^^^^^^
258 |             try:
259 |                 validate_parts_fit_sheet(parts, usable_width, usable_height)
    |

E501 Line too long (92 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:266:89
    |
264 |             sheet_mode = session_state.get_sheet_mode()
265 |             job_sheets = session_state.get_job_sheets()
266 |             sheet_definitions = get_effective_job_sheets_for_nesting(sheet_mode, job_sheets)
    |                                                                                         ^^^^
267 |             if sheet_mode == "job_sheets" and not sheet_definitions:
268 |                 show_error("No job sheets are defined. Add at least one sheet or switch back to simple mode.", title="SquatchCut")
    |

E501 Line too long (130 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:268:89
    |
266 |             sheet_definitions = get_effective_job_sheets_for_nesting(sheet_mode, job_sheets)
267 |             if sheet_mode == "job_sheets" and not sheet_definitions:
268 |                 show_error("No job sheets are defined. Add at least one sheet or switch back to simple mode.", title="SquatchCut")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
269 |                 self.validation_error = ValueError("Missing job sheets in advanced mode.")
270 |                 return
    |

E501 Line too long (90 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:269:89
    |
267 |             if sheet_mode == "job_sheets" and not sheet_definitions:
268 |                 show_error("No job sheets are defined. Add at least one sheet or switch back to simple mode.", title="SquatchCut")
269 |                 self.validation_error = ValueError("Missing job sheets in advanced mode.")
    |                                                                                         ^^
270 |                 return
271 |             sheet_sizes_override = expand_sheet_sizes(sheet_definitions or [])
    |

E501 Line too long (91 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:280:89
    |
278 |                     height = sheet.get("height_mm") or 0
279 |                     qty = sheet.get("quantity") or 1
280 |                     summary_parts.append(f"{label}={width:.1f}x{height:.1f}mm (qty {qty})")
    |                                                                                         ^^^
281 |                 logger.info(
282 |                     f">>> [SquatchCut] Advanced job sheets active with {total_instances} sheet instance(s): "
    |

E501 Line too long (109 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:282:89
    |
280 |                     summary_parts.append(f"{label}={width:.1f}x{height:.1f}mm (qty {qty})")
281 |                 logger.info(
282 |                     f">>> [SquatchCut] Advanced job sheets active with {total_instances} sheet instance(s): "
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^
283 |                     + "; ".join(summary_parts)
284 |                 )
    |

E501 Line too long (109 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:294:89
    |
292 |                         nesting_mode="cut_friendly",
293 |                     )
294 |                     placed_parts = nest_parts(parts, sheet_w, sheet_h, cfg, sheet_sizes=sheet_sizes_override)
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^
295 |                 elif opt_mode == "cuts":
296 |                     placed_parts = nest_cut_optimized(
    |

E501 Line too long (90 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:341:89
    |
340 |             logger.info(">>> [SquatchCut] Rebuilding nested layout view...")
341 |             logger.info(">>> [SquatchCut] RunNesting: cleaning up previous nested layout")
    |                                                                                         ^^
342 |             session.clear_nested_layout(doc)
343 |             sheet_sizes = derive_sheet_sizes_for_layout(
    |

E501 Line too long (122 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:372:89
    |
370 |             sheet_label = getattr(sheet_obj, "Name", "unknown sheet")
371 |             logger.info(
372 |                 f">>> [SquatchCut] RunNesting: created nested layout with {len(nested_objs)} parts on sheet {sheet_label}"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
373 |             )
    |

E501 Line too long (107 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:380:89
    |
378 |                 except Exception:
379 |                     pass
380 |                 session.set_sheet_objects(boundaries if boundaries else ([sheet_obj] if sheet_obj else []))
    |                                                                                         ^^^^^^^^^^^^^^^^^^^
381 |                 session.set_nested_panel_objects(nested_objs)
382 |                 session_state.set_nested_sheet_group(group)
    |

E501 Line too long (112 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:385:89
    |
383 |                 util = compute_utilization_for_sheets(placed_parts, sheet_sizes)
384 |                 cuts = estimate_cut_counts_for_sheets(placed_parts, sheet_sizes)
385 |                 cut_complexity = estimate_cut_path_complexity(placed_parts, kerf_width_mm=kerf_width or kerf_mm)
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^
386 |                 overlaps = detect_overlaps(placed_parts)
387 |                 if overlaps:
    |

E501 Line too long (150 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:390:89
    |
388 | …
389 | …
390 | …n {getattr(a, 'id', '?')} and {getattr(b, 'id', '?')} on sheet {getattr(a, 'sheet_index', '?')}."
    |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
391 | …
392 | …
    |

E501 Line too long (131 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:393:89
    |
391 |                         )
392 |                 logger.info(
393 |                     f">>> [SquatchCut] Nesting mode={nesting_mode}, parts={len(placed_parts)}, sheets={util.get('sheets_used', 0)}"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
394 |                 )
395 |                 set_nesting_stats(util.get("sheets_used", None), cut_complexity, len(overlaps))
    |

E501 Line too long (95 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:395:89
    |
393 |                     f">>> [SquatchCut] Nesting mode={nesting_mode}, parts={len(placed_parts)}, sheets={util.get('sheets_used', 0)}"
394 |                 )
395 |                 set_nesting_stats(util.get("sheets_used", None), cut_complexity, len(overlaps))
    |                                                                                         ^^^^^^^
396 |                 sheet_count = (max(pp.sheet_index for pp in placed_parts) + 1) if placed_parts else 0
397 |                 summary_msg = (
    |

E501 Line too long (101 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:396:89
    |
394 |                 )
395 |                 set_nesting_stats(util.get("sheets_used", None), cut_complexity, len(overlaps))
396 |                 sheet_count = (max(pp.sheet_index for pp in placed_parts) + 1) if placed_parts else 0
    |                                                                                         ^^^^^^^^^^^^^
397 |                 summary_msg = (
398 |                     f"Nesting complete: {len(placed_parts)} parts, "
    |

E501 Line too long (102 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:402:89
    |
400 |                     f"utilization={util.get('utilization_percent', 0.0):.1f}%, "
401 |                     f"estimated cuts={cuts.get('total', 0)} "
402 |                     f"({cuts.get('vertical', 0)} vertical, {cuts.get('horizontal', 0)} horizontal).\n"
    |                                                                                         ^^^^^^^^^^^^^^
403 |                 )
404 |                 logger.info(summary_msg.strip())
    |

E501 Line too long (106 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:405:89
    |
403 |                 )
404 |                 logger.info(summary_msg.strip())
405 |                 logger.info(f"Nesting complete: {len(placed_parts)} parts across {sheet_count} sheet(s).")
    |                                                                                         ^^^^^^^^^^^^^^^^^^
406 |                 logger.info(f"Nested {len(panel_objs)} source panels into {sheet_count} sheet group(s).")
407 |             try:
    |

E501 Line too long (105 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:406:89
    |
404 |                 logger.info(summary_msg.strip())
405 |                 logger.info(f"Nesting complete: {len(placed_parts)} parts across {sheet_count} sheet(s).")
406 |                 logger.info(f"Nested {len(panel_objs)} source panels into {sheet_count} sheet group(s).")
    |                                                                                         ^^^^^^^^^^^^^^^^^
407 |             try:
408 |                 view_controller.show_nesting_view(doc, active_sheet=sheet_obj, nested_objects=nested_objs)
    |

E501 Line too long (106 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:408:89
    |
406 |                 logger.info(f"Nested {len(panel_objs)} source panels into {sheet_count} sheet group(s).")
407 |             try:
408 |                 view_controller.show_nesting_view(doc, active_sheet=sheet_obj, nested_objects=nested_objs)
    |                                                                                         ^^^^^^^^^^^^^^^^^^
409 |             except Exception:
410 |                 pass
    |

E501 Line too long (90 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:444:89
    |
442 |         if len(exc.offending_parts) > max_details:
443 |             logger.error(
444 |                 f"...and {len(exc.offending_parts) - max_details} more offending part(s)."
    |                                                                                         ^^
445 |             )
446 |         self.validation_error = exc
    |

E501 Line too long (96 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:510:89
    |
509 |     def _create_sheet_group(
510 |         self, doc, sheet_index: int, sheet_w: float, sheet_h: float, sheet_origin_x: float = 0.0
    |                                                                                         ^^^^^^^^
511 |     ):
512 |         """Create and return a Group to hold one sheet's panels."""
    |

E501 Line too long (111 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:553:89
    |
551 |         if App is None or Gui is None:
552 |             try:
553 |                 logger.warning("ToggleSourcePanelsCommand.Activated() called outside FreeCAD GUI environment.")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^
554 |             except Exception:
555 |                 pass
    |

E501 Line too long (106 > 88)
   --> freecad/SquatchCut/gui/commands/cmd_run_nesting.py:600:89
    |
598 |         # No-op for now; TODO: implement real CSV export.
599 |         try:
600 |             logger.info("ExportNestingCSVCommand.Activated() called, but feature is not implemented yet.")
    |                                                                                         ^^^^^^^^^^^^^^^^^^
601 |         except Exception:
602 |             pass
    |

E501 Line too long (108 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_set_sheet_size.py:45:89
   |
43 |                 from SquatchCut.core import logger
44 |
45 |                 logger.warning("SC_SetSheetSizeCommand.Activated() called outside FreeCAD GUI environment.")
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^
46 |             except Exception:
47 |                 pass
   |

E501 Line too long (91 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_set_sheet_size.py:66:89
   |
64 |             except ValueError as exc:
65 |                 show_error(
66 |                     "Invalid imperial value. Use formats like 48, 48.5, 48 1/2, or 48-1/2."
   |                                                                                         ^^^
67 |                     if dialog.measurement_system == "imperial"
68 |                     else str(exc),
   |

E501 Line too long (109 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_set_sheet_size.py:93:89
   |
92 |             App.Console.PrintMessage(
93 |                 f">>> [SquatchCut] SetSheetSize: updated to {primary_width} x {primary_height} {unit_label} "
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^
94 |                 f"({secondary_width} x {secondary_height} {secondary_label})\n"
95 |             )
   |

E501 Line too long (96 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_settings.py:35:89
   |
33 |             "Pixmap": get_icon("tool_settings"),
34 |             "MenuText": "Settings",
35 |             "ToolTip": "Open SquatchCut settings for sheet size, logging, and developer tools.",
   |                                                                                         ^^^^^^^^
36 |         }
   |

E501 Line too long (91 > 88)
  --> freecad/SquatchCut/gui/commands/cmd_settings.py:48:89
   |
46 |     def Activated(self):
47 |         if App is None or Gui is None:
48 |             logger.warning("[SquatchCut] SquatchCut_Settings invoked outside FreeCAD GUI.")
   |                                                                                         ^^^
49 |             return
   |

E501 Line too long (111 > 88)
  --> freecad/SquatchCut/gui/dialog_preferences.py:46:89
   |
44 |         layout.addRow(self.rotate_check)
45 |
46 |         buttons = QtWidgets.QDialogButtonBox(QtWidgets.QDialogButtonBox.Ok | QtWidgets.QDialogButtonBox.Cancel)
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^
47 |         buttons.accepted.connect(self.accept)
48 |         buttons.rejected.connect(self.reject)
   |

E501 Line too long (94 > 88)
  --> freecad/SquatchCut/gui/dialog_preferences.py:53:89
   |
52 |     def _load_values(self):
53 |         self._set_length_text(self.sheet_width_edit, self._prefs.get_default_sheet_width_mm())
   |                                                                                         ^^^^^^
54 |         self._set_length_text(self.sheet_height_edit, self._prefs.get_default_sheet_height_mm())
55 |         self._set_length_text(self.spacing_edit, self._prefs.get_default_spacing_mm())
   |

E501 Line too long (96 > 88)
  --> freecad/SquatchCut/gui/dialog_preferences.py:54:89
   |
52 |     def _load_values(self):
53 |         self._set_length_text(self.sheet_width_edit, self._prefs.get_default_sheet_width_mm())
54 |         self._set_length_text(self.sheet_height_edit, self._prefs.get_default_sheet_height_mm())
   |                                                                                         ^^^^^^^^
55 |         self._set_length_text(self.spacing_edit, self._prefs.get_default_spacing_mm())
56 |         self._set_length_text(self.kerf_edit, self._prefs.get_default_kerf_mm())
   |

E501 Line too long (93 > 88)
  --> freecad/SquatchCut/gui/dialog_preferences.py:96:89
   |
94 |     def _show_parse_error(self, exc: Exception) -> None:
95 |         if self.measurement_system == "imperial":
96 |             message = "Invalid imperial value. Use formats like 48, 48.5, 48 1/2, or 48-1/2."
   |                                                                                         ^^^^^
97 |         else:
98 |             message = str(exc)
   |

E501 Line too long (120 > 88)
  --> freecad/SquatchCut/gui/dialogs/dlg_sheet_size.py:19:89
   |
17 |     """Allow user to enter sheet width, height, and kerf/spacing."""
18 |
19 |     def __init__(self, width: float | None = None, height: float | None = None, kerf: float | None = None, parent=None):
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
20 |         super().__init__(parent)
21 |         self.setWindowTitle("Sheet Size")
   |

E501 Line too long (93 > 88)
   --> freecad/SquatchCut/gui/dialogs/dlg_sheet_size.py:104:89
    |
102 |     def _show_parse_error(self, exc: Exception) -> None:
103 |         if self.measurement_system == "imperial":
104 |             message = "Invalid imperial value. Use formats like 48, 48.5, 48 1/2, or 48-1/2."
    |                                                                                         ^^^^^
105 |         else:
106 |             message = str(exc)
    |

E501 Line too long (90 > 88)
  --> freecad/SquatchCut/gui/nesting_view.py:44:89
   |
42 |         return None, []
43 |     removed = clear_group_children(group)
44 |     logger.info(f">>> [SquatchCut] Nested group cleared and rebuilt with {removed} parts")
   |                                                                                         ^^
45 |
46 |     source_objects = source_objects or []
   |

E501 Line too long (109 > 88)
  --> freecad/SquatchCut/gui/nesting_view.py:49:89
   |
47 |     source_map = _build_source_map(source_objects, doc)
48 |     if not source_map and placements:
49 |         logger.warning("[SquatchCut][WARN] No valid source objects found for nesting; using fallback boxes.")
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^
50 |
51 |     def _find_source(part_id):
   |

E501 Line too long (105 > 88)
  --> freecad/SquatchCut/gui/nesting_view.py:52:89
   |
51 |     def _find_source(part_id):
52 |         return source_map.get(part_id) or doc.getObject(part_id) or doc.getObject(f"SC_Source_{part_id}")
   |                                                                                         ^^^^^^^^^^^^^^^^^
53 |
54 |     nested_objs = []
   |

E501 Line too long (136 > 88)
  --> freecad/SquatchCut/gui/nesting_view.py:63:89
   |
61 | …
62 | …
63 | …is not None else (float(size_list[0][0]) * 0.25 if size_list and size_list[0][0] else 0.0)
   |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
64 | …
65 | …
   |

E501 Line too long (105 > 88)
   --> freecad/SquatchCut/gui/nesting_view.py:101:89
    |
 99 |         placement.Base = App.Vector(base_x, base_y, 0.0)
100 |         try:
101 |             placement.Rotation = App.Rotation(App.Vector(0, 0, 1), float(getattr(pp, "rotation_deg", 0)))
    |                                                                                         ^^^^^^^^^^^^^^^^^
102 |         except Exception:
103 |             pass
    |

E501 Line too long (92 > 88)
   --> freecad/SquatchCut/gui/nesting_view.py:117:89
    |
115 |         pass
116 |
117 |     logger.info(f">>> [SquatchCut] Rebuilt nesting view with {len(nested_objs)} object(s).")
    |                                                                                         ^^^^
118 |     return group, nested_objs
    |

E501 Line too long (90 > 88)
  --> freecad/SquatchCut/gui/source_view.py:41:89
   |
39 |     group = _ensure_group(doc)
40 |     removed = clear_group_children(group)
41 |     logger.info(f">>> [SquatchCut] Source group cleared and rebuilt with {removed} parts")
   |                                                                                         ^^
42 |
43 |     created = []
   |

E501 Line too long (96 > 88)
  --> freecad/SquatchCut/gui/taskpanel_input.py:75:89
   |
73 |         size_policy_cls = getattr(QtWidgets, "QSizePolicy", None)
74 |         if size_policy_cls is not None and hasattr(self.parts_table, "setSizePolicy"):
75 |             self.parts_table.setSizePolicy(size_policy_cls.Expanding, size_policy_cls.Expanding)
   |                                                                                         ^^^^^^^^
76 |
77 |         self.parts_table.setEditTriggers(QtWidgets.QAbstractItemView.NoEditTriggers)
   |

E501 Line too long (105 > 88)
   --> freecad/SquatchCut/gui/taskpanel_input.py:113:89
    |
112 |         try:
113 |             # We assume settings are already applied to session state by the main controller/sheet widget
    |                                                                                         ^^^^^^^^^^^^^^^^^
114 |             # But strictly CSV import depends on CSV units and file path.
115 |             csv_units = self.get_csv_units()
    |

E501 Line too long (120 > 88)
   --> freecad/SquatchCut/gui/taskpanel_input.py:152:89
    |
151 |             try:
152 |                 width_text = sc_units.format_length(float(width), measurement_system) if width not in (None, "") else ""
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
153 |             except Exception:
154 |                 width_text = str(width)
    |

E501 Line too long (123 > 88)
   --> freecad/SquatchCut/gui/taskpanel_input.py:156:89
    |
154 |                 width_text = str(width)
155 |             try:
156 |                 height_text = sc_units.format_length(float(height), measurement_system) if height not in (None, "") else ""
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
157 |             except Exception:
158 |                 height_text = str(height)
    |

E501 Line too long (139 > 88)
  --> freecad/SquatchCut/gui/taskpanel_main.py:36:89
   |
34 | …rce_measurement_system
35 | …system = None
36 | …ide in ("metric", "imperial") else session.detect_document_measurement_system(effective_doc)
   |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
37 | …
38 | …
   |

E501 Line too long (90 > 88)
   --> freecad/SquatchCut/gui/taskpanel_main.py:200:89
    |
198 |         self.unplaced_label = QtWidgets.QLabel("Unplaced parts: –")
199 |         self.stats_sheets_label = QtWidgets.QLabel("Number of sheets used: –")
200 |         self.stats_complexity_label = QtWidgets.QLabel("Estimated cut path complexity: –")
    |                                                                                         ^^
201 |         self.overlaps_label = QtWidgets.QLabel("Overlaps: –")
    |

E501 Line too long (93 > 88)
   --> freecad/SquatchCut/gui/taskpanel_main.py:246:89
    |
244 |         return group
245 |
246 |     def _compute_initial_state(self, doc, doc_measurement_system: str | None = None) -> dict:
    |                                                                                         ^^^^^
247 |         override = doc_measurement_system if doc_measurement_system in ("metric", "imperial") else None
248 |         try:
    |

E501 Line too long (103 > 88)
   --> freecad/SquatchCut/gui/taskpanel_main.py:247:89
    |
246 |     def _compute_initial_state(self, doc, doc_measurement_system: str | None = None) -> dict:
247 |         override = doc_measurement_system if doc_measurement_system in ("metric", "imperial") else None
    |                                                                                         ^^^^^^^^^^^^^^^
248 |         try:
249 |             settings.hydrate_from_params(measurement_override=override)
    |

E501 Line too long (167 > 88)
   --> freecad/SquatchCut/gui/taskpanel_main.py:281:89
    |
279 | …,
280 | …h(),
281 | …tate() if session_state.get_job_allow_rotate() is not None else session_state.get_default_allow_rotate(),
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
282 | …
283 | …_system),
    |

E501 Line too long (103 > 88)
   --> freecad/SquatchCut/gui/taskpanel_main.py:357:89
    |
355 |         if show_warning:
356 |             self.sheet_warning_label.setText(
357 |                 "Advanced job sheets with cut-friendly or guillotine layouts are partially supported. "
    |                                                                                         ^^^^^^^^^^^^^^^
358 |                 "Sheets are processed sequentially; review the layout to ensure each configured sheet was used."
359 |             )
    |

E501 Line too long (112 > 88)
   --> freecad/SquatchCut/gui/taskpanel_main.py:358:89
    |
356 |             self.sheet_warning_label.setText(
357 |                 "Advanced job sheets with cut-friendly or guillotine layouts are partially supported. "
358 |                 "Sheets are processed sequentially; review the layout to ensure each configured sheet was used."
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^
359 |             )
    |

E501 Line too long (99 > 88)
   --> freecad/SquatchCut/gui/taskpanel_main.py:451:89
    |
450 |         self.sheets_label.setText(f"Sheets used: {util.get('sheets_used', 0)}")
451 |         self.utilization_label.setText(f"Utilization: {util.get('utilization_percent', 0.0):.1f}%")
    |                                                                                         ^^^^^^^^^^^
452 |         self.cutcount_label.setText(f"Estimated cuts: {cuts.get('total', 0)}")
    |

E501 Line too long (92 > 88)
   --> freecad/SquatchCut/gui/taskpanel_main.py:468:89
    |
467 |     def on_export_clicked(self):
468 |         export_job = exporter.build_export_job_from_current_nesting(self._ensure_document())
    |                                                                                         ^^^^
469 |         if not export_job:
470 |             self.set_status("No layout to export.")
    |

E501 Line too long (131 > 88)
   --> freecad/SquatchCut/gui/taskpanel_main.py:475:89
    |
473 |         fmt = self.export_format_combo.currentData()
474 |         # ... logic similar to before, simplified ...
475 |         initial_path = exporter.suggest_export_path(self._ensure_document(), "." + fmt.split("_")[-1] if "_" in fmt else "." + fmt)
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
476 |         file_path, _ = QtWidgets.QFileDialog.getSaveFileName(None, "Export", initial_path, "All files (*.*)")
477 |         if not file_path:
    |

E501 Line too long (109 > 88)
   --> freecad/SquatchCut/gui/taskpanel_main.py:476:89
    |
474 |         # ... logic similar to before, simplified ...
475 |         initial_path = exporter.suggest_export_path(self._ensure_document(), "." + fmt.split("_")[-1] if "_" in fmt else "." + fmt)
476 |         file_path, _ = QtWidgets.QFileDialog.getSaveFileName(None, "Export", initial_path, "All files (*.*)")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^
477 |         if not file_path:
478 |             return
    |

E501 Line too long (95 > 88)
   --> freecad/SquatchCut/gui/taskpanel_main.py:544:89
    |
542 | # Factory
543 | def create_main_panel_for_tests():
544 |     SquatchCutTaskPanel._test_force_measurement_system = session_state.get_measurement_system()
    |                                                                                         ^^^^^^^
545 |     return SquatchCutTaskPanel()
    |

E501 Line too long (96 > 88)
  --> freecad/SquatchCut/gui/taskpanel_nesting.py:38:89
   |
36 |         self.mode_combo.addItem("Cuts (minimize number of cuts)", "cuts")
37 |         self.mode_combo.setToolTip(
38 |             "Material: prioritize yield. Cuts: row/column layout to approximate fewer saw cuts."
   |                                                                                         ^^^^^^^^
39 |         )
40 |         self.mode_combo.currentIndexChanged.connect(self._on_settings_changed)
   |

E501 Line too long (89 > 88)
  --> freecad/SquatchCut/gui/taskpanel_nesting.py:44:89
   |
42 |         self.cut_mode_check = QtWidgets.QCheckBox("Cut-friendly layout")
43 |         self.cut_mode_check.setToolTip(
44 |             "Bias nesting toward woodshop-style rips/crosscuts instead of tight packing."
   |                                                                                         ^
45 |         )
46 |         self.cut_mode_check.toggled.connect(self._on_settings_changed)
   |

E501 Line too long (98 > 88)
  --> freecad/SquatchCut/gui/taskpanel_nesting.py:50:89
   |
48 |         self.kerf_width_label = QtWidgets.QLabel("Kerf width (mm):")
49 |         self.kerf_width_edit = QtWidgets.QLineEdit()
50 |         self.kerf_width_edit.setToolTip("Blade thickness used to maintain spacing between parts.")
   |                                                                                         ^^^^^^^^^^
51 |         self.kerf_width_edit.textChanged.connect(self._on_settings_changed)
   |

E501 Line too long (90 > 88)
  --> freecad/SquatchCut/gui/taskpanel_nesting.py:58:89
   |
56 |         form.addRow(self.kerf_width_label, self.kerf_width_edit)
57 |
58 |         self.job_allow_rotation_check = QtWidgets.QCheckBox("Allow rotation for this job")
   |                                                                                         ^^
59 |         self.job_allow_rotation_check.setToolTip(
60 |             "Allow SquatchCut to rotate panels when nesting this job."
   |

E501 Line too long (100 > 88)
  --> freecad/SquatchCut/gui/taskpanel_nesting.py:68:89
   |
66 |         button_row = QtWidgets.QHBoxLayout()
67 |         self.preview_button = QtWidgets.QPushButton("Preview")
68 |         self.preview_button.setToolTip("Preview the nesting layout without leaving the task panel.")
   |                                                                                         ^^^^^^^^^^^^
69 |         self.preview_button.clicked.connect(self.preview_requested.emit)
   |

E501 Line too long (101 > 88)
  --> freecad/SquatchCut/gui/taskpanel_nesting.py:89:89
   |
88 |         nesting_mode = session_state.get_nesting_mode()
89 |         self.cut_mode_check.setChecked(nesting_mode == "cut_friendly" or bool(state.get("cut_mode")))
   |                                                                                         ^^^^^^^^^^^^^
90 |
91 |         self.kerf_width_edit.setText(sc_units.format_length(state.get("kerf_width_mm", 3.0), state.get("measurement_system", "metric")…
   |

E501 Line too long (136 > 88)
  --> freecad/SquatchCut/gui/taskpanel_nesting.py:91:89
   |
89 | …_mode == "cut_friendly" or bool(state.get("cut_mode")))
90 | …
91 | …format_length(state.get("kerf_width_mm", 3.0), state.get("measurement_system", "metric")))
   |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
92 | …ed(bool(state.get("job_allow_rotate", False)))
   |

E501 Line too long (92 > 88)
  --> freecad/SquatchCut/gui/taskpanel_nesting.py:92:89
   |
91 |         self.kerf_width_edit.setText(sc_units.format_length(state.get("kerf_width_mm", 3.0), state.get("measurement_system", "metric")…
92 |         self.job_allow_rotation_check.setChecked(bool(state.get("job_allow_rotate", False)))
   |                                                                                         ^^^^
93 |
94 |         self._update_unit_labels()
   |

E501 Line too long (101 > 88)
   --> freecad/SquatchCut/gui/taskpanel_nesting.py:104:89
    |
102 |         mode = self.mode_combo.currentData() or "material"
103 |         session_state.set_optimization_mode(mode)
104 |         session_state.set_nesting_mode("cut_friendly" if self.cut_mode_check.isChecked() else "pack")
    |                                                                                         ^^^^^^^^^^^^^
105 |
106 |         try:
    |

E501 Line too long (107 > 88)
   --> freecad/SquatchCut/gui/taskpanel_nesting.py:107:89
    |
106 |         try:
107 |             kw = sc_units.parse_length(self.kerf_width_edit.text(), session_state.get_measurement_system())
    |                                                                                         ^^^^^^^^^^^^^^^^^^^
108 |             if kw > 0:
109 |                 session_state.set_kerf_width_mm(kw)
    |

E501 Line too long (105 > 88)
   --> freecad/SquatchCut/gui/taskpanel_nesting.py:123:89
    |
121 |         # Refresh kerf width field format
122 |         val = session_state.get_kerf_width_mm()
123 |         self.kerf_width_edit.setText(sc_units.format_length(val, session_state.get_measurement_system()))
    |                                                                                         ^^^^^^^^^^^^^^^^^
124 |
125 |     def _update_unit_labels(self) -> None:
    |

E501 Line too long (92 > 88)
  --> freecad/SquatchCut/gui/taskpanel_settings.py:22:89
   |
21 |     def isChecked(self) -> bool:
22 |         return (getattr(self._panel, "measurement_system", None) or "metric") == self._value
   |                                                                                         ^^^^
23 |
24 |     def setChecked(self, checked: bool) -> None:
   |

E501 Line too long (95 > 88)
   --> freecad/SquatchCut/gui/taskpanel_settings.py:113:89
    |
111 |         layout = QtWidgets.QVBoxLayout(group)
112 |         self.allow_rotation_check = QtWidgets.QCheckBox("Allow rotation by default")
113 |         self.allow_rotation_check.setToolTip("Applied when CSV panels omit orientation flags.")
    |                                                                                         ^^^^^^^
114 |         layout.addWidget(self.allow_rotation_check)
115 |         return group
    |

E501 Line too long (125 > 88)
   --> freecad/SquatchCut/gui/taskpanel_settings.py:126:89
    |
125 |         self.run_gui_tests_button = QtWidgets.QPushButton("Run GUI Test Suite")
126 |         self.run_gui_tests_button.setToolTip("Run SquatchCut's GUI regression suite. Results are logged to the Report view.")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
127 |         self.run_gui_tests_button.clicked.connect(self.on_run_gui_tests_clicked)
128 |         layout.addWidget(self.run_gui_tests_button)
    |

E501 Line too long (91 > 88)
   --> freecad/SquatchCut/gui/taskpanel_settings.py:150:89
    |
148 |         has_defaults = self._prefs.has_default_sheet_size(measurement_system)
149 |         if has_defaults:
150 |             width_mm, height_mm = self._prefs.get_default_sheet_size_mm(measurement_system)
    |                                                                                         ^^^
151 |         else:
152 |             width_mm, height_mm = sheet_presets.get_factory_default_sheet_size(measurement_system)
    |

E501 Line too long (98 > 88)
   --> freecad/SquatchCut/gui/taskpanel_settings.py:152:89
    |
150 |             width_mm, height_mm = self._prefs.get_default_sheet_size_mm(measurement_system)
151 |         else:
152 |             width_mm, height_mm = sheet_presets.get_factory_default_sheet_size(measurement_system)
    |                                                                                         ^^^^^^^^^^
153 |
154 |         return {
    |

E501 Line too long (92 > 88)
   --> freecad/SquatchCut/gui/taskpanel_settings.py:186:89
    |
184 |         self.allow_rotation_check.setChecked(bool(state.get("allow_rotate")))
185 |
186 |     def _set_length_text(self, widget: QtWidgets.QLineEdit, value_mm: float | None) -> None:
    |                                                                                         ^^^^
187 |         if value_mm is None:
188 |             widget.clear()
    |

E501 Line too long (95 > 88)
   --> freecad/SquatchCut/gui/taskpanel_settings.py:206:89
    |
204 |             height_mm = self._parse_length(self.sheet_height_edit, "Sheet height")
205 |             kerf_mm = self._parse_length(self.kerf_edit, "Kerf")
206 |             gap = float(self.gap_edit.text().strip()) if self.gap_edit.text().strip() else None
    |                                                                                         ^^^^^^^
207 |         except ValueError as exc:
208 |             QtWidgets.QMessageBox.warning(self, "SquatchCut", str(exc))
    |

E501 Line too long (105 > 88)
   --> freecad/SquatchCut/gui/taskpanel_settings.py:277:89
    |
275 |         failed = total - passed
276 |         if failed:
277 |             self._set_dev_tools_status(f"GUI tests completed with {failed} failure(s). See Report view.")
    |                                                                                         ^^^^^^^^^^^^^^^^^
278 |         else:
279 |             self._set_dev_tools_status("GUI tests completed successfully. See Report view.")
    |

E501 Line too long (92 > 88)
   --> freecad/SquatchCut/gui/taskpanel_settings.py:279:89
    |
277 |             self._set_dev_tools_status(f"GUI tests completed with {failed} failure(s). See Report view.")
278 |         else:
279 |             self._set_dev_tools_status("GUI tests completed successfully. See Report view.")
    |                                                                                         ^^^^
280 |
281 |     def accept(self) -> None:
    |

E501 Line too long (102 > 88)
  --> freecad/SquatchCut/gui/taskpanel_sheet.py:62:89
   |
60 |         self.margin_edit = QtWidgets.QLineEdit()
61 |
62 |         for edit in (self.sheet_width_edit, self.sheet_height_edit, self.kerf_edit, self.margin_edit):
   |                                                                                         ^^^^^^^^^^^^^^
63 |             edit.textChanged.connect(self._validate_and_sync)
   |

E501 Line too long (116 > 88)
  --> freecad/SquatchCut/gui/taskpanel_sheet.py:72:89
   |
71 |         self.sheet_mode_check = QtWidgets.QCheckBox("Use custom job sheets (advanced)")
72 |         self.sheet_mode_check.setToolTip("Enable to provide explicit sheets instead of repeating the default size.")
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
73 |         self.sheet_mode_check.toggled.connect(self._on_sheet_mode_toggled)
74 |         vbox.addWidget(self.sheet_mode_check)
   |

E501 Line too long (100 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:156:89
    |
154 |             edit.blockSignals(False)
155 |
156 |         use_job_sheets = (state.get("sheet_mode") or session_state.get_sheet_mode()) == "job_sheets"
    |                                                                                         ^^^^^^^^^^^^
157 |         self.sheet_mode_check.blockSignals(True)
158 |         self.sheet_mode_check.setChecked(use_job_sheets)
    |

E501 Line too long (112 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:194:89
    |
193 |         # 1. Sheet Size Swapping logic
194 |         # If current dimensions match the defaults for the PREVIOUS system, swap to defaults for the NEW system.
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^
195 |         # This prevents 1220mm becoming 48 1/16"
196 |         prev_w_def, prev_h_def = self._prefs.get_default_sheet_size_mm(prev_system)
    |

E501 Line too long (95 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:204:89
    |
202 |         if sheet_w is not None and sheet_h is not None:
203 |             # Check if current matches previous defaults (either orientation)
204 |             matches_std = (abs(sheet_w - prev_w_def) < tol and abs(sheet_h - prev_h_def) < tol)
    |                                                                                         ^^^^^^^
205 |             matches_rot = (abs(sheet_w - prev_h_def) < tol and abs(sheet_h - prev_w_def) < tol)
    |

E501 Line too long (95 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:205:89
    |
203 |             # Check if current matches previous defaults (either orientation)
204 |             matches_std = (abs(sheet_w - prev_w_def) < tol and abs(sheet_h - prev_h_def) < tol)
205 |             matches_rot = (abs(sheet_w - prev_h_def) < tol and abs(sheet_h - prev_w_def) < tol)
    |                                                                                         ^^^^^^^
206 |
207 |             if matches_std or matches_rot:
    |

E501 Line too long (99 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:212:89
    |
210 |         if should_swap_sheet:
211 |             new_w, new_h = self._prefs.get_default_sheet_size_mm(system)
212 |             # Maintain orientation logic if needed, but defaults usually imply standard orientation
    |                                                                                         ^^^^^^^^^^^
213 |             # If it was rotated, maybe we should rotate the new default?
214 |             # For simplicity, just use the new default standard size.
    |

E501 Line too long (136 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:220:89
    |
218 | …ap to new default
219 | …of 3mm -> 0.118"
220 | …ult_kerf_mm(system=prev_system) # Note: accessing specific system defaults might need care
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
221 | …nly returns the stored value, which is single source of truth?
222 | …efaultKerfMM".
    |

E501 Line too long (108 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:221:89
    |
219 | …     # E.g., 3mm -> 1/8" (3.175mm) instead of 3mm -> 0.118"
220 | …     # prev_kerf_def = self._prefs.get_default_kerf_mm(system=prev_system) # Note: accessing specific system defaults might need care
221 | …     # Actually prefs.get_default_kerf_mm only returns the stored value, which is single source of truth?
    |                                                                                       ^^^^^^^^^^^^^^^^^^^^
222 | …     # Wait, get_default_kerf_mm() reads "DefaultKerfMM".
223 | …     # But we have different defaults per system in memory/logic: 3mm vs 1/8" (3.175mm)
    |

E501 Line too long (90 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:223:89
    |
221 |         # Actually prefs.get_default_kerf_mm only returns the stored value, which is single source of truth?
222 |         # Wait, get_default_kerf_mm() reads "DefaultKerfMM".
223 |         # But we have different defaults per system in memory/logic: 3mm vs 1/8" (3.175mm)
    |                                                                                         ^^
224 |         # Let's look at Preferences.
225 |         # METRIC_DEFAULT_KERF_MM = 3.0
    |

E501 Line too long (101 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:228:89
    |
226 |         # IMPERIAL_DEFAULT_KERF_IN = 0.125
227 |
228 |         # We need to manually access the "factory" defaults for logic if user hasn't overridden them?
    |                                                                                         ^^^^^^^^^^^^^
229 |         # Or just use the values from prefs.
230 |         # Prefs stores `DefaultKerfMM`. It doesn't seem to split Kerf by system in storage, just one value.
    |

E501 Line too long (107 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:230:89
    |
228 |         # We need to manually access the "factory" defaults for logic if user hasn't overridden them?
229 |         # Or just use the values from prefs.
230 |         # Prefs stores `DefaultKerfMM`. It doesn't seem to split Kerf by system in storage, just one value.
    |                                                                                         ^^^^^^^^^^^^^^^^^^^
231 |         # Ah, SquatchCutPreferences has METRIC_KERF_KEY and IMPERIAL_KERF_KEY?
232 |         # No, the code says:
    |

E501 Line too long (91 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:244:89
    |
242 |         current_kerf = kerf_mm
243 |
244 |         # If we are switching TO Imperial, and kerf is 3.0mm, maybe we want 1/8" (3.175mm)?
    |                                                                                         ^^^
245 |         if system == "imperial" and abs(current_kerf - factory_metric_kerf) < 0.1:
246 |             kerf_mm = factory_imp_kerf_mm
    |

E501 Line too long (98 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:343:89
    |
341 |             else:
342 |                 w, h = preset["size"]
343 |                 text = sc_units.format_preset_label(w, h, system, nickname=preset.get("nickname"))
    |                                                                                         ^^^^^^^^^^
344 |             self.preset_combo.addItem(text)
345 |         self.preset_combo.blockSignals(False)
    |

E501 Line too long (92 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:398:89
    |
396 |         self.config_changed.emit()
397 |
398 |     def _apply_sheet_mode_selection(self, use_job_sheets: bool, refresh_table: bool = True):
    |                                                                                         ^^^^
399 |         session_state.set_sheet_mode("job_sheets" if use_job_sheets else "simple")
    |

E501 Line too long (96 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:419:89
    |
417 |         w, h = session_state.get_sheet_size()
418 |         if w is None or h is None:
419 |             w, h = self._prefs.get_default_sheet_size_mm(session_state.get_measurement_system())
    |                                                                                         ^^^^^^^^
420 |             session_state.set_sheet_size(w, h)
421 |         session_state.set_job_sheets([{"width_mm": w, "height_mm": h, "quantity": 1, "label": "Sheet 1"}])
    |

E501 Line too long (106 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:421:89
    |
419 |             w, h = self._prefs.get_default_sheet_size_mm(session_state.get_measurement_system())
420 |             session_state.set_sheet_size(w, h)
421 |         session_state.set_job_sheets([{"width_mm": w, "height_mm": h, "quantity": 1, "label": "Sheet 1"}])
    |                                                                                         ^^^^^^^^^^^^^^^^^^
422 |
423 |     def _populate_sheet_table(self):
    |

E501 Line too long (111 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:432:89
    |
430 |             h = sheet.get("height_mm")
431 |             q = int(sheet.get("quantity") or 1)
432 |             row_vals = [name, self._format_length(w) if w else "", self._format_length(h) if h else "", str(q)]
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^
433 |             for col, text in enumerate(row_vals):
434 |                 item = QtWidgets.QTableWidgetItem(text)
    |

E501 Line too long (106 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:441:89
    |
439 |     def _update_sheet_table_headers(self):
440 |         unit = self._unit_label()
441 |         self.sheet_table.setHorizontalHeaderLabels(["Name", f"Width ({unit})", f"Height ({unit})", "Qty"])
    |                                                                                         ^^^^^^^^^^^^^^^^^^
442 |
443 |     def _on_add_sheet_clicked(self):
    |

E501 Line too long (96 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:446:89
    |
444 |         w, h = session_state.get_sheet_size()
445 |         if w is None:
446 |             w, h = self._prefs.get_default_sheet_size_mm(session_state.get_measurement_system())
    |                                                                                         ^^^^^^^^
447 |         session_state.add_job_sheet(w, h, 1, f"Sheet {len(session_state.get_job_sheets())+1}")
448 |         self._populate_sheet_table()
    |

E501 Line too long (94 > 88)
   --> freecad/SquatchCut/gui/taskpanel_sheet.py:447:89
    |
445 |         if w is None:
446 |             w, h = self._prefs.get_default_sheet_size_mm(session_state.get_measurement_system())
447 |         session_state.add_job_sheet(w, h, 1, f"Sheet {len(session_state.get_job_sheets())+1}")
    |                                                                                         ^^^^^^
448 |         self._populate_sheet_table()
449 |         self.config_changed.emit()
    |

E501 Line too long (97 > 88)
  --> freecad/SquatchCut/settings.py:31:89
   |
29 |     # Core defaults (per measurement system)
30 |     if prefs.has_default_sheet_size(measurement_system):
31 |         default_width_mm, default_height_mm = prefs.get_default_sheet_size_mm(measurement_system)
   |                                                                                         ^^^^^^^^^
32 |     else:
33 |         default_width_mm, default_height_mm = sc_sheet_presets.get_factory_default_sheet_size(measurement_system)
   |

E501 Line too long (113 > 88)
  --> freecad/SquatchCut/settings.py:33:89
   |
31 |         default_width_mm, default_height_mm = prefs.get_default_sheet_size_mm(measurement_system)
32 |     else:
33 |         default_width_mm, default_height_mm = sc_sheet_presets.get_factory_default_sheet_size(measurement_system)
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^
34 |     session_state.set_sheet_size(default_width_mm, default_height_mm)
35 |     session_state.set_kerf_mm(prefs.get_default_kerf_mm())
   |

E501 Line too long (89 > 88)
  --> freecad/SquatchCut/ui/control_panel.py:46:89
   |
45 |         self.session_state = session_state
46 |         self.measurement_system = self.session_state.get_measurement_system() or "metric"
   |                                                                                         ^
47 |
48 |         # Build root widget + layout
   |

E501 Line too long (89 > 88)
  --> freecad/SquatchCut/ui/control_panel.py:89:89
   |
87 |         main_layout.addWidget(cut_group)
88 |
89 |         # The widget values will be populated from SessionState after layout is complete.
   |                                                                                         ^
90 |
91 |         # ---------------- Rotation group ----------------
   |

E501 Line too long (108 > 88)
   --> freecad/SquatchCut/ui/control_panel.py:107:89
    |
106 |         self.dev_mode_checkbox = QtWidgets.QCheckBox("Enable developer mode")
107 |         self.dev_mode_checkbox.setToolTip("Show additional developer tools and diagnostics for SquatchCut.")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^
108 |
109 |         # ---------------- Logging group ----------------
    |

E501 Line too long (91 > 88)
   --> freecad/SquatchCut/ui/control_panel.py:113:89
    |
111 |         log_layout = QtWidgets.QFormLayout(log_group)
112 |         self.report_log_combo = QtWidgets.QComboBox()
113 |         self.report_log_combo.addItems(["No logging", "Normal logging", "Verbose logging"])
    |                                                                                         ^^^
114 |         self.console_log_combo = QtWidgets.QComboBox()
115 |         self.console_log_combo.addItems(["No logging", "Normal logging", "Verbose logging"])
    |

E501 Line too long (92 > 88)
   --> freecad/SquatchCut/ui/control_panel.py:115:89
    |
113 |         self.report_log_combo.addItems(["No logging", "Normal logging", "Verbose logging"])
114 |         self.console_log_combo = QtWidgets.QComboBox()
115 |         self.console_log_combo.addItems(["No logging", "Normal logging", "Verbose logging"])
    |                                                                                         ^^^^
116 |         prefs = SquatchCutPreferences()
117 |         rv_level = prefs.get_report_view_log_level()
    |

E501 Line too long (114 > 88)
   --> freecad/SquatchCut/ui/control_panel.py:163:89
    |
161 |         # ---------------- Footer info ----------------
162 |         footer_label = QtWidgets.QLabel(
163 |             "These settings are stored with this FreeCAD document and used for all SquatchCut nesting operations."
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
164 |         )
165 |         footer_label.setWordWrap(True)
    |

E501 Line too long (127 > 88)
   --> freecad/SquatchCut/ui/control_panel.py:185:89
    |
183 |         """Apply current UI values to session_state and the document."""
184 |         if self.doc is None:
185 |             FreeCAD.Console.PrintError("[SquatchCut] No active document in ControlPanel._apply_settings_to_state_and_doc().\n")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
186 |             return
    |

E501 Line too long (128 > 88)
   --> freecad/SquatchCut/ui/control_panel.py:213:89
    |
211 |         self._refresh_from_session_state()
212 |         logger.info(
213 |             f"Updated settings: sheet {sheet_w} x {sheet_h} mm, kerf={kerf_mm} mm, gap={gap_mm} mm, allow_rotate={allow_rotate}"
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
214 |         )
    |

E501 Line too long (104 > 88)
   --> freecad/SquatchCut/ui/control_panel.py:239:89
    |
237 |     def _refresh_from_session_state(self) -> None:
238 |         """Populate per-job controls from session_state."""
239 |         self.measurement_system = self.session_state.get_measurement_system() or self.measurement_system
    |                                                                                         ^^^^^^^^^^^^^^^^
240 |         self._update_unit_labels()
241 |         sheet_w, sheet_h = self.session_state.get_sheet_size()
    |

E501 Line too long (92 > 88)
   --> freecad/SquatchCut/ui/control_panel.py:252:89
    |
251 |     def _parse_length_text(self, text: str) -> float:
252 |         """Parse the given text into millimeters based on the current measurement system."""
    |                                                                                         ^^^^
253 |         return parse_length(text, self.measurement_system)
    |

E501 Line too long (93 > 88)
   --> freecad/SquatchCut/ui/control_panel.py:266:89
    |
264 |         """Show a user-friendly parse error without overwriting existing text."""
265 |         if self.measurement_system == "imperial":
266 |             message = "Invalid imperial value. Use formats like 48, 48.5, 48 1/2, or 48-1/2."
    |                                                                                         ^^^^^
267 |         else:
268 |             message = str(exc)
    |

E501 Line too long (101 > 88)
  --> freecad/testing/e2e_mvp_csv_flow.py:14:89
   |
14 | def run_e2e_on_csv(csv_path: str, sheet_width: float = 2440.0, sheet_height: float = 1220.0) -> dict:
   |                                                                                         ^^^^^^^^^^^^^
15 |     """
16 |     Load panels from CSV, run nesting end-to-end, and return the report data.
   |

E501 Line too long (102 > 88)
  --> freecad/testing/e2e_mvp_csv_flow.py:30:89
   |
28 |     report_data = report.build_report_data(sheets)
29 |     summary = report_data.get("summary", {})
30 |     assert "total_sheets" in summary and "total_panels" in summary, "Summary missing expected fields."
   |                                                                                         ^^^^^^^^^^^^^^
31 |     return report_data
   |

E501 Line too long (91 > 88)
  --> freecad/testing/e2e_mvp_geometry_flow.py:13:89
   |
11 | def run_e2e_on_generated_doc():
12 |     """
13 |     Generate a test document, extract shapes as panels, run nesting, and verify the result.
   |                                                                                         ^^^
14 |     """
15 |     doc = create_basic_rectangles_doc()
   |

E501 Line too long (127 > 88)
  --> tests/test_csv_import_validation.py:18:89
   |
16 |     header = ["id", "width", "height", "qty", "label", "material", "allow_rotate"]
17 |     rows = [
18 |         {"id": "P1", "width": "100", "height": "200", "qty": "2", "label": "Panel1", "material": "Oak", "allow_rotate": "yes"},
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
19 |         {"id": "P2", "width": "50", "height": "80", "qty": "1", "label": "Panel2", "material": "Pine", "allow_rotate": "no"},
20 |     ]
   |

E501 Line too long (125 > 88)
  --> tests/test_csv_import_validation.py:19:89
   |
17 |     rows = [
18 |         {"id": "P1", "width": "100", "height": "200", "qty": "2", "label": "Panel1", "material": "Oak", "allow_rotate": "yes"},
19 |         {"id": "P2", "width": "50", "height": "80", "qty": "1", "label": "Panel2", "material": "Pine", "allow_rotate": "no"},
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
20 |     ]
21 |     _write_csv(path, header, rows)
   |

B905 `zip()` without an explicit `strict=` parameter
  --> tests/test_csv_units.py:16:17
   |
15 |     assert len(metric) == len(imperial)
16 |     for m, i in zip(metric, imperial):
   |                 ^^^^^^^^^^^^^^^^^^^^^
17 |         assert m["id"] == i["id"]
18 |         assert abs(m["width"] - i["width"]) < 1e-2
   |
help: Add explicit value for parameter `strict=`

B905 `zip()` without an explicit `strict=` parameter
  --> tests/test_csv_units.py:29:17
   |
27 |     assert len(metric) == len(imperial_wrong)
28 |     mismatches = 0
29 |     for m, i in zip(metric, imperial_wrong):
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
30 |         if abs(m["width"] - i["width"]) > 1e-3 or abs(m["height"] - i["height"]) > 1e-3:
31 |             mismatches += 1
   |
help: Add explicit value for parameter `strict=`

E501 Line too long (97 > 88)
  --> tests/test_cut_optimization.py:20:89
   |
19 | def _within_sheet(p, w, h):
20 |     return p.x >= 0 and p.y >= 0 and (p.x + p.width) <= w + 1e-6 and (p.y + p.height) <= h + 1e-6
   |                                                                                         ^^^^^^^^^
   |

E501 Line too long (91 > 88)
  --> tests/test_cut_optimization.py:30:89
   |
28 |     ]
29 |     sheet = {"width": 300, "height": 200}
30 |     placed = guillotine_nest_parts(parts, sheet, NestingConfig(optimize_for_cut_path=True))
   |                                                                                         ^^^
31 |
32 |     assert len(placed) == len(parts)
   |

E501 Line too long (89 > 88)
  --> tests/test_cut_optimization.py:50:89
   |
48 |     assert _within_sheet(placed[0], sheet["width"], sheet["height"])
49 |
50 |     cfg_no_rotate = NestingConfig(optimize_for_cut_path=True, allowed_rotations_deg=(0,))
   |                                                                                         ^
51 |     try:
52 |         guillotine_nest_parts(parts, sheet, cfg_no_rotate)
   |

E501 Line too long (96 > 88)
  --> tests/test_cut_optimization.py:53:89
   |
51 |     try:
52 |         guillotine_nest_parts(parts, sheet, cfg_no_rotate)
53 |         raise AssertionError("Expected ValueError when rotation is disallowed for fitting part")
   |                                                                                         ^^^^^^^^
54 |     except ValueError:
55 |         pass
   |

B905 `zip()` without an explicit `strict=` parameter
  --> tests/test_cut_optimization.py:89:53
   |
87 |     assert len(cut_path_result) == len(parts)
88 |     # Heuristic: placements differ when using guillotine vs default
89 |     assert any(p.x != q.x or p.y != q.y for p, q in zip(default_result, cut_path_result))
   |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
help: Add explicit value for parameter `strict=`

E501 Line too long (89 > 88)
  --> tests/test_cut_optimization.py:89:89
   |
87 |     assert len(cut_path_result) == len(parts)
88 |     # Heuristic: placements differ when using guillotine vs default
89 |     assert any(p.x != q.x or p.y != q.y for p, q in zip(default_result, cut_path_result))
   |                                                                                         ^
   |

E501 Line too long (92 > 88)
  --> tests/test_cutlist.py:10:89
   |
 8 | def test_generate_cutlist_basic():
 9 |     placements = [
10 |         PlacedPart(id="P1", sheet_index=0, x=0, y=0, width=100, height=100, rotation_deg=0),
   |                                                                                         ^^^^
11 |         PlacedPart(id="P2", sheet_index=0, x=100, y=0, width=100, height=100, rotation_deg=0),
12 |     ]
   |

E501 Line too long (94 > 88)
  --> tests/test_cutlist.py:11:89
   |
 9 |     placements = [
10 |         PlacedPart(id="P1", sheet_index=0, x=0, y=0, width=100, height=100, rotation_deg=0),
11 |         PlacedPart(id="P2", sheet_index=0, x=100, y=0, width=100, height=100, rotation_deg=0),
   |                                                                                         ^^^^^^
12 |     ]
13 |     cutlist = generate_cutlist(placements, (200, 100))
   |

E501 Line too long (100 > 88)
  --> tests/test_defaults_and_presets.py:59:89
   |
57 |         expected_width_mm = inches_to_mm(48.0)
58 |         expected_height_mm = inches_to_mm(96.0)
59 |         assert math.isclose(panel._initial_state["sheet_width_mm"], expected_width_mm, rel_tol=1e-9)
   |                                                                                         ^^^^^^^^^^^^
60 |         assert math.isclose(panel._initial_state["sheet_height_mm"], expected_height_mm, rel_tol=1e-9)
61 |         assert panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(expected_width_mm, "imperial")
   |

E501 Line too long (102 > 88)
  --> tests/test_defaults_and_presets.py:60:89
   |
58 |         expected_height_mm = inches_to_mm(96.0)
59 |         assert math.isclose(panel._initial_state["sheet_width_mm"], expected_width_mm, rel_tol=1e-9)
60 |         assert math.isclose(panel._initial_state["sheet_height_mm"], expected_height_mm, rel_tol=1e-9)
   |                                                                                         ^^^^^^^^^^^^^^
61 |         assert panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(expected_width_mm, "imperial")
62 |         assert panel.sheet_widget.sheet_height_edit.text() == sc_units.format_length(expected_height_mm, "imperial")
   |

E501 Line too long (114 > 88)
  --> tests/test_defaults_and_presets.py:61:89
   |
59 |         assert math.isclose(panel._initial_state["sheet_width_mm"], expected_width_mm, rel_tol=1e-9)
60 |         assert math.isclose(panel._initial_state["sheet_height_mm"], expected_height_mm, rel_tol=1e-9)
61 |         assert panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(expected_width_mm, "imperial")
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
62 |         assert panel.sheet_widget.sheet_height_edit.text() == sc_units.format_length(expected_height_mm, "imperial")
63 |         assert panel.sheet_widget.preset_combo.currentIndex() == 0
   |

E501 Line too long (116 > 88)
  --> tests/test_defaults_and_presets.py:62:89
   |
60 |         assert math.isclose(panel._initial_state["sheet_height_mm"], expected_height_mm, rel_tol=1e-9)
61 |         assert panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(expected_width_mm, "imperial")
62 |         assert panel.sheet_widget.sheet_height_edit.text() == sc_units.format_length(expected_height_mm, "imperial")
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
63 |         assert panel.sheet_widget.preset_combo.currentIndex() == 0
64 |         imperial_defaults = prefs.get_default_sheet_size_mm("imperial")
   |

E501 Line too long (101 > 88)
  --> tests/test_defaults_and_presets.py:85:89
   |
83 |         assert panel.sheet_widget.preset_combo.currentIndex() == 0
84 |         assert panel.sheet_widget._preset_state.current_id is None
85 |         assert panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(1220.0, "metric")
   |                                                                                         ^^^^^^^^^^^^^
86 |         assert panel.sheet_widget.sheet_height_edit.text() == sc_units.format_length(2440.0, "metric")
87 |     finally:
   |

E501 Line too long (102 > 88)
  --> tests/test_defaults_and_presets.py:86:89
   |
84 |         assert panel.sheet_widget._preset_state.current_id is None
85 |         assert panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(1220.0, "metric")
86 |         assert panel.sheet_widget.sheet_height_edit.text() == sc_units.format_length(2440.0, "metric")
   |                                                                                         ^^^^^^^^^^^^^^
87 |     finally:
88 |         _restore_prefs(prefs, snap)
   |

E501 Line too long (102 > 88)
   --> tests/test_defaults_and_presets.py:106:89
    |
105 |         preset_index = next(
106 |             i for i, entry in enumerate(panel.sheet_widget._presets) if entry.get("id") == "1220x2440"
    |                                                                                         ^^^^^^^^^^^^^^
107 |         )
108 |         panel.sheet_widget.preset_combo.setCurrentIndex(preset_index)
    |

E501 Line too long (101 > 88)
   --> tests/test_defaults_and_presets.py:111:89
    |
109 |         panel.sheet_widget._on_preset_changed(preset_index)
110 |
111 |         assert panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(1220.0, "metric")
    |                                                                                         ^^^^^^^^^^^^^
112 |         assert panel.sheet_widget.sheet_height_edit.text() == sc_units.format_length(2440.0, "metric")
113 |         assert math.isclose(prefs.get_default_sheet_width_mm(), 1000.0, rel_tol=1e-9)
    |

E501 Line too long (102 > 88)
   --> tests/test_defaults_and_presets.py:112:89
    |
111 |         assert panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(1220.0, "metric")
112 |         assert panel.sheet_widget.sheet_height_edit.text() == sc_units.format_length(2440.0, "metric")
    |                                                                                         ^^^^^^^^^^^^^^
113 |         assert math.isclose(prefs.get_default_sheet_width_mm(), 1000.0, rel_tol=1e-9)
114 |         assert math.isclose(prefs.get_default_sheet_height_mm(), 2000.0, rel_tol=1e-9)
    |

E501 Line too long (107 > 88)
   --> tests/test_defaults_and_presets.py:134:89
    |
133 |         before_panel = SquatchCutTaskPanel()
134 |         baseline_presets = [entry["size"] for entry in before_panel.sheet_widget._presets if entry["size"]]
    |                                                                                         ^^^^^^^^^^^^^^^^^^^
135 |
136 |         settings_panel = SquatchCutSettingsPanel()
    |

E501 Line too long (114 > 88)
   --> tests/test_defaults_and_presets.py:143:89
    |
142 |         reopened_settings = SquatchCutSettingsPanel()
143 |         assert reopened_settings.sheet_width_edit.text() == sc_units.format_length(inches_to_mm(60.0), "imperial")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
144 |         assert reopened_settings.sheet_height_edit.text() == sc_units.format_length(inches_to_mm(110.0), "imperial")
    |

E501 Line too long (116 > 88)
   --> tests/test_defaults_and_presets.py:144:89
    |
142 |         reopened_settings = SquatchCutSettingsPanel()
143 |         assert reopened_settings.sheet_width_edit.text() == sc_units.format_length(inches_to_mm(60.0), "imperial")
144 |         assert reopened_settings.sheet_height_edit.text() == sc_units.format_length(inches_to_mm(110.0), "imperial")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
145 |
146 |         task_panel = SquatchCutTaskPanel()
    |

E501 Line too long (120 > 88)
   --> tests/test_defaults_and_presets.py:147:89
    |
146 |         task_panel = SquatchCutTaskPanel()
147 |         assert task_panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(inches_to_mm(60.0), "imperial")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
148 |         assert task_panel.sheet_widget.sheet_height_edit.text() == sc_units.format_length(inches_to_mm(110.0), "imperial")
149 |         current_presets = [entry["size"] for entry in task_panel.sheet_widget._presets if entry["size"]]
    |

E501 Line too long (122 > 88)
   --> tests/test_defaults_and_presets.py:148:89
    |
146 |         task_panel = SquatchCutTaskPanel()
147 |         assert task_panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(inches_to_mm(60.0), "imperial")
148 |         assert task_panel.sheet_widget.sheet_height_edit.text() == sc_units.format_length(inches_to_mm(110.0), "imperial")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
149 |         current_presets = [entry["size"] for entry in task_panel.sheet_widget._presets if entry["size"]]
150 |         assert current_presets == baseline_presets
    |

E501 Line too long (104 > 88)
   --> tests/test_defaults_and_presets.py:149:89
    |
147 |         assert task_panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(inches_to_mm(60.0), "imperial")
148 |         assert task_panel.sheet_widget.sheet_height_edit.text() == sc_units.format_length(inches_to_mm(110.0), "imperial")
149 |         current_presets = [entry["size"] for entry in task_panel.sheet_widget._presets if entry["size"]]
    |                                                                                         ^^^^^^^^^^^^^^^^
150 |         assert current_presets == baseline_presets
151 |     finally:
    |

E501 Line too long (108 > 88)
   --> tests/test_defaults_and_presets.py:167:89
    |
166 |         metric_panel = SquatchCutTaskPanel()
167 |         assert metric_panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(1500.0, "metric")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^
168 |         assert metric_panel.sheet_widget.sheet_height_edit.text() == sc_units.format_length(3200.0, "metric")
    |

E501 Line too long (109 > 88)
   --> tests/test_defaults_and_presets.py:168:89
    |
166 |         metric_panel = SquatchCutTaskPanel()
167 |         assert metric_panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(1500.0, "metric")
168 |         assert metric_panel.sheet_widget.sheet_height_edit.text() == sc_units.format_length(3200.0, "metric")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^
169 |
170 |         prefs.set_measurement_system("imperial")
    |

E501 Line too long (111 > 88)
   --> tests/test_defaults_and_presets.py:176:89
    |
174 |         sc_units.set_units("in")
175 |         imperial_panel = SquatchCutSettingsPanel()
176 |         assert imperial_panel.sheet_width_edit.text() == sc_units.format_length(inches_to_mm(48.0), "imperial")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^
177 |         assert imperial_panel.sheet_height_edit.text() == sc_units.format_length(inches_to_mm(96.0), "imperial")
178 |         assert math.isclose(prefs.get_default_sheet_width_mm(), 1500.0, rel_tol=1e-9)
    |

E501 Line too long (112 > 88)
   --> tests/test_defaults_and_presets.py:177:89
    |
175 |         imperial_panel = SquatchCutSettingsPanel()
176 |         assert imperial_panel.sheet_width_edit.text() == sc_units.format_length(inches_to_mm(48.0), "imperial")
177 |         assert imperial_panel.sheet_height_edit.text() == sc_units.format_length(inches_to_mm(96.0), "imperial")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^
178 |         assert math.isclose(prefs.get_default_sheet_width_mm(), 1500.0, rel_tol=1e-9)
179 |         assert math.isclose(prefs.get_default_sheet_height_mm(), 3200.0, rel_tol=1e-9)
    |

E501 Line too long (110 > 88)
   --> tests/test_defaults_and_presets.py:184:89
    |
182 |         settings.hydrate_from_params()
183 |         reopened_panel = SquatchCutTaskPanel()
184 |         assert reopened_panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(1500.0, "metric")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^
185 |         assert reopened_panel.sheet_widget.sheet_height_edit.text() == sc_units.format_length(3200.0, "metric")
186 |         assert math.isclose(prefs.get_default_sheet_width_mm(), 1500.0, rel_tol=1e-9)
    |

E501 Line too long (111 > 88)
   --> tests/test_defaults_and_presets.py:185:89
    |
183 |         reopened_panel = SquatchCutTaskPanel()
184 |         assert reopened_panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(1500.0, "metric")
185 |         assert reopened_panel.sheet_widget.sheet_height_edit.text() == sc_units.format_length(3200.0, "metric")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^
186 |         assert math.isclose(prefs.get_default_sheet_width_mm(), 1500.0, rel_tol=1e-9)
187 |         assert math.isclose(prefs.get_default_sheet_height_mm(), 3200.0, rel_tol=1e-9)
    |

E501 Line too long (93 > 88)
   --> tests/test_defaults_and_presets.py:278:89
    |
277 |         panel = SquatchCutTaskPanel()
278 |         panel.sheet_widget.sheet_width_edit.setText(sc_units.format_length(1510.0, "metric"))
    |                                                                                         ^^^^^
279 |         panel.sheet_widget._validate_and_sync()
280 |         panel.sheet_widget.sheet_height_edit.setText(sc_units.format_length(2810.0, "metric"))
    |

E501 Line too long (94 > 88)
   --> tests/test_defaults_and_presets.py:280:89
    |
278 |         panel.sheet_widget.sheet_width_edit.setText(sc_units.format_length(1510.0, "metric"))
279 |         panel.sheet_widget._validate_and_sync()
280 |         panel.sheet_widget.sheet_height_edit.setText(sc_units.format_length(2810.0, "metric"))
    |                                                                                         ^^^^^^
281 |         panel.sheet_widget._validate_and_sync()
282 |         # _apply_settings_to_session doesn't exist on main panel anymore, changes are propagated immediately
    |

E501 Line too long (108 > 88)
   --> tests/test_defaults_and_presets.py:282:89
    |
280 |         panel.sheet_widget.sheet_height_edit.setText(sc_units.format_length(2810.0, "metric"))
281 |         panel.sheet_widget._validate_and_sync()
282 |         # _apply_settings_to_session doesn't exist on main panel anymore, changes are propagated immediately
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^
283 |         # via signals connected in __init__
284 |         width_mm, height_mm = session_state.get_sheet_size()
    |

E501 Line too long (105 > 88)
   --> tests/test_defaults_and_presets.py:299:89
    |
297 |         assert math.isclose(width_after, width_mm, abs_tol=0.2)
298 |         assert math.isclose(height_after, height_mm, abs_tol=0.2)
299 |         assert panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(width_mm, "imperial")
    |                                                                                         ^^^^^^^^^^^^^^^^^
300 |     finally:
301 |         sc_units.set_units("mm")
    |

E501 Line too long (113 > 88)
   --> tests/test_defaults_and_presets.py:334:89
    |
332 |         assert math.isclose(new_width, metric_defaults[0], rel_tol=1e-9)
333 |         assert math.isclose(new_height, metric_defaults[1], rel_tol=1e-9)
334 |         assert panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(metric_defaults[0], "metric")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^
335 |     finally:
336 |         sc_units.set_units("mm")
    |

E501 Line too long (92 > 88)
   --> tests/test_defaults_and_presets.py:358:89
    |
356 |         assert panel_metric._apply_changes() is True
357 |         metric_defaults = prefs.get_default_sheet_size_mm("metric")
358 |         assert math.isclose(metric_defaults[0], prefs.METRIC_DEFAULT_WIDTH_MM, rel_tol=1e-9)
    |                                                                                         ^^^^
359 |         assert math.isclose(metric_defaults[1], prefs.METRIC_DEFAULT_HEIGHT_MM, rel_tol=1e-9)
360 |         imperial_defaults = prefs.get_default_sheet_size_in("imperial")
    |

E501 Line too long (93 > 88)
   --> tests/test_defaults_and_presets.py:359:89
    |
357 |         metric_defaults = prefs.get_default_sheet_size_mm("metric")
358 |         assert math.isclose(metric_defaults[0], prefs.METRIC_DEFAULT_WIDTH_MM, rel_tol=1e-9)
359 |         assert math.isclose(metric_defaults[1], prefs.METRIC_DEFAULT_HEIGHT_MM, rel_tol=1e-9)
    |                                                                                         ^^^^^
360 |         imperial_defaults = prefs.get_default_sheet_size_in("imperial")
361 |         assert math.isclose(imperial_defaults[0], 44.0, rel_tol=1e-9)
    |

E501 Line too long (89 > 88)
   --> tests/test_defaults_and_presets.py:377:89
    |
375 |         SquatchCutPreferences._local_shared[prefs.METRIC_HEIGHT_KEY] = 3400.0
376 |         SquatchCutPreferences._local_shared[prefs._default_flag_key("metric")] = True
377 |         SquatchCutPreferences._local_shared[prefs.SEPARATE_DEFAULTS_MIGRATED_KEY] = False
    |                                                                                         ^
378 |
379 |         migrated = SquatchCutPreferences()
    |

E501 Line too long (90 > 88)
  --> tests/test_document_model.py:40:89
   |
38 |     second = ensure_sheet_object(200.0, 250.0, doc)
39 |     assert first is second
40 |     sheets = [obj for obj in getattr(doc, "Objects", []) if obj.Name == SHEET_OBJECT_NAME]
   |                                                                                         ^^
41 |     assert len(sheets) == 1
42 |     bbox = second.Shape.BoundBox
   |

E501 Line too long (151 > 88)
  --> tests/test_document_model.py:51:89
   |
49 | …
50 | …
51 | …ght": 200}, {"id": "P2", "width": 150, "height": 250}, {"id": "P3", "width": 200, "height": 300}])
   |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
52 | …)
53 | …rts")
   |

E501 Line too long (103 > 88)
  --> tests/test_document_model.py:58:89
   |
56 |     assert len(initial_children) == 3
57 |     csv2 = tmp_path / "parts2.csv"
58 |     _write_csv(csv2, [{"id": "A", "width": 80, "height": 60}, {"id": "B", "width": 120, "height": 90}])
   |                                                                                         ^^^^^^^^^^^^^^^
59 |     run_csv_import(doc, str(csv2), csv_units="metric")
60 |     source_group2 = doc.getObject("SquatchCut_SourceParts")
   |

E501 Line too long (151 > 88)
  --> tests/test_document_model.py:64:89
   |
62 | …]))
63 | …
64 | …s", []) if obj not in children and obj is not source_group2 and obj.Name.startswith("SC_Source_")]
   |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
65 | …
66 | …
   |

E501 Line too long (94 > 88)
  --> tests/test_document_model.py:79:89
   |
78 | class _DummyPlacement:
79 |     def __init__(self, part_id, width, height, x=0.0, y=0.0, sheet_index=0, rotation_deg=0.0):
   |                                                                                         ^^^^^^
80 |         self.id = part_id
81 |         self.width = width
   |

E501 Line too long (145 > 88)
   --> tests/test_document_model.py:111:89
    |
109 | …[]))
110 | …
111 | … []) if obj not in latest_children and obj is not group and obj.Name.startswith("SC_Nested_")]
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
112 | …
113 | …
    |

E501 Line too long (91 > 88)
   --> tests/test_exporter.py:107:89
    |
105 |     )
106 |     placements = [
107 |         PlacedPart(id="p1", sheet_index=0, x=0, y=0, width=100, height=50, rotation_deg=0),
    |                                                                                         ^^^
108 |         PlacedPart(id="p2", sheet_index=1, x=10, y=15, width=80, height=40, rotation_deg=90),
109 |     ]
    |

E501 Line too long (93 > 88)
   --> tests/test_exporter.py:108:89
    |
106 |     placements = [
107 |         PlacedPart(id="p1", sheet_index=0, x=0, y=0, width=100, height=50, rotation_deg=0),
108 |         PlacedPart(id="p2", sheet_index=1, x=10, y=15, width=80, height=40, rotation_deg=90),
    |                                                                                         ^^^^^
109 |     ]
110 |     session_state.set_last_layout(placements)
    |

E501 Line too long (89 > 88)
   --> tests/test_exporter.py:137:89
    |
136 |     # Verify that content uses "in" and not "mm" for dimensions
137 |     assert "mm" not in content, "Text export should not contain 'mm' when using Imperial"
    |                                                                                         ^
138 |     assert "in" in content, "Text export should contain 'in'"
    |

E501 Line too long (91 > 88)
  --> tests/test_exporter_svg.py:24:89
   |
22 |             )
23 |         )
24 |     return ExportJob(job_name="Test", measurement_system=measurement_system, sheets=sheets)
   |                                                                                         ^^^
   |

E501 Line too long (121 > 88)
  --> tests/test_geometry_cleanup.py:54:89
   |
52 |     doc._objects[session.SHEET_OBJECT_NAME] = DummyObject(session.SHEET_OBJECT_NAME)
53 |     doc._objects["SheetChild"] = DummyObject("SheetChild")
54 |     doc._objects[session.SOURCE_GROUP_NAME] = DummyGroup(session.SOURCE_GROUP_NAME, members=[DummyObject("SourceChild")])
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
55 |     doc._objects[session.NESTED_GROUP_NAME] = DummyGroup(session.NESTED_GROUP_NAME, members=[DummyObject("NestedChild")])
56 |     doc._objects[f"{session.SOURCE_PREFIX}foo"] = DummyObject(f"{session.SOURCE_PREFIX}foo")
   |

E501 Line too long (121 > 88)
  --> tests/test_geometry_cleanup.py:55:89
   |
53 |     doc._objects["SheetChild"] = DummyObject("SheetChild")
54 |     doc._objects[session.SOURCE_GROUP_NAME] = DummyGroup(session.SOURCE_GROUP_NAME, members=[DummyObject("SourceChild")])
55 |     doc._objects[session.NESTED_GROUP_NAME] = DummyGroup(session.NESTED_GROUP_NAME, members=[DummyObject("NestedChild")])
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
56 |     doc._objects[f"{session.SOURCE_PREFIX}foo"] = DummyObject(f"{session.SOURCE_PREFIX}foo")
57 |     doc._objects[f"{session.NESTED_PREFIX}bar"] = DummyObject(f"{session.NESTED_PREFIX}bar")
   |

E501 Line too long (92 > 88)
  --> tests/test_geometry_cleanup.py:56:89
   |
54 |     doc._objects[session.SOURCE_GROUP_NAME] = DummyGroup(session.SOURCE_GROUP_NAME, members=[DummyObject("SourceChild")])
55 |     doc._objects[session.NESTED_GROUP_NAME] = DummyGroup(session.NESTED_GROUP_NAME, members=[DummyObject("NestedChild")])
56 |     doc._objects[f"{session.SOURCE_PREFIX}foo"] = DummyObject(f"{session.SOURCE_PREFIX}foo")
   |                                                                                         ^^^^
57 |     doc._objects[f"{session.NESTED_PREFIX}bar"] = DummyObject(f"{session.NESTED_PREFIX}bar")
   |

E501 Line too long (92 > 88)
  --> tests/test_geometry_cleanup.py:57:89
   |
55 |     doc._objects[session.NESTED_GROUP_NAME] = DummyGroup(session.NESTED_GROUP_NAME, members=[DummyObject("NestedChild")])
56 |     doc._objects[f"{session.SOURCE_PREFIX}foo"] = DummyObject(f"{session.SOURCE_PREFIX}foo")
57 |     doc._objects[f"{session.NESTED_PREFIX}bar"] = DummyObject(f"{session.NESTED_PREFIX}bar")
   |                                                                                         ^^^^
58 |
59 |     session.clear_all_squatchcut_geometry(doc)
   |

E501 Line too long (90 > 88)
  --> tests/test_geometry_cleanup.py:64:89
   |
62 |     assert doc.getObject(session.SOURCE_GROUP_NAME) is None
63 |     assert doc.getObject(session.NESTED_GROUP_NAME) is None
64 |     assert all(not name.startswith(session.SOURCE_PREFIX) for name in doc.removed) or any(
   |                                                                                         ^^
65 |         name.startswith(session.SOURCE_PREFIX) for name in doc.removed
66 |     )
   |

E501 Line too long (101 > 88)
   --> tests/test_geometry_cleanup.py:121:89
    |
119 | def test_resolve_live_source_objects_prefers_doc_group():
120 |     doc = DummyDoc()
121 |     group_obj = DummyGroup(session.SOURCE_GROUP_NAME, members=[DummyObject("P1"), DummyObject("P2")])
    |                                                                                         ^^^^^^^^^^^^^
122 |     doc._objects[group_obj.Name] = group_obj
123 |     cmd = RunNestingCommand()
    |

E501 Line too long (90 > 88)
  --> tests/test_geometry_sync.py:17:89
   |
15 |     mock_app.ActiveDocument = mock_doc
16 |
17 |     # Stale object simulates an object deleted from the document but still in session list
   |                                                                                         ^^
18 |     class StaleWrapper:
19 |         Name = "StalePanel"
   |

E501 Line too long (92 > 88)
  --> tests/test_geometry_sync.py:35:89
   |
33 |          patch("SquatchCut.core.geometry_sync.Gui", MagicMock()), \
34 |          patch("SquatchCut.core.session.get_panels", return_value=["dummy_panel"]), \
35 |          patch("SquatchCut.core.session_state.get_sheet_size", return_value=(1000, 1000)), \
   |                                                                                         ^^^^
36 |          patch("SquatchCut.core.logger.warning") as mock_log_warning, \
37 |          patch("SquatchCut.core.session.get_source_panel_objects") as mock_get_objects, \
   |

E501 Line too long (89 > 88)
  --> tests/test_geometry_sync.py:37:89
   |
35 |          patch("SquatchCut.core.session_state.get_sheet_size", return_value=(1000, 1000)), \
36 |          patch("SquatchCut.core.logger.warning") as mock_log_warning, \
37 |          patch("SquatchCut.core.session.get_source_panel_objects") as mock_get_objects, \
   |                                                                                         ^
38 |          patch("SquatchCut.core.view_controller.show_source_view") as mock_show_view:
   |

E501 Line too long (95 > 88)
  --> tests/test_geometry_sync.py:43:89
   |
41 |         mock_get_objects.return_value = [stale_obj]
42 |
43 |         # When show_source_view is called, we simulate it updating the session to valid objects
   |                                                                                         ^^^^^^^
44 |         def side_effect(*args, **kwargs):
45 |             mock_get_objects.return_value = [valid_obj]
   |

E501 Line too long (93 > 88)
  --> tests/test_geometry_sync.py:54:89
   |
52 |         mock_show_view.assert_called_once()
53 |
54 |         # Verify the specific warning was NOT logged, confirming we accessed the valid object
   |                                                                                         ^^^^^
55 |         for call in mock_log_warning.call_args_list:
56 |             assert "Failed to inspect source panel vertices" not in call[0][0]
   |

E501 Line too long (92 > 88)
  --> tests/test_geometry_sync_repro.py:30:89
   |
28 |          patch("SquatchCut.core.geometry_sync.Gui", MagicMock()), \
29 |          patch("SquatchCut.core.session.get_panels", return_value=["dummy_panel"]), \
30 |          patch("SquatchCut.core.session_state.get_sheet_size", return_value=(1000, 1000)), \
   |                                                                                         ^^^^
31 |          patch("SquatchCut.core.logger.warning") as mock_log_warning, \
32 |          patch("SquatchCut.core.session.get_source_panel_objects") as mock_get_objects, \
   |

E501 Line too long (89 > 88)
  --> tests/test_geometry_sync_repro.py:32:89
   |
30 |          patch("SquatchCut.core.session_state.get_sheet_size", return_value=(1000, 1000)), \
31 |          patch("SquatchCut.core.logger.warning") as mock_log_warning, \
32 |          patch("SquatchCut.core.session.get_source_panel_objects") as mock_get_objects, \
   |                                                                                         ^
33 |          patch("SquatchCut.core.view_controller.show_source_view") as mock_show_view:
   |

E501 Line too long (98 > 88)
  --> tests/test_gui_imports.py:21:89
   |
20 |     for module_info in pkgutil.walk_packages(package_path, package_prefix):
21 |         # module_info.name is the full import path, e.g. "SquatchCut.gui.commands.cmd_run_nesting"
   |                                                                                         ^^^^^^^^^^
22 |         yield module_info.name
   |

E501 Line too long (89 > 88)
  --> tests/test_gui_nesting_regression.py:15:89
   |
13 |     header = ["id", "width", "height", "qty", "allow_rotate"]
14 |     rows = [
15 |         {"id": "P1", "width": "100", "height": "200", "qty": "1", "allow_rotate": "yes"},
   |                                                                                         ^
16 |         {"id": "P2", "width": "800", "height": "500", "qty": "1", "allow_rotate": "yes"},
17 |         {"id": "P3", "width": "150", "height": "150", "qty": "1", "allow_rotate": "yes"},
   |

E501 Line too long (89 > 88)
  --> tests/test_gui_nesting_regression.py:16:89
   |
14 |     rows = [
15 |         {"id": "P1", "width": "100", "height": "200", "qty": "1", "allow_rotate": "yes"},
16 |         {"id": "P2", "width": "800", "height": "500", "qty": "1", "allow_rotate": "yes"},
   |                                                                                         ^
17 |         {"id": "P3", "width": "150", "height": "150", "qty": "1", "allow_rotate": "yes"},
18 |     ]
   |

E501 Line too long (89 > 88)
  --> tests/test_gui_nesting_regression.py:17:89
   |
15 |         {"id": "P1", "width": "100", "height": "200", "qty": "1", "allow_rotate": "yes"},
16 |         {"id": "P2", "width": "800", "height": "500", "qty": "1", "allow_rotate": "yes"},
17 |         {"id": "P3", "width": "150", "height": "150", "qty": "1", "allow_rotate": "yes"},
   |                                                                                         ^
18 |     ]
19 |     with open(path, "w", newline="", encoding="utf-8") as handle:
   |

E501 Line too long (97 > 88)
  --> tests/test_gui_settings_command.py:52:89
   |
50 |     dummy_control = _DummyControl()
51 |     dummy_gui = _DummyGui(dummy_control)
52 |     dummy_app = SimpleNamespace(Console=SimpleNamespace(PrintError=lambda *args, **kwargs: None))
   |                                                                                         ^^^^^^^^^
53 |
54 |     monkeypatch.setattr(cmd_settings, "Gui", dummy_gui)
   |

E501 Line too long (93 > 88)
  --> tests/test_hydration_rules.py:51:89
   |
50 |         assert panel.measurement_system == "imperial"
51 |         expected_width_text = sc_units.format_length(sc_units.inches_to_mm(64.0), "imperial")
   |                                                                                         ^^^^^
52 |         expected_height_text = sc_units.format_length(sc_units.inches_to_mm(96.0), "imperial")
53 |         assert panel.sheet_widget.sheet_width_edit.text() == expected_width_text
   |

E501 Line too long (94 > 88)
  --> tests/test_hydration_rules.py:52:89
   |
50 |         assert panel.measurement_system == "imperial"
51 |         expected_width_text = sc_units.format_length(sc_units.inches_to_mm(64.0), "imperial")
52 |         expected_height_text = sc_units.format_length(sc_units.inches_to_mm(96.0), "imperial")
   |                                                                                         ^^^^^^
53 |         assert panel.sheet_widget.sheet_width_edit.text() == expected_width_text
54 |         assert panel.sheet_widget.sheet_height_edit.text() == expected_height_text
   |

E501 Line too long (95 > 88)
  --> tests/test_hydration_rules.py:55:89
   |
53 |         assert panel.sheet_widget.sheet_width_edit.text() == expected_width_text
54 |         assert panel.sheet_widget.sheet_height_edit.text() == expected_height_text
55 |         assert panel.sheet_widget.margin_edit.text() == sc_units.format_length(3.0, "imperial")
   |                                                                                         ^^^^^^^
56 |         assert panel._initial_state["measurement_system"] == "imperial"
57 |         current = _snapshot_prefs(prefs)
   |

E501 Line too long (91 > 88)
  --> tests/test_hydration_rules.py:62:89
   |
60 |         assert math.isclose(current["height_in"], 96.0, rel_tol=1e-6)
61 |         assert math.isclose(current["spacing_mm"], 3.0, rel_tol=1e-6)
62 |         assert math.isclose(current["kerf_mm"], sc_units.inches_to_mm(0.125), rel_tol=1e-6)
   |                                                                                         ^^^
63 |     finally:
64 |         _restore_prefs(prefs, snap)
   |

E501 Line too long (89 > 88)
  --> tests/test_hydration_rules.py:81:89
   |
79 |         panel = SquatchCutSettingsPanel()
80 |         assert panel.sheet_width_edit.text() == sc_units.format_length(1200.0, "metric")
81 |         assert panel.sheet_height_edit.text() == sc_units.format_length(2400.0, "metric")
   |                                                                                         ^
82 |         assert panel.kerf_edit.text() == sc_units.format_length(3.0, "metric")
83 |         assert panel.gap_edit.text() == "5.0"
   |

E501 Line too long (91 > 88)
  --> tests/test_hydration_rules.py:95:89
   |
94 |         reopened = SquatchCutSettingsPanel()
95 |         assert reopened.sheet_width_edit.text() == sc_units.format_length(1500.0, "metric")
   |                                                                                         ^^^
96 |         assert reopened.sheet_height_edit.text() == sc_units.format_length(3100.0, "metric")
97 |         assert reopened.kerf_edit.text() == sc_units.format_length(4.0, "metric")
   |

E501 Line too long (92 > 88)
  --> tests/test_hydration_rules.py:96:89
   |
94 |         reopened = SquatchCutSettingsPanel()
95 |         assert reopened.sheet_width_edit.text() == sc_units.format_length(1500.0, "metric")
96 |         assert reopened.sheet_height_edit.text() == sc_units.format_length(3100.0, "metric")
   |                                                                                         ^^^^
97 |         assert reopened.kerf_edit.text() == sc_units.format_length(4.0, "metric")
98 |         assert reopened.gap_edit.text() == "6.5"
   |

E501 Line too long (94 > 88)
   --> tests/test_hydration_rules.py:102:89
    |
101 |         main_panel = SquatchCutTaskPanel()
102 |         assert math.isclose(main_panel._initial_state["sheet_width_mm"], 1500.0, rel_tol=1e-6)
    |                                                                                         ^^^^^^
103 |         assert math.isclose(main_panel._initial_state["sheet_height_mm"], 3100.0, rel_tol=1e-6)
104 |         assert main_panel.nesting_widget.job_allow_rotation_check.isChecked() is False
    |

E501 Line too long (95 > 88)
   --> tests/test_hydration_rules.py:103:89
    |
101 |         main_panel = SquatchCutTaskPanel()
102 |         assert math.isclose(main_panel._initial_state["sheet_width_mm"], 1500.0, rel_tol=1e-6)
103 |         assert math.isclose(main_panel._initial_state["sheet_height_mm"], 3100.0, rel_tol=1e-6)
    |                                                                                         ^^^^^^^
104 |         assert main_panel.nesting_widget.job_allow_rotation_check.isChecked() is False
105 |     finally:
    |

E501 Line too long (103 > 88)
  --> tests/test_logger.py:18:89
   |
16 | def test_logger_levels_do_not_crash(monkeypatch):
17 |     # Stub preferences to verbose for both channels
18 |     monkeypatch.setattr(logger, "SquatchCutPreferences", lambda: StubPrefs(rv="verbose", pc="verbose"))
   |                                                                                         ^^^^^^^^^^^^^^^
19 |     logger.debug("debug message")
20 |     logger.info("info message")
   |

E501 Line too long (97 > 88)
  --> tests/test_logger.py:27:89
   |
25 | def test_logger_none_level(monkeypatch):
26 |     # Stub preferences to none; should still not crash on info/debug/warn
27 |     monkeypatch.setattr(logger, "SquatchCutPreferences", lambda: StubPrefs(rv="none", pc="none"))
   |                                                                                         ^^^^^^^^^
28 |     logger.debug("debug message")
29 |     logger.info("info message")
   |

E501 Line too long (103 > 88)
  --> tests/test_logger.py:35:89
   |
34 | def test_logger_printf_support(monkeypatch):
35 |     monkeypatch.setattr(logger, "SquatchCutPreferences", lambda: StubPrefs(rv="verbose", pc="verbose"))
   |                                                                                         ^^^^^^^^^^^^^^^
36 |     logger.info("Cleaned %d sheet(s) with %s", 3, "preview")
37 |     logger.warning("Removed %s objects (%d failures)", "nested", 0)
   |

E501 Line too long (99 > 88)
  --> tests/test_nesting_view.py:27:89
   |
25 |     doc = _new_doc("TestNestedView")
26 |     placements = [
27 |         PlacedPart(id="P1", sheet_index=0, x=0.0, y=0.0, width=100.0, height=50.0, rotation_deg=0),
   |                                                                                         ^^^^^^^^^^^
28 |         PlacedPart(id="P2", sheet_index=0, x=120.0, y=0.0, width=80.0, height=60.0, rotation_deg=90),
29 |     ]
   |

E501 Line too long (101 > 88)
  --> tests/test_nesting_view.py:28:89
   |
26 |     placements = [
27 |         PlacedPart(id="P1", sheet_index=0, x=0.0, y=0.0, width=100.0, height=50.0, rotation_deg=0),
28 |         PlacedPart(id="P2", sheet_index=0, x=120.0, y=0.0, width=80.0, height=60.0, rotation_deg=90),
   |                                                                                         ^^^^^^^^^^^^^
29 |     ]
   |

E501 Line too long (102 > 88)
  --> tests/test_nesting_view.py:50:89
   |
48 |     doc.recompute()
49 |     placements = [
50 |         PlacedPart(id="P_del", sheet_index=0, x=10.0, y=5.0, width=40.0, height=20.0, rotation_deg=0),
   |                                                                                         ^^^^^^^^^^^^^^
51 |     ]
52 |     doc.removeObject("P_del")
   |

E501 Line too long (100 > 88)
  --> tests/test_nesting_view_cleanup.py:38:89
   |
36 | def test_build_source_map_skips_deleted_objects():
37 |     doc = _DocStub()
38 |     doc.register_group("SquatchCut_SourceParts", [_StubObject("A"), _StubObject("B", deleted=True)])
   |                                                                                         ^^^^^^^^^^^^
39 |     source_map = _build_source_map([_StubObject("C"), _StubObject("D", deleted=True)], doc)
40 |     assert "A" in source_map
   |

E501 Line too long (91 > 88)
  --> tests/test_nesting_view_cleanup.py:39:89
   |
37 |     doc = _DocStub()
38 |     doc.register_group("SquatchCut_SourceParts", [_StubObject("A"), _StubObject("B", deleted=True)])
39 |     source_map = _build_source_map([_StubObject("C"), _StubObject("D", deleted=True)], doc)
   |                                                                                         ^^^
40 |     assert "A" in source_map
41 |     assert "C" in source_map
   |

E501 Line too long (89 > 88)
  --> tests/test_settings_ui_behavior.py:44:89
   |
42 |         panel = SquatchCutSettingsPanel()
43 |         assert panel.sheet_width_edit.text() == sc_units.format_length(1200.0, "metric")
44 |         assert panel.sheet_height_edit.text() == sc_units.format_length(2400.0, "metric")
   |                                                                                         ^
45 |         assert panel.kerf_edit.text() == sc_units.format_length(3.0, "metric")
46 |     finally:
   |

E501 Line too long (103 > 88)
  --> tests/test_settings_ui_behavior.py:69:89
   |
67 |         panel.kerf_edit.setText("1/4")
68 |         # Keep sheet defaults to avoid clearing them
69 |         panel.sheet_width_edit.setText(sc_units.format_length(sc_units.inches_to_mm(50.0), "imperial"))
   |                                                                                         ^^^^^^^^^^^^^^^
70 |         panel.sheet_height_edit.setText(sc_units.format_length(sc_units.inches_to_mm(100.0), "imperial"))
71 |         assert panel._apply_changes() is True
   |

E501 Line too long (105 > 88)
  --> tests/test_settings_ui_behavior.py:70:89
   |
68 |         # Keep sheet defaults to avoid clearing them
69 |         panel.sheet_width_edit.setText(sc_units.format_length(sc_units.inches_to_mm(50.0), "imperial"))
70 |         panel.sheet_height_edit.setText(sc_units.format_length(sc_units.inches_to_mm(100.0), "imperial"))
   |                                                                                         ^^^^^^^^^^^^^^^^^
71 |         assert panel._apply_changes() is True
72 |         assert math.isclose(prefs.get_default_kerf_mm(), sc_units.inches_to_mm(0.25), rel_tol=1e-6)
   |

E501 Line too long (99 > 88)
  --> tests/test_settings_ui_behavior.py:72:89
   |
70 |         panel.sheet_height_edit.setText(sc_units.format_length(sc_units.inches_to_mm(100.0), "imperial"))
71 |         assert panel._apply_changes() is True
72 |         assert math.isclose(prefs.get_default_kerf_mm(), sc_units.inches_to_mm(0.25), rel_tol=1e-6)
   |                                                                                         ^^^^^^^^^^^
73 |     finally:
74 |         _restore_prefs(prefs, snap)
   |

E501 Line too long (97 > 88)
   --> tests/test_settings_ui_behavior.py:101:89
    |
 99 |         settings.hydrate_from_params()
100 |         panel_settings = SquatchCutSettingsPanel()
101 |         assert panel_settings.sheet_width_edit.text() == sc_units.format_length(1220.0, "metric")
    |                                                                                         ^^^^^^^^^
102 |         assert panel_settings.sheet_height_edit.text() == sc_units.format_length(2440.0, "metric")
    |

E501 Line too long (98 > 88)
   --> tests/test_settings_ui_behavior.py:102:89
    |
100 |         panel_settings = SquatchCutSettingsPanel()
101 |         assert panel_settings.sheet_width_edit.text() == sc_units.format_length(1220.0, "metric")
102 |         assert panel_settings.sheet_height_edit.text() == sc_units.format_length(2440.0, "metric")
    |                                                                                         ^^^^^^^^^^
103 |
104 |         panel_main = SquatchCutTaskPanel()
    |

E501 Line too long (106 > 88)
   --> tests/test_settings_ui_behavior.py:105:89
    |
104 |         panel_main = SquatchCutTaskPanel()
105 |         assert panel_main.sheet_widget.sheet_width_edit.text() == sc_units.format_length(1220.0, "metric")
    |                                                                                         ^^^^^^^^^^^^^^^^^^
106 |         assert panel_main.sheet_widget.sheet_height_edit.text() == sc_units.format_length(2440.0, "metric")
107 |         assert panel_main.sheet_widget.preset_combo.currentIndex() == 0
    |

E501 Line too long (107 > 88)
   --> tests/test_settings_ui_behavior.py:106:89
    |
104 |         panel_main = SquatchCutTaskPanel()
105 |         assert panel_main.sheet_widget.sheet_width_edit.text() == sc_units.format_length(1220.0, "metric")
106 |         assert panel_main.sheet_widget.sheet_height_edit.text() == sc_units.format_length(2440.0, "metric")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^
107 |         assert panel_main.sheet_widget.preset_combo.currentIndex() == 0
108 |         assert panel_main.sheet_widget._preset_state.current_id is None
    |

E501 Line too long (96 > 88)
  --> tests/test_sheet_presets.py:60:89
   |
59 | def test_preset_lists_match_expected_values():
60 |     imperial_ids = [preset["id"] for preset in sheet_presets.get_presets_for_system("imperial")]
   |                                                                                         ^^^^^^^^
61 |     assert imperial_ids == ["4x8", "2x4", "5x10"]
62 |     metric_ids = [preset["id"] for preset in sheet_presets.get_presets_for_system("metric")]
   |

E501 Line too long (92 > 88)
  --> tests/test_sheet_presets.py:62:89
   |
60 |     imperial_ids = [preset["id"] for preset in sheet_presets.get_presets_for_system("imperial")]
61 |     assert imperial_ids == ["4x8", "2x4", "5x10"]
62 |     metric_ids = [preset["id"] for preset in sheet_presets.get_presets_for_system("metric")]
   |                                                                                         ^^^^
63 |     assert metric_ids == ["1220x2440", "1220x3050", "1500x3000"]
   |

E501 Line too long (97 > 88)
  --> tests/test_taskpanel_hydration.py:52:89
   |
51 | class _DocStub:
52 |     def __init__(self, unit_label: str, width: float | None = None, height: float | None = None):
   |                                                                                         ^^^^^^^^^
53 |         self.Metadata = {"UnitSystem": unit_label}
54 |         if width is not None:
   |

E501 Line too long (95 > 88)
  --> tests/test_taskpanel_hydration.py:83:89
   |
82 |         assert state["measurement_system"] == "imperial"
83 |         assert math.isclose(state["sheet_width_mm"], sc_units.inches_to_mm(50.0), rel_tol=1e-6)
   |                                                                                         ^^^^^^^
84 |         assert math.isclose(state["sheet_height_mm"], sc_units.inches_to_mm(100.0), rel_tol=1e-6)
85 |         assert sc_units.get_units() == "in"
   |

E501 Line too long (97 > 88)
  --> tests/test_taskpanel_hydration.py:84:89
   |
82 |         assert state["measurement_system"] == "imperial"
83 |         assert math.isclose(state["sheet_width_mm"], sc_units.inches_to_mm(50.0), rel_tol=1e-6)
84 |         assert math.isclose(state["sheet_height_mm"], sc_units.inches_to_mm(100.0), rel_tol=1e-6)
   |                                                                                         ^^^^^^^^^
85 |         assert sc_units.get_units() == "in"
86 |     finally:
   |

E501 Line too long (89 > 88)
   --> tests/test_taskpanel_hydration.py:119:89
    |
117 |     panel._preset_state = sc_sheet_presets.PresetSelectionState()
118 |     panel._presets = sc_sheet_presets.get_preset_entries(panel.measurement_system)
119 |     # The initial preset state should remain at index 0 (None) until the user changes it.
    |                                                                                         ^
120 |     assert panel._preset_state.current_index == 0
121 |     assert panel._preset_state.current_id is None
    |

E501 Line too long (108 > 88)
   --> tests/test_taskpanel_hydration.py:140:89
    |
138 |         assert math.isclose(width_mm, expected[0], rel_tol=1e-9)
139 |         assert math.isclose(height_mm, expected[1], rel_tol=1e-9)
140 |         assert panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(expected[0], "imperial")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^
141 |         assert getattr(doc, "SquatchCutSheetUnits", "") == "in"
142 |     finally:
    |

E501 Line too long (101 > 88)
   --> tests/test_taskpanel_hydration.py:161:89
    |
159 |         assert math.isclose(width_mm, 1500.0, rel_tol=1e-9)
160 |         assert math.isclose(height_mm, 3000.0, rel_tol=1e-9)
161 |         assert panel.sheet_widget.sheet_width_edit.text() == sc_units.format_length(1500.0, "metric")
    |                                                                                         ^^^^^^^^^^^^^
162 |         assert getattr(doc, "SquatchCutSheetUnits", "") == "mm"
163 |     finally:
    |

E501 Line too long (112 > 88)
   --> tests/test_taskpanel_hydration.py:223:89
    |
221 |         assert math.isclose(width_after, 1400.0, rel_tol=1e-9)
222 |         assert math.isclose(height_after, 2600.0, rel_tol=1e-9)
223 |         assert panel_imperial.sheet_widget.sheet_width_edit.text() == sc_units.format_length(1400.0, "imperial")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^
224 |     finally:
225 |         _restore_prefs(prefs, snap)
    |

E501 Line too long (126 > 88)
   --> tests/test_taskpanel_hydration.py:241:89
    |
239 |         panel_imperial = SquatchCutTaskPanel(doc=doc_imperial)
240 |         expected_imperial = prefs.get_default_sheet_size_mm("imperial")
241 |         assert panel_imperial.sheet_widget.sheet_width_edit.text() == sc_units.format_length(expected_imperial[0], "imperial")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
242 |
243 |         doc_metric = _DocStub("Metric (mm)")
    |

E501 Line too long (108 > 88)
   --> tests/test_taskpanel_hydration.py:245:89
    |
243 |         doc_metric = _DocStub("Metric (mm)")
244 |         panel_metric = SquatchCutTaskPanel(doc=doc_metric)
245 |         assert panel_metric.sheet_widget.sheet_width_edit.text() == sc_units.format_length(1220.0, "metric")
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^
246 |     finally:
247 |         _restore_prefs(prefs, snap)
    |

E501 Line too long (96 > 88)
  --> tests/test_taskpanel_preview_apply.py:59:89
   |
57 |             group = getattr(other, "Group", None)
58 |             if isinstance(group, list):
59 |                 other.Group = [child for child in group if getattr(child, "Name", None) != name]
   |                                                                                         ^^^^^^^^
60 |
61 |     def recompute(self):
   |

E501 Line too long (93 > 88)
   --> tests/test_taskpanel_preview_apply.py:117:89
    |
115 |     doc = DummyDoc()
116 |     app_stub = types.SimpleNamespace(ActiveDocument=doc, newDocument=lambda _name: doc)
117 |     gui_stub = types.SimpleNamespace(Control=types.SimpleNamespace(closeDialog=lambda: None))
    |                                                                                         ^^^^^
118 |     monkeypatch.setattr(cmd_run_nesting, "App", app_stub)
119 |     monkeypatch.setattr(cmd_run_nesting, "Gui", gui_stub)
    |

E501 Line too long (109 > 88)
   --> tests/test_taskpanel_preview_apply.py:133:89
    |
131 |     panel._validate_readiness = lambda: None
132 |     panel._set_run_buttons_enabled = lambda _flag: None
133 |     panel.status_label = types.SimpleNamespace(setText=lambda _text: None, setStyleSheet=lambda _style: None)
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^
134 |     return panel, doc, app_stub
    |

E501 Line too long (105 > 88)
   --> tests/test_taskpanel_preview_apply.py:172:89
    |
170 |     assert doc.getObject("SquatchCut_NestedParts") is not None
171 |     assert doc.getObject("SquatchCut_SourceParts") is not None
172 |     assert _collect_prefixed_names(doc, "SquatchCut_Sheet") == ["SquatchCut_Sheet", "SquatchCut_Sheet_1"]
    |                                                                                         ^^^^^^^^^^^^^^^^^
173 |     nested_children = _collect_prefixed_names(doc, "SC_Nested_")
174 |     assert nested_children == ["SC_Nested_part"]
    |

E501 Line too long (105 > 88)
   --> tests/test_taskpanel_preview_apply.py:196:89
    |
194 |     assert snap["nested_children"] == ["SC_Nested_part"]
195 |     assert snap["names"].count("SquatchCut_NestedParts") == 1
196 |     assert _collect_prefixed_names(doc, "SquatchCut_Sheet") == ["SquatchCut_Sheet", "SquatchCut_Sheet_1"]
    |                                                                                         ^^^^^^^^^^^^^^^^^
    |

E501 Line too long (94 > 88)
  --> tests/test_view_controller.py:42:89
   |
40 |     doc = DummyDoc()
41 |     legacy_child = DummyObject("LegacyChild")
42 |     legacy_group = DummyGroup(view_controller.LEGACY_SHEET_GROUP_NAME, members=[legacy_child])
   |                                                                                         ^^^^^^
43 |     nested_obj = DummyObject("SC_Nested_ghost")
44 |     nested_group = DummyGroup(view_controller.NESTED_GROUP_NAME, members=[nested_obj])
   |

E501 Line too long (94 > 88)
  --> tests/test_views.py:13:89
   |
12 | class _DummyPlacement:
13 |     def __init__(self, part_id, width, height, x=0.0, y=0.0, sheet_index=0, rotation_deg=0.0):
   |                                                                                         ^^^^^^
14 |         self.id = part_id
15 |         self.width = width
   |

E501 Line too long (92 > 88)
  --> tests/test_views.py:82:89
   |
81 | def test_sheet_view_hybrid_mode():
82 |     doc, sheet, source_group, nested_group, source_child, nested_child = _prepare_document()
   |                                                                                         ^^^^
83 |     source_child_name = source_child.Name
84 |     nested_child_name = nested_child.Name
   |

E501 Line too long (112 > 88)
  --> tests/test_views.py:95:89
   |
93 |         assert sheet_obj is not None
94 |         bbox = sheet_obj.Shape.BoundBox
95 |         positive_lengths = sorted(length for length in (bbox.XLength, bbox.YLength, bbox.ZLength) if length > 0)
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^
96 |         assert positive_lengths == pytest.approx(sorted([320.0, 160.0]))
97 |         assert [obj.Name for obj in source_group.Group] == original_source_children
   |

E501 Line too long (92 > 88)
   --> tests/test_views.py:109:89
    |
108 | def test_source_view_hybrid_mode():
109 |     doc, sheet, source_group, nested_group, source_child, nested_child = _prepare_document()
    |                                                                                         ^^^^
110 |     source_child_name = source_child.Name
111 |     nested_child_name = nested_child.Name
    |

E501 Line too long (92 > 88)
   --> tests/test_views.py:130:89
    |
129 | def test_nesting_view_hybrid_mode():
130 |     doc, sheet, source_group, nested_group, source_child, nested_child = _prepare_document()
    |                                                                                         ^^^^
131 |     source_child_name = source_child.Name
132 |     nested_child_name = nested_child.Name
    |

E501 Line too long (93 > 88)
   --> tests/test_views.py:135:89
    |
133 |     try:
134 |         placements = [
135 |             _DummyPlacement("P1", 30.0, 15.0, x=5.0, y=5.0, sheet_index=0, rotation_deg=0.0),
    |                                                                                         ^^^^^
136 |             _DummyPlacement("P2", 25.0, 10.0, x=40.0, y=5.0, sheet_index=0, rotation_deg=90.0),
137 |         ]
    |

E501 Line too long (95 > 88)
   --> tests/test_views.py:136:89
    |
134 |         placements = [
135 |             _DummyPlacement("P1", 30.0, 15.0, x=5.0, y=5.0, sheet_index=0, rotation_deg=0.0),
136 |             _DummyPlacement("P2", 25.0, 10.0, x=40.0, y=5.0, sheet_index=0, rotation_deg=90.0),
    |                                                                                         ^^^^^^^
137 |         ]
138 |         session_state.set_last_layout(placements)
    |

E501 Line too long (106 > 88)
   --> tests/test_views.py:176:89
    |
174 |         _assert_visibility(source_group_obj, False)
175 |         _assert_visibility(nested_group_obj, True)
176 |         sc_named = {obj.Name for obj in getattr(doc, "Objects", []) if obj.Name.startswith("SquatchCut_")}
    |                                                                                         ^^^^^^^^^^^^^^^^^^
177 |         expected = {"SquatchCut_Sheet", "SquatchCut_SourceParts", "SquatchCut_NestedParts"}
178 |         assert sc_named <= expected
    |

E501 Line too long (91 > 88)
   --> tests/test_views.py:177:89
    |
175 |         _assert_visibility(nested_group_obj, True)
176 |         sc_named = {obj.Name for obj in getattr(doc, "Objects", []) if obj.Name.startswith("SquatchCut_")}
177 |         expected = {"SquatchCut_Sheet", "SquatchCut_SourceParts", "SquatchCut_NestedParts"}
    |                                                                                         ^^^
178 |         assert sc_named <= expected
179 |     finally:
    |

E501 Line too long (110 > 88)
  --> tests_integration/test_freecad_nesting.py:37:89
   |
35 |     - Expect at least one Sheet_* group with clones.
36 |     """
37 |     FreeCAD.Console.PrintMessage("[SquatchCut QA] Running test_run_nesting_creates_sheet_groups_and_clones\n")
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^
38 |     print("[SquatchCut QA] Running test_run_nesting_creates_sheet_groups_and_clones")
39 |     # Import Draft inside FreeCAD environment
   |

E501 Line too long (106 > 88)
  --> tests_integration/test_freecad_nesting.py:87:89
   |
85 |     The command should return gracefully and not create any sheets.
86 |     """
87 |     FreeCAD.Console.PrintMessage("[SquatchCut QA] Running test_run_nesting_no_selection_shows_no_crash\n")
   |                                                                                         ^^^^^^^^^^^^^^^^^^
88 |     print("[SquatchCut QA] Running test_run_nesting_no_selection_shows_no_crash")
89 |     import FreeCADGui as Gui
   |

E501 Line too long (90 > 88)
  --> tests_integration/test_multi_sheet_nesting.py:44:89
   |
42 |     doc = _new_doc("MultiSheetTest")
43 |     try:
44 |         run_csv_import(doc, _csv_path("valid_panels_multi_sheet.csv"), csv_units="metric")
   |                                                                                         ^^
45 |         session_state.set_job_sheets(
46 |             [
   |

E501 Line too long (92 > 88)
  --> tests_integration/test_multi_sheet_nesting.py:47:89
   |
45 |         session_state.set_job_sheets(
46 |             [
47 |                 {"width_mm": 600.0, "height_mm": 1200.0, "quantity": 1, "label": "Sheet A"},
   |                                                                                         ^^^^
48 |                 {"width_mm": 600.0, "height_mm": 1200.0, "quantity": 1, "label": "Sheet B"},
49 |             ]
   |

E501 Line too long (92 > 88)
  --> tests_integration/test_multi_sheet_nesting.py:48:89
   |
46 |             [
47 |                 {"width_mm": 600.0, "height_mm": 1200.0, "quantity": 1, "label": "Sheet A"},
48 |                 {"width_mm": 600.0, "height_mm": 1200.0, "quantity": 1, "label": "Sheet B"},
   |                                                                                         ^^^^
49 |             ]
50 |         )
   |

E501 Line too long (114 > 88)
  --> tests_integration/test_multi_sheet_nesting.py:57:89
   |
55 |         cmd.Activated()
56 |
57 |         boundaries = [obj for obj in getattr(doc, "Objects", []) or [] if obj.Name.startswith("SquatchCut_Sheet")]
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
58 |         assert len(boundaries) == 2, "Expected one boundary per configured sheet"
59 |         assert len(session.get_sheet_objects()) == 2
   |

E501 Line too long (108 > 88)
  --> tests_integration/test_multi_sheet_nesting.py:63:89
   |
61 |         assert nested_objs
62 |         initial_nested_count = len(nested_objs)
63 |         assert any(getattr(obj.Placement, "Base", FreeCAD.Vector(0, 0, 0)).x > 600.0 for obj in nested_objs)
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^
64 |         assert session.get_source_panel_objects(), "Source panel objects should persist after nesting"
   |

E501 Line too long (102 > 88)
  --> tests_integration/test_multi_sheet_nesting.py:64:89
   |
62 |         initial_nested_count = len(nested_objs)
63 |         assert any(getattr(obj.Placement, "Base", FreeCAD.Vector(0, 0, 0)).x > 600.0 for obj in nested_objs)
64 |         assert session.get_source_panel_objects(), "Source panel objects should persist after nesting"
   |                                                                                         ^^^^^^^^^^^^^^
65 |
66 |         cut_ops = generate_cutops_from_session()
   |

E501 Line too long (120 > 88)
  --> tests_integration/test_multi_sheet_nesting.py:73:89
   |
71 |         cmd2.Activated()
72 |
73 |         boundaries_after = [obj for obj in getattr(doc, "Objects", []) or [] if obj.Name.startswith("SquatchCut_Sheet")]
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
74 |         assert len(boundaries_after) == 2
75 |         assert len(session.get_nested_panel_objects()) == initial_nested_count
   |

E501 Line too long (108 > 88)
  --> tests_integration/test_multi_sheet_nesting.py:76:89
   |
74 |         assert len(boundaries_after) == 2
75 |         assert len(session.get_nested_panel_objects()) == initial_nested_count
76 |         assert session.get_source_panel_objects(), "Source panels should remain tracked after repeated runs"
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^
77 |     finally:
78 |         try:
   |

E501 Line too long (90 > 88)
  --> tests_integration/test_multi_sheet_nesting.py:89:89
   |
87 |     doc = _new_doc("SimpleSheetMode")
88 |     try:
89 |         run_csv_import(doc, _csv_path("valid_panels_multi_sheet.csv"), csv_units="metric")
   |                                                                                         ^^
90 |         session_state.set_sheet_size(600.0, 1200.0)
91 |         session_state.set_sheet_mode("simple")
   |

E501 Line too long (92 > 88)
  --> tests_integration/test_multi_sheet_nesting.py:97:89
   |
96 |         sheet_objects = session.get_sheet_objects()
97 |         assert len(sheet_objects) >= 2, "Expected multiple sheet boundaries in simple mode."
   |                                                                                         ^^^^
98 |         assert session_state.get_sheet_mode() == "simple"
99 |     finally:
   |

E501 Line too long (109 > 88)
  --> tests_integration/test_taskpanel_workflow.py:52:89
   |
50 |         assert "48" in panel.sheet_width_edit.text()
51 |         assert "96" in panel.sheet_height_edit.text()
52 |         assert panel.kerf_edit.text().strip() in {"1/8", "0.125", "1/8\""} or "1/8" in panel.kerf_edit.text()
   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^
53 |     finally:
54 |         _restore_prefs(prefs, snap)
   |

E501 Line too long (93 > 88)
  --> tests_integration/test_taskpanel_workflow.py:74:89
   |
72 |         panel._on_units_changed()
73 |         assert panel.measurement_system == "imperial"
74 |         assert "48" in panel.sheet_width_edit.text() or "47" in panel.sheet_width_edit.text()
   |                                                                                         ^^^^^
75 |         assert panel.kerf_edit.text()
76 |     finally:
   |

Found 444 errors.
No fixes available (3 hidden fixes can be enabled with the `--unsafe-fixes` option).
