{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"SquatchCut (logo placeholder)","text":"<p>SquatchCut is a cryptid-powered nesting workbench for FreeCAD that extracts panels, nests them, and exports reports.</p> <p>Status: 0.3.x release line focuses on CSV/rectangular nesting. Shape-based nesting is available as an experimental preview (longer runs, feedback welcome). Tested on FreeCAD 0.21+.</p>"},{"location":"#key-features","title":"Key Features","text":""},{"location":"#traditional-csv-workflow","title":"Traditional CSV Workflow","text":"<ul> <li>FreeCAD workbench with panel extraction and nesting</li> <li>CSV import (optional per-part rotation) and TypeScript validation tools</li> <li>Multi-sheet rectangular nesting with kerf/gap controls and per-part 0\u00b0/90\u00b0 rotation</li> <li>Fast processing for production runs and standard rectangular parts</li> </ul>"},{"location":"#shape-based-nesting-experimental-preview","title":"Shape-Based Nesting (Experimental Preview)","text":"<ul> <li>True Geometric Nesting: Design complex parts directly in FreeCAD</li> <li>Maximum Material Utilization: Nest curved, angled, and detailed shapes efficiently</li> <li>Accurate Shape Processing: Considers actual part geometry, not just bounding boxes</li> <li>Intelligent Mode Selection: Automatically chooses optimal nesting algorithm</li> <li>Export Support: CSV/SVG/DXF exports generated through the SquatchCut exporter</li> </ul>"},{"location":"#common-features","title":"Common Features","text":"<ul> <li>Units preference (metric/imperial) and CSV units selector; sheet size fields reflect the chosen units</li> <li>Geometry generation, PDF/CSV reporting, and cutlist CSV export from nested layouts</li> <li>Performance helpers for complex shapes and large datasets</li> <li>Embedded AI worker workflows (Codex-style prompts) for guided development</li> </ul>"},{"location":"#workflow-notes","title":"Workflow Notes","text":"<ul> <li>CSV import shows source panel rectangles in the XY plane and fits the view automatically.</li> <li>Preview/Apply nesting hides source panels and builds fresh sheets + nested clones each run (older sheets are cleared first).</li> <li>Use the Show Source View button in the task panel to hide sheets and reveal sources again at any time.</li> <li>Cutlist export derives rip/crosscut lines from the nested layout and now merges near-duplicate edges while ignoring cuts that don\u2019t cross any panel, keeping the cutlist shop-friendly.</li> </ul>"},{"location":"#explore","title":"Explore","text":""},{"location":"#getting-started","title":"Getting Started","text":"<ul> <li>Installation Guide</li> <li>Basic Workflow</li> <li>Quick Start Guide</li> </ul>"},{"location":"#user-documentation","title":"User Documentation","text":"<ul> <li>Complete User Guide - Traditional CSV and shape-based workflows</li> <li>Cabinet Maker Workflow Guide - Shape-based nesting for furniture makers</li> <li>Technical Reference - Advanced configuration and API documentation</li> <li>Commands Reference</li> </ul>"},{"location":"#examples-and-samples","title":"Examples and Samples","text":"<ul> <li>Cabinet Projects - Complete workflow examples</li> <li>CSV Examples - Traditional workflow samples</li> <li>Performance Benchmarks - Testing and optimization</li> </ul>"},{"location":"#developer-resources","title":"Developer Resources","text":"<ul> <li>Developer Guide</li> <li>Project Guide v3.3 (archived)</li> <li>AI Workflows</li> </ul>"},{"location":"Development_Environment/","title":"Development Environment","text":"<p>This document defines the canonical SquatchCut development workflow so that local AI tooling (ChatGPT-based assistants, VS Code AI extensions, etc.) can discover and operate on the same workspace as the developer.</p>"},{"location":"Development_Environment/#ai-forward-development-environment","title":"AI-Forward Development Environment","text":""},{"location":"Development_Environment/#a-local-workspace-requirement","title":"A. Local Workspace Requirement","text":"<ul> <li>Clone the SquatchCut repository onto the host filesystem (for example: <code>~/dev/SquatchCut</code> on macOS).</li> <li>Always open the project via <code>squatchcut.code-workspace</code> from the host. This ensures the ChatGPT Mac app and other local tools see the same workspace that VS Code uses.</li> <li>Do not rely on container-only or remote-only copies of the code; the host-cloned repo is the single source of truth.</li> </ul>"},{"location":"Development_Environment/#b-dev-container-behavior","title":"B. Dev Container Behavior","text":"<ul> <li>When opening the repo in VS Code, use File \u2192 Open Workspace\u2026 \u2192 squatchcut.code-workspace, then choose \u201cReopen in Container\u201d if you need the dev container.</li> <li>The dev container bind-mounts the host workspace at <code>/workspaces/SquatchCut</code>. Editing inside the container still operates on the host files.</li> <li>The container provides tooling and dependencies only; it is not the canonical storage location for the code.</li> </ul>"},{"location":"Development_Environment/#c-ai-toolchain-compatibility","title":"C. AI Toolchain Compatibility","text":"<ul> <li>ChatGPT Mac app \u201cWork With Code\u201d lists the project automatically when the host workspace (squatchcut.code-workspace) is open.</li> <li>VS Code AI extensions (Codex, Copilot, etc.) running either locally or inside the container see the same files because the container bind-mounts the host repo.</li> <li>Avoid workflows where the \u201creal\u201d code exists only inside opaque Docker volumes or remote filesystems that macOS cannot access.</li> </ul> <p>Following this process guarantees that human developers and AI assistants operate on the same SquatchCut workspace, keeping the experience predictable and productive.</p>"},{"location":"Project_Guide_v3.2/","title":"SquatchCut Project Guide (v3.2 \u2013 AI Agent Edition)","text":""},{"location":"Project_Guide_v3.2/#0-meta-goals-of-v32","title":"0. Meta Goals of v3.2","text":"<p>This updated guide focuses specifically on:</p>"},{"location":"Project_Guide_v3.2/#a-eliminating-ambiguity-in-ai-agent-instructions","title":"A. Eliminating ambiguity in AI Agent instructions","text":"<ul> <li>Instruction blocks now have strict, enforceable structure</li> <li>No markdown, no commentary inside blocks  </li> <li>Reasoning level declarations mandatory  </li> <li>File paths and expected patterns must be explicit  </li> <li>UI behavior described unambiguously  </li> <li>Persistent behavior safeguarded from accidental overwrites  </li> </ul>"},{"location":"Project_Guide_v3.2/#b-making-you-faster-and-making-me-the-user-more-consistent","title":"B. Making YOU faster and making ME (The User) more consistent","text":"<ul> <li>You describe requirements  </li> <li>I translate them into clear directives  </li> <li>The Agent executes</li> </ul>"},{"location":"Project_Guide_v3.2/#c-forcing-ai-agents-to-conform-to-squatchcuts-architecture","title":"C. Forcing AI Agents to conform to SquatchCut\u2019s architecture","text":"<p>Agents should never reinvent the repo or introduce new patterns.</p>"},{"location":"Project_Guide_v3.2/#ai-tooling-workspace-layout","title":"AI Tooling &amp; Workspace Layout","text":"<ul> <li>Developers clone SquatchCut on the host and open <code>squatchcut.code-workspace</code>; this host-visible workspace is what AI tools discover.</li> <li>When \u201cReopen in Container\u201d is used, VS Code bind-mounts the host repo at <code>/workspaces/SquatchCut</code>, so the container simply provides tooling while the canonical code stays on the host.</li> <li>See <code>docs/Development_Environment.md</code> for full AI-forward workflow details.</li> <li>See also <code>AGENTS.md</code> in the root directory for strict behavioral rules.</li> </ul>"},{"location":"Project_Guide_v3.2/#1-project-purpose","title":"1. Project Purpose","text":"<p>SquatchCut is a FreeCAD add-on that takes CSV part lists and generates optimized sheet nests for woodworking, cabinetry, and general sheet-material workflows.</p>"},{"location":"Project_Guide_v3.2/#core-objectives","title":"Core Objectives","text":"<ul> <li>Fast, predictable, simple  </li> <li>Minimal UI friction  </li> <li>Always mm internally, fractions if imperial  </li> <li>Stable hydration/initialization  </li> <li>Simple CSV \u2192 sheet \u2192 nest \u2192 export workflow  </li> </ul>"},{"location":"Project_Guide_v3.2/#2-roles","title":"2. Roles","text":""},{"location":"Project_Guide_v3.2/#user-steven","title":"User (Steven)","text":"<ul> <li>Product Owner  </li> <li>Scrum-ish Master  </li> <li>UAT wrangler  </li> <li>Requirements authority  </li> </ul>"},{"location":"Project_Guide_v3.2/#architect-aihuman","title":"Architect (AI/Human)","text":"<ul> <li>Writes requirements  </li> <li>Produces Agent instruction blocks; all AI tasks must originate here</li> <li>Ensures patterns and rules never drift  </li> <li>Maintains documentation  </li> </ul>"},{"location":"Project_Guide_v3.2/#jules-lead-developer-pm","title":"Jules (Lead Developer &amp; PM)","text":"<ul> <li>Plans implementation from Architect specs</li> <li>Manages high-level decisions and branch strategy (<code>jules/&lt;feature&gt;</code>)</li> </ul>"},{"location":"Project_Guide_v3.2/#codex-developer","title":"Codex (Developer)","text":"<ul> <li>Implements code changes based on Jules' plan (<code>codex/&lt;feature&gt;</code>)</li> <li>Must obey patterns and reasoning levels</li> <li>Must build tests with every core change</li> <li>See <code>AGENTS.md</code> \u2192 AI Worker Protocol for full details</li> </ul>"},{"location":"Project_Guide_v3.2/#3-core-principles","title":"3. Core Principles","text":"<ol> <li>Internal units = millimeters </li> <li>Imperial = fractional inches only </li> <li>Defaults never change unless Settings says so </li> <li>Presets never override defaults </li> <li>TaskPanel never auto-selects presets </li> <li>hydrate_from_params() ALWAYS runs before UI widgets </li> <li>Agents must use reasoning level declarations</li> <li>Every logic change must include tests </li> <li>UI must not overflow or fail to load </li> <li>Settings panel must always open </li> <li>No relative imports </li> <li>No pattern drift </li> <li>No silent behavior changes </li> </ol>"},{"location":"Project_Guide_v3.2/#4-ai-agent-communication-rules-updated-hardened","title":"4. AI Agent Communication Rules (Updated + Hardened)","text":""},{"location":"Project_Guide_v3.2/#41-instruction-block-format","title":"4.1 Instruction Block Format","text":"<p>Every instruction block MUST begin with:</p> <pre><code>Recommended reasoning level: &lt;LEVEL&gt;\n</code></pre> <p>Followed by:</p> <pre><code>Agent, this task requires &lt;LEVEL&gt; reasoning.\n\n&lt;instructions&gt;\n</code></pre> <ul> <li>No markdown  </li> <li>No language tag  </li> <li>No commentary  </li> <li>Only instructions  </li> <li>Must be safe to paste directly into the Agent</li> </ul>"},{"location":"Project_Guide_v3.2/#42-required-elements-inside-each-block","title":"4.2 Required Elements Inside Each Block","text":"<ul> <li>Full file paths  </li> <li>Explicit operation lists  </li> <li>Expected behavior  </li> <li>Acceptance criteria  </li> <li>Guardrails  </li> </ul>"},{"location":"Project_Guide_v3.2/#43-when-to-use-levels","title":"4.3 When to Use Levels","text":"<ul> <li>LOW: trivial  </li> <li>MEDIUM: single-file  </li> <li>HIGH: multi-file + UI or settings  </li> <li>EXTRA-HIGH: architectural or algorithm refactor</li> </ul>"},{"location":"Project_Guide_v3.2/#5-hydration-rules-hard-requirements","title":"5. Hydration Rules (Hard Requirements)","text":"<p>Hydration has caused repeated issues. These rules are absolute:</p>"},{"location":"Project_Guide_v3.2/#51-hydrate_from_params-must","title":"5.1 hydrate_from_params() must:","text":"<ul> <li>Load all persistent values  </li> <li>Guarantee type consistency  </li> <li>Normalize internal units  </li> <li>Never access GUI  </li> <li>Never import GUI modules  </li> <li>Never modify defaults except on Settings save  </li> </ul>"},{"location":"Project_Guide_v3.2/#52-taskpanel-initialization-order","title":"5.2 TaskPanel Initialization Order","text":"<p>This order is non-negotiable:</p> <ol> <li>Load session_state  </li> <li>Call hydrate_from_params()  </li> <li>Create all UI widgets  </li> <li>Populate UI values from hydrated state  </li> <li>Apply measurement formatting  </li> <li>Connect signals  </li> <li>Render panel  </li> </ol> <p>No exceptions.</p>"},{"location":"Project_Guide_v3.2/#6-measurement-system-architecture","title":"6. Measurement System Architecture","text":""},{"location":"Project_Guide_v3.2/#61-internal-storage","title":"6.1 Internal Storage","text":"<p>Always millimeters.</p>"},{"location":"Project_Guide_v3.2/#62-display-modes","title":"6.2 Display Modes","text":"<ul> <li>metric \u2192 mm  </li> <li>imperial \u2192 fractional inches  </li> </ul>"},{"location":"Project_Guide_v3.2/#63-ui-reformatting-rules","title":"6.3 UI Reformatting Rules","text":"<p>Switching measurement system requires full reformatting of all numeric UI fields.</p>"},{"location":"Project_Guide_v3.2/#65-split-defaults-new","title":"6.5 Split Defaults (New)","text":"<p>To prevent drift from rounding errors: - User-configurable defaults (Sheet size, Kerf, Gap) must be stored separately for Metric and Imperial. - Switching systems in Settings swaps the loaded default, it does not convert/overwrite the existing one.</p>"},{"location":"Project_Guide_v3.2/#64-fraction-logic","title":"6.4 Fraction Logic","text":"<p>Must support: - whole - fraction - mixed - hyphenated Must round-trip without drift.</p>"},{"location":"Project_Guide_v3.2/#7-preset-default-logic-fortified","title":"7. Preset &amp; Default Logic (Fortified)","text":""},{"location":"Project_Guide_v3.2/#defaults","title":"Defaults","text":"<ul> <li>Set only via Settings panel  </li> <li>Never altered by TaskPanel  </li> <li>Hydrate_from_params loads them  </li> </ul>"},{"location":"Project_Guide_v3.2/#presets","title":"Presets","text":"<ul> <li>Always start blank  </li> <li>Only modify sheet width/height  </li> <li>Never modify defaults  </li> <li>Never auto-selected  </li> </ul>"},{"location":"Project_Guide_v3.2/#imperial-default-sheet","title":"Imperial Default Sheet","text":"<p>Exactly 48 \u00d7 96 inches.</p>"},{"location":"Project_Guide_v3.2/#8-ui-behavior-rules","title":"8. UI Behavior Rules","text":""},{"location":"Project_Guide_v3.2/#81-settings-panel","title":"8.1 Settings Panel","text":"<ul> <li>Must always open  </li> <li>Must use TaskPanel_Settings  </li> <li>Must call hydrate_from_params() before building widgets  </li> </ul>"},{"location":"Project_Guide_v3.2/#82-main-taskpanel","title":"8.2 Main TaskPanel","text":"<ul> <li>Acts as a Controller for sub-widgets (<code>Input</code>, <code>Sheet</code>, <code>Nesting</code>).</li> <li>Must reflect hydrated defaults.</li> <li>Must not override defaults.</li> <li>Must not infer presets.</li> <li>Must not open multiple instances.</li> </ul>"},{"location":"Project_Guide_v3.2/#83-sheetsourcenesting-view-rules","title":"8.3 Sheet/Source/Nesting View Rules","text":"<ul> <li>Clear groups before redraw  </li> <li>Never leave orphans  </li> <li>Auto-zoom after draw  </li> <li>Maintain consistent naming:</li> <li>SquatchCut_Sheet  </li> <li>SquatchCut_SourceParts  </li> <li>SquatchCut_NestedParts  </li> </ul>"},{"location":"Project_Guide_v3.2/#9-tests","title":"9. Tests","text":""},{"location":"Project_Guide_v3.2/#91-must-test","title":"9.1 Must Test","text":"<ul> <li>Fraction parsing  </li> <li>Fraction formatting  </li> <li>CSV parsing  </li> <li>Default initialization  </li> <li>Hydration logic  </li> <li>Preset behavior  </li> <li>TaskPanel load behavior  </li> <li>Measurement-system conversions  </li> </ul>"},{"location":"Project_Guide_v3.2/#92-should-test","title":"9.2 Should Test","text":"<ul> <li>Sheet object creation  </li> <li>Group clearing  </li> <li>UI stability (when possible)  </li> </ul>"},{"location":"Project_Guide_v3.2/#10-add-on-manager-rules","title":"10. Add-On Manager Rules","text":"<p>Agents must ensure:</p> <ul> <li>Correct zip structure  </li> <li>Correct metadata  </li> <li>No relative imports  </li> <li>All icons exist  </li> <li>Version increments  </li> </ul>"},{"location":"Project_Guide_v3.2/#11-export-architecture-v33-preparation","title":"11. Export Architecture (v3.3 preparation)","text":""},{"location":"Project_Guide_v3.2/#111-canonical-export-data-model","title":"11.1 Canonical Export Data Model","text":"<ul> <li><code>freecad/SquatchCut/core/exporter.py</code> defines the only valid export model:</li> <li><code>ExportJob</code> \u2013 job-wide metadata + sheets, measurement system, job name.</li> <li><code>ExportSheet</code> \u2013 sheet index, width/height in mm, list of part placements.</li> <li><code>ExportPartPlacement</code> \u2013 per-part geometry (x_mm, y_mm, width_mm, height_mm, rotation_deg) and part_id.</li> <li>ExportJob is built from the latest nesting layout + sheet config via <code>build_export_job_from_current_nesting</code>.</li> <li>All geometry is stored in millimeters. Measurement system only affects formatted strings.</li> </ul>"},{"location":"Project_Guide_v3.2/#112-deterministic-export-behavior","title":"11.2 Deterministic Export Behavior","text":"<ul> <li>CSV export (<code>export_cutlist</code>)</li> <li>Emits stable header columns (sheet_index, mm geometry, formatted strings).</li> <li>Raw mm values are untouched. <code>width_display/height_display</code> respect ExportJob.measurement_system.</li> <li>Tests cover both metric and imperial output.</li> <li>SVG export (<code>export_nesting_to_svg</code>)</li> <li>Generates one 2D SVG per sheet; filenames include <code>_S{n}</code> suffix.</li> <li>Draws sheet border, stroke-only part rectangles, deterministic labels (ID + dimensions), and header \u201cSheet i of N \u2013 WxH units\u201d.</li> <li>No FreeCAD 3D/export calls; everything is generated from ExportJob data.</li> <li>Design Principle: Export behavior must be deterministic and driven solely by ExportJob. FreeCAD document geometry is never a source of truth for exported artifacts.</li> </ul>"},{"location":"Project_Guide_v3.2/#113-out-of-scope","title":"11.3 Out-of-scope","text":"<ul> <li>DXF export remains deferred. Implementing DXF is explicitly out of scope for the current release cycle and cannot block delivery.</li> </ul>"},{"location":"Project_Guide_v3.2/#12-status-backlog-addendum-dec-2025","title":"12. Status &amp; Backlog Addendum (Dec 2025)","text":"<p>NOTE This addendum does not change any core architectural rules. It supersedes the older backlog-alignment section that followed the post-nesting fixes, providing a reconciled, status-aware view. The information below reflects the current codebase (CSV ingestion, session-state hydration, multi-sheet helpers, guillotine engine, TaskPanel warning banner, and existing tests/backlog files).</p>"},{"location":"Project_Guide_v3.2/#a-status-snapshot-dec-2025","title":"A. STATUS SNAPSHOT (DEC 2025)","text":""},{"location":"Project_Guide_v3.2/#1-features-stability","title":"1. Features &amp; Stability","text":"<ul> <li>Core CSV ingestion and session-state hydration flows remain stable and predictable.</li> <li>All four nesting strategies (default optimized, shelf, cut-friendly, guillotine) operate reliably under normal conditions.</li> <li>The normalized job-sheet helper in <code>freecad/SquatchCut/core/nesting.py</code> (~115\u2013210) is the unified source of truth consumed by every strategy.</li> <li>The TaskPanel warning banner in <code>freecad/SquatchCut/gui/taskpanel_main.py</code> (~323\u2013354) alerts users when cut-oriented modes may ignore additional sheets.</li> <li>Overall CSV \u2192 session \u2192 sheet normalization \u2192 nesting pipelines are cohesive and predictable.</li> </ul>"},{"location":"Project_Guide_v3.2/#2-recently-refactored-fragile-areas","title":"2. Recently Refactored / Fragile Areas","text":"<ul> <li>Multi-sheet heuristics (<code>freecad/SquatchCut/core/nesting.py</code> ~524\u2013779) iterate sheet sizes but still lack per-sheet utilization metrics and user-visible exhaustion handling.</li> <li>The guillotine runner (<code>freecad/SquatchCut/core/cut_optimization.py</code> ~34\u2013151) honors multi-sheet jobs yet has no per-sheet stats and can behave unexpectedly under aggressive exhaustion.</li> <li>Hydration/UI wiring integrated <code>_sheet_warning_active</code> via <code>_build_nesting_group</code> and <code>_update_cut_mode_sheet_warning</code>; changes must respect the hydration order.</li> </ul>"},{"location":"Project_Guide_v3.2/#3-known-or-likely-regressions","title":"3. Known or Likely Regressions","text":"<ul> <li>Preview vs Apply (<code>freecad/SquatchCut/gui/taskpanel_main.py</code> ~840\u2013869): Preview and Apply share the same destructive command path. Preview can mutate the document; TODO already notes need for a non-destructive channel.</li> <li>CSV Export (<code>freecad/SquatchCut/gui/commands/cmd_run_nesting.py</code> ~585\u2013614): Export remains a stub. Menu items exist without producing real artifacts, potentially misleading users.</li> </ul>"},{"location":"Project_Guide_v3.2/#4-ui-ux-issues","title":"4. UI / UX Issues","text":"<ul> <li>TaskPanel layout is crowded (Preview/Run/Show Source row + checkbox clusters, <code>freecad/SquatchCut/gui/taskpanel_main.py</code> ~333\u2013353) causing clipping on narrow docks.</li> <li>The warning banner consumes full width with no adaptive fallback, increasing overflow risk in constrained layouts.</li> </ul>"},{"location":"Project_Guide_v3.2/#5-testing-coverage-gaps","title":"5. Testing Coverage &amp; Gaps","text":"<ul> <li>Full <code>pytest</code> sweeps collect ~171 tests but can time out (~120\u202fs) in limited environments.</li> <li>Critical suites (<code>tests/test_nesting.py</code>, <code>tests/test_taskpanel_hydration.py</code>) pass, covering baseline nesting correctness and hydration behavior.</li> <li>Gaps remain for preview lifecycle vs apply, imperial formatting drift, sheet exhaustion behavior, warning-banner state transitions across permutations, and deep multi-sheet exhaustion edge cases.</li> </ul>"},{"location":"Project_Guide_v3.2/#6-technical-debt-documentation","title":"6. Technical Debt &amp; Documentation","text":"<ul> <li>CSV export requires a complete implementation and deterministic cutlist output.</li> <li>Preview determinism needs a non-destructive workflow and clear cleanup of <code>SquatchCut_*</code> groups.</li> <li>Per-sheet visualization needs better labeling, spacing, and navigation aids.</li> <li>Documentation: v3.2 guide and <code>docs/Backlog.md</code> now track Completed/Active/Future work; this addendum aligns both with the live code.</li> </ul>"},{"location":"Project_Guide_v3.2/#b-backlog-alignment-supersedes-old-section-11","title":"B. BACKLOG ALIGNMENT (SUPERSEDES OLD SECTION 11)","text":""},{"location":"Project_Guide_v3.2/#1-completed-since-v32","title":"1. Completed Since v3.2","text":"<ul> <li>Settings Panel Behavior \u2013 Opens reliably, hydrates before widget construction, leaves defaults untouched until explicit save.</li> <li>Unified Job-Sheet Normalization \u2013 <code>_normalize_sheet_definition</code> feeds every nesting strategy with the same sheet list.</li> <li>Multi-Sheet Support Baseline \u2013 Standard, cut-friendly, and guillotine strategies honor advanced job sheets with correct <code>sheet_index</code> tracking.</li> <li>Warning Banner Infrastructure \u2013 TaskPanel warning banner with <code>_sheet_warning_active</code> surfaces when cut-oriented modes ignore additional sheets.</li> <li>Documentation &amp; Backlog Files \u2013 v3.2 guide and <code>docs/Backlog.md</code> were aligned to reflect the unified pipeline and warning logic.</li> </ul>"},{"location":"Project_Guide_v3.2/#2-active-backlog-high-priority-first","title":"2. Active Backlog (High Priority First)","text":"<ul> <li> <p>P1 \u2013 Preview Determinism &amp; Cleanup   Separate preview from apply so preview is non-destructive; ensure <code>SquatchCut_Sheet_*</code>, <code>SquatchCut_SourceParts_*</code>, and <code>SquatchCut_NestedParts_*</code> stay consistent and cleaned up. Scope: <code>freecad/SquatchCut/gui/taskpanel_main.py</code>, preview helpers/tests.</p> </li> <li> <p>P1 \u2013 TaskPanel Overflow &amp; Ergonomics   Restructure crowded button/checkbox rows to prevent clipping on narrow docks, ensuring the warning banner coexists without overflow. Scope: <code>freecad/SquatchCut/gui/taskpanel_main.py</code>.</p> </li> <li> <p>P1 \u2013 Multi-Sheet Visualization Polish   Improve per-sheet labeling, spacing, and navigation within the viewer; keep sheet/source/nested groups synchronized without ghosts. Scope: <code>freecad/SquatchCut/gui/nesting_view.py</code>, <code>freecad/SquatchCut/core/view_controller.py</code>.</p> </li> <li> <p>P1 \u2013 Cut-Friendly Multi-Sheet Heuristics   Refine lane/guillotine behavior so sheet order, exhaustion, and spacing are predictable. Scope: <code>freecad/SquatchCut/core/nesting.py</code>, <code>freecad/SquatchCut/core/cut_optimization.py</code>.</p> </li> <li> <p>P1 \u2013 Test Suite Expansion (Hydration, Units, Preview)   Add tests for measurement toggles, fractional-inch formatting, preview lifecycle, sheet_index propagation, and basic exhaustion scenarios. Scope: <code>tests/test_taskpanel_hydration.py</code>, new multi-sheet/preview suites.</p> </li> <li> <p>P2 \u2013 CSV Export &amp; Cutlist Determinism   Replace the export stub with real cutlist generation and document the format. Scope: <code>freecad/SquatchCut/gui/commands/cmd_run_nesting.py</code> + helpers.</p> </li> <li> <p>P2 \u2013 Warning Banner Lifecycle Tests   Ensure banner visibility/text reacts to nesting-mode, job-sheet, and unit-system changes. Scope: <code>freecad/SquatchCut/gui/taskpanel_main.py</code>, UI tests.</p> </li> <li> <p>P2 \u2013 Sheet Exhaustion Metrics &amp; Feedback   Surface when sheet quantities run out (logs/UI) and avoid silent truncation. Scope: nesting core + TaskPanel feedback.</p> </li> </ul>"},{"location":"Project_Guide_v3.2/#3-future-longer-term","title":"3. Future / Longer-Term","text":"<ul> <li>Per-Sheet Cut-Order Visualization \u2013 Visual guide for rip/crosscut sequences per sheet.</li> <li>Enhanced Sheet Exhaustion Metrics \u2013 Utilization percentages and unused vs used counts.</li> <li>Multi-Sheet Presets \u2013 Configurable sheet stacks as presets compatible with measurement rules.</li> <li>Kerf Simulation \u2013 Saw-specific kerf modeling tied into both packing and cut-friendly heuristics.</li> </ul>"},{"location":"Project_Guide_v3.2/#c-how-to-use-this-addendum","title":"C. HOW TO USE THIS ADDENDUM","text":"<ul> <li>The core v3.2 architectural rules remain authoritative.</li> <li>This addendum synchronizes the v3.2 guide and <code>docs/Backlog.md</code> with real status/backlog data.</li> <li>Future architectural or backlog changes must update both the main guide (or successor) and this alignment layer, keeping architecture, status, and backlog clearly separated.</li> </ul>"},{"location":"Project_Guide_v3.2/#d-developer-tooling-documentation","title":"D. Developer Tooling &amp; Documentation","text":"<ul> <li>Documentation hygiene \u2013 Update both this guide and <code>docs/Backlog.md</code> whenever the backlog or architectural narratives change; <code>tests/test_docs_backlog_structure.py</code> enforces the presence of required sections and key phrases inside the backlog to keep the narrative aligned.</li> <li>Developer GUI test suite \u2013 <code>gui/taskpanel_settings.py</code> surfaces a \u201cRun GUI Test Suite\u201d button that delegates to <code>core/gui_tests.py</code>. The suite seeds a small panel set, imports CSVs, runs nesting, and logs <code>[GUI TEST]</code>\u2011prefixed status to the Report view for clarity.</li> <li>Runner environment \u2013 <code>docs/Development_Environment.md</code> and <code>docs/TESTING.md</code> describe how to build the <code>squatchcut-dev</code> Docker/devcontainer image, install <code>pip install -e .[dev]</code>, and run both pure-Python and FreeCAD-aware <code>pytest</code> runs (prepend <code>PYTHONPATH=/usr/lib/freecad-python3/lib</code> when needed or use <code>FreeCADCmd -c \"import run_freecad_tests\"</code>).</li> <li>Architecture reference \u2013 Keep <code>docs/architecture.md</code> in sync with the actual <code>freecad/SquatchCut/*</code> tree; it is the single source of truth for module responsibilities when onboarding new agents or contributors.</li> <li>Agent conduct \u2013 The root <code>AGENTS.md</code> governs measurement rules, hydration order, interaction protocol, and reasoning-level expectations; it complements this guide rather than replacing it.</li> <li>Export rules reminder \u2013 All exports (CSV, SVG, future DXF) must flow through <code>freecad/SquatchCut/core/exporter.py</code> and rely on <code>ExportJob</code>/<code>ExportSheet</code>/<code>ExportPartPlacement</code> data for deterministic outputs.</li> </ul>"},{"location":"Project_Guide_v3.2/#13-development-rules-summary","title":"13. Development Rules Summary","text":"<ol> <li>Internal unit = mm  </li> <li>Imperial UI = fractions only  </li> <li>Defaults remain unchanged except in Settings  </li> <li>Presets never overwrite defaults  </li> <li>TaskPanel never auto-selects presets  </li> <li>Hydration before UI  </li> <li>Agents must use reasoning levels</li> <li>Tests accompany logic changes  </li> <li>UI must never overflow  </li> <li>Settings panel must open  </li> <li>No relative imports  </li> <li>No silent assumptions  </li> <li>No redesigns without explicit instructions  </li> </ol>"},{"location":"Project_Guide_v3.2/#13-changelog-strategy-for-v32","title":"13. Changelog Strategy for v3.2","text":"<ul> <li>Add v3.2 section</li> <li>Note settings fixes, hydration rules, UI rules, Agent reinforcement</li> <li>Bump version to 0.3.2</li> <li>Include explicit references to v3.2 documentation</li> <li>Record that backlog/status alignment was refreshed (Completed vs. Active vs. Future) and mirrored into docs/Backlog.md</li> <li>Document the AI-forward development workflow (host-cloned repo, bind-mounted dev container, canonical <code>.code-workspace</code>)</li> <li>Added v3.3 Roadmap section describing required deliverables for FreeCAD Add-On Manager readiness and release planning.</li> </ul>"},{"location":"Project_Guide_v3.2/#14-roadmap-for-v33-freecad-add-on-release-candidate","title":"14. Roadmap for v3.3 \u2013 FreeCAD Add-On Release Candidate","text":"<p>v3.3 is a stabilization and polish release aimed at making SquatchCut ready for the FreeCAD Add-On Manager. No new \u201chero features\u201d are allowed unless they directly support stability, usability, or Add-On compliance.</p>"},{"location":"Project_Guide_v3.2/#141-v33-goals","title":"14.1 v3.3 Goals","text":"<ul> <li>Deliver a non-destructive, deterministic nesting workflow.</li> <li>Eliminate UI overflow issues in the TaskPanel.</li> <li>Polish multi-sheet visualization and eliminate ghost objects.</li> <li>Implement a fully functional CSV export path.</li> <li>Surface sheet-exhaustion metrics and warnings.</li> <li>Achieve full Add-On Manager compliance.</li> <li>Update user docs and include example CSVs.</li> </ul>"},{"location":"Project_Guide_v3.2/#142-phase-1-critical-completion-release-blockers","title":"14.2 Phase 1 \u2013 Critical Completion (Release Blockers)","text":"<p>[INSERT ALL SUBSECTIONS EXACTLY AS PROVIDED BY ARCHITECT AI]</p>"},{"location":"Project_Guide_v3.2/#143-phase-2-core-features-required-for-release","title":"14.3 Phase 2 \u2013 Core Features Required for Release","text":"<p>[INSERT ALL SUBSECTIONS EXACTLY AS PROVIDED BY ARCHITECT AI]</p>"},{"location":"Project_Guide_v3.2/#144-phase-3-add-on-manager-readiness","title":"14.4 Phase 3 \u2013 Add-On Manager Readiness","text":"<p>[INSERT ALL SUBSECTIONS EXACTLY AS PROVIDED BY ARCHITECT AI]</p>"},{"location":"Project_Guide_v3.2/#145-phase-4-optional-items-candidates-for-v34","title":"14.5 Phase 4 \u2013 Optional Items (Candidates for v3.4)","text":"<p>[INSERT ALL SUBSECTIONS EXACTLY AS PROVIDED BY ARCHITECT AI]</p>"},{"location":"Project_Guide_v3.2/#146-v33-exit-criteria","title":"14.6 v3.3 Exit Criteria","text":"<p>[INSERT ALL SUBSECTIONS EXACTLY AS PROVIDED BY ARCHITECT AI]</p>"},{"location":"Project_Guide_v3.2/#end-of-squatchcut-project-guide-v32","title":"END OF SquatchCut Project Guide v3.2","text":""},{"location":"TESTING/","title":"SquatchCut Testing &amp; QA Guide","text":"<p>This document explains how to test the SquatchCut workbench, both automatically (pytest and integration tests) and manually inside FreeCAD.</p> <p>It is written assuming: - You have this repository cloned. - You have Python and FreeCAD installed. - You are comfortable using a terminal (e.g., VS Code terminal).</p>"},{"location":"TESTING/#1-core-tests-no-freecad-required","title":"1. Core Tests (No FreeCAD Required)","text":"<p>These tests cover the pure Python core logic under <code>freecad/SquatchCut/core</code> (imported as <code>SquatchCut.core</code>): - Nesting algorithm (no overlaps, rotation, multiple sheets). - Session state storage (sheet size, kerf, gap, last layout).</p>"},{"location":"TESTING/#11-setup-first-time","title":"1.1. Setup (first time)","text":"<p>Create and activate a virtual environment:</p> <pre><code>python3 -m venv .venv\nsource .venv/bin/activate\n</code></pre> <p>Install test dependencies:</p> <pre><code>pip install pytest pytest-cov\n</code></pre>"},{"location":"TESTING/#12-run-core-tests","title":"1.2. Run core tests","text":"<p>From the repository root:</p> <pre><code>pytest -v\n</code></pre> <p>Or with coverage (core modules exercised by the unit tests):</p> <pre><code>pytest --cov=SquatchCut.core.nesting --cov=SquatchCut.core.session_state --cov-report=term-missing -v\n</code></pre> <p>Expected results:</p> <ul> <li>All tests in <code>tests/</code> should pass.</li> <li>For <code>test_nesting.py</code> you should see test names such as:</li> <li><code>test_nesting_no_overlap_simple</code></li> <li><code>test_nesting_respects_can_rotate</code></li> <li><code>test_nesting_multiple_sheets</code></li> <li><code>test_nesting_rotation_flag_preserved</code></li> </ul> <p>If any test fails, pytest will show: - The test name. - The failing assertion. - The inputs that caused the failure.</p> <p>Use this output to debug the core logic before touching FreeCAD.</p>"},{"location":"TESTING/#2-freecad-integration-tests","title":"2. FreeCAD Integration Tests","text":"<p>These tests run inside FreeCAD and exercise real commands: - Creating rectangles in a document. - Running <code>RunNestingCommand</code>. - Verifying that <code>Sheet_*</code> groups and clones exist. - Verifying that running nesting with no selection does not crash.  - Task panel flows (defaults, units toggling, rotation defaults) when FreeCAD GUI is available.</p>"},{"location":"TESTING/#21-ensure-pytest-is-installed-in-freecad","title":"2.1. Ensure pytest is installed in FreeCAD","text":"<p>You only need to do this once per FreeCAD Python environment:</p> <pre><code>FreeCADCmd -c \"import sys, subprocess; subprocess.check_call([sys.executable, '-m', 'pip', 'install', 'pytest'])\"\n</code></pre> <p>On macOS with the official FreeCAD .app, <code>FreeCADCmd</code> is usually:</p> <pre><code>/Applications/FreeCAD.app/Contents/MacOS/FreeCADCmd\n</code></pre> <p>So the command becomes:</p> <pre><code>/Applications/FreeCAD.app/Contents/MacOS/FreeCADCmd -c \"import sys, subprocess; subprocess.check_call([sys.executable, '-m', 'pip', 'install', 'pytest'])\"\n</code></pre>"},{"location":"TESTING/#22-run-integration-tests","title":"2.2. Run integration tests","text":"<p>From the repository root:</p> <pre><code>FreeCADCmd -c \"import run_freecad_tests\"\n</code></pre> <p>(Or using the full path to <code>FreeCADCmd</code> as above.)</p> <p>This will run the tests in <code>tests_integration/</code>.</p> <p>Expected results:</p> <ul> <li><code>test_run_nesting_creates_sheet_groups_and_clones</code> passes:</li> <li>At least one <code>Sheet_*</code> group exists.</li> <li>There are at least as many clones as input panels.</li> <li><code>test_run_nesting_no_selection_shows_no_crash</code> passes:</li> <li>Running nesting with no selection does not create any <code>Sheet_*</code> groups.</li> <li>No exception bubbles out of the command.</li> <li><code>test_taskpanel_workflow</code> suite (skips if FreeCADGui is unavailable):</li> <li>Saved defaults in Settings appear in the main TaskPanel with no preset auto-selection.</li> <li>Units toggling reformats sheet/kerf fields.</li> <li>Rotation defaults in Settings populate the TaskPanel rotation checkboxes.</li> </ul> <p>Integration tests are a quick sanity check that the workbench actually behaves correctly inside FreeCAD with real documents.</p>"},{"location":"TESTING/#23-running-gui-smoke-tests-from-freecad","title":"2.3. Running GUI smoke tests from FreeCAD","text":"<p>Inside FreeCAD (Python console):</p> <pre><code>Gui.runCommand(\"SquatchCut_RunGUITests\")\n</code></pre> <p>This runs the built-in GUI smoke suite (import, nesting preview, units checks, cutlist export). Use this after significant UI changes.</p>"},{"location":"TESTING/#3-manual-qa-checklist-in-freecad","title":"3. Manual QA Checklist in FreeCAD","text":"<p>Use this checklist when doing manual QA in FreeCAD. This is especially important before a release or when major changes are made to nesting, CSV import, or settings.</p>"},{"location":"TESTING/#31-settings-panel","title":"3.1. Settings panel","text":"<ol> <li>Open FreeCAD.</li> <li>Create or open a document.</li> <li>From the SquatchCut workbench, run the SquatchCut Settings command.</li> <li>In the settings panel:</li> <li>Change sheet width and height.</li> <li>Change kerf (mm) and gap (mm).</li> <li>Toggle \"Allow rotation by default\".</li> <li>Click OK.</li> <li>Verify:</li> <li>The Report View shows an updated settings message.</li> <li>Re-opening the Settings panel shows the same values you entered.</li> <li>Sheet size values are respected by the next nesting operation.</li> </ol>"},{"location":"TESTING/#32-csv-import-with-rotation-specified","title":"3.2. CSV import with rotation specified","text":"<ol> <li>Prepare a CSV with:</li> <li><code>id,width_mm,height_mm,allow_rotate</code></li> <li>Some rows with <code>allow_rotate=1</code>, some with <code>allow_rotate=0</code>.</li> <li>Use the SquatchCut CSV import command to load this file.</li> <li>Verify:<ul> <li>Panels are created in the document.</li> </ul> </li> <li>Each imported panel has a <code>SquatchCutCanRotate</code> property:<ul> <li><code>True</code> for <code>allow_rotate=1</code>.</li> <li><code>False</code> for <code>allow_rotate=0</code>.</li> </ul> </li> <li>Run nesting:</li> <li>Check that some panels are rotated (those allowed).</li> <li>Panels with <code>allow_rotate=0</code> must never be rotated.</li> </ol>"},{"location":"TESTING/#33-csv-import-without-rotation-column-default-behavior","title":"3.3. CSV import without rotation column (default behavior)","text":"<ol> <li>Prepare a CSV without <code>allow_rotate</code> column.</li> <li>In the Settings panel, set:</li> <li>\"Allow rotation by default\" = ON.</li> <li>Import the CSV and run nesting.</li> <li>Verify:</li> <li> <p>Panels are allowed to rotate and will rotate when beneficial.</p> </li> <li> <p>Set \"Allow rotation by default\" = OFF.</p> </li> <li>Import the same CSV again and run nesting.</li> <li>Verify:</li> <li>No panels are rotated (all rotation_deg = 0 in the export).</li> </ol>"},{"location":"TESTING/#34-nesting-placement-no-overlaps-multiple-sheets","title":"3.4. Nesting placement (no overlaps, multiple sheets)","text":"<ol> <li>Create multiple rectangles of varying sizes in a document.</li> <li>Run nesting.</li> <li>Verify:</li> <li><code>Sheet_*</code> groups are created.</li> <li>No shapes overlap visually.</li> <li>If the total area is large, more than one sheet is used.</li> </ol>"},{"location":"TESTING/#35-csv-export-of-nesting","title":"3.5. CSV export of nesting","text":"<ol> <li>Perform a nesting as above.</li> <li>Run the Export Nesting CSV command.</li> <li>Choose a filename and save.</li> <li>Open the CSV in a spreadsheet viewer.</li> <li>Verify:</li> <li>Header includes: <code>sheet_index,part_id,width_mm,height_mm,x_mm,y_mm,angle_deg</code>.</li> <li>Each input part appears exactly once in the CSV output.</li> <li><code>sheet_index</code> values correspond to the FreeCAD <code>Sheet_*</code> groups.</li> <li><code>angle_deg</code> is 0 for non-rotated parts and 90 for rotated parts.</li> </ol>"},{"location":"TESTING/#36-error-handling","title":"3.6. Error handling","text":"<ol> <li>Try to import a CSV missing required columns (e.g., no id or width).</li> <li>Expect: a friendly error dialog explaining missing columns.</li> <li>Try running nesting with no panels selected.</li> <li>Expect: a warning dialog and no sheets created.</li> <li>Try exporting CSV before any nesting has been run.</li> <li>Expect: a message that no layout is available to export.</li> </ol>"},{"location":"TESTING/#37-ui-smoke-fast-pass","title":"3.7. UI Smoke (fast pass)","text":"<ul> <li>Open SquatchCut workbench; launch the main Task panel.</li> <li>Toggle Units (Metric \u2194 Imperial) and confirm sheet/kerf fields reformat; preset remains \u201cNone.\u201d</li> <li>Import <code>freecad/testing/csv/valid_panels_small.csv</code>; confirm parts table populates.</li> <li>Run nesting preview; confirm nested layout appears and Source/Nested view toggles work.</li> <li>Export cutlist CSV; open and verify rows match table entries.</li> <li>Open Settings, set sheet/kerf defaults, save; reopen Task panel and confirm defaults applied without preset auto-selection.</li> </ul>"},{"location":"TESTING/#4-running-tests-inside-the-dockerdevcontainer-environment","title":"4. Running tests inside the Docker/devcontainer environment","text":"<p>The repository includes <code>.devcontainer/</code> files so you can run tests inside a reproducible Linux + FreeCAD environment. This is useful if your host machine does not have FreeCAD installed or when you want to match CI exactly.</p>"},{"location":"TESTING/#41-build-and-launch-the-container","title":"4.1 Build and launch the container","text":"<pre><code>docker build -f .devcontainer/Dockerfile -t squatchcut-dev .\ndocker run --rm -it -v \"$(pwd)\":/workspaces/SquatchCut squatchcut-dev /bin/bash\n</code></pre> <p>Inside the container the repo lives at <code>/workspaces/SquatchCut</code>, FreeCAD lives under <code>/usr/bin/freecadcmd</code>, and Python 3.10 is the default interpreter. If the VS Code Dev Container workflow runs, dependencies are installed automatically; otherwise run:</p> <pre><code>cd /workspaces/SquatchCut\npip install -e .[dev]\n</code></pre>"},{"location":"TESTING/#42-running-tests-in-the-container","title":"4.2 Running tests in the container","text":"<ul> <li>Core tests (no FreeCAD required):</li> </ul> <p><code>bash   cd /workspaces/SquatchCut   pytest</code></p> <ul> <li>FreeCAD-aware pytest modules (anything that imports <code>FreeCAD</code>, <code>FreeCADGui</code>, or GUI stubs):</li> </ul> <p><code>bash   PYTHONPATH=/usr/lib/freecad-python3/lib pytest tests/test_views.py</code></p> <p>Prepend the same <code>PYTHONPATH</code> to run the entire suite under the FreeCAD Python environment.</p> <ul> <li>FreeCAD integration suite:</li> </ul> <p><code>bash   FreeCADCmd -c \"import run_freecad_tests\"</code></p> <p>(<code>FreeCADCmd</code> already points to <code>/usr/bin/freecadcmd</code> inside the container.)</p>"},{"location":"TESTING/#43-troubleshooting","title":"4.3 Troubleshooting","text":"<ul> <li>If pytest cannot import <code>FreeCAD</code>, double-check the <code>PYTHONPATH=/usr/lib/freecad-python3/lib</code> prefix.</li> <li>GUI smoke tests that rely on Qt widgets are limited by the lightweight stubs bundled in <code>gui/qt_compat</code>. When a feature relies on a specific Qt API (e.g., <code>QtWidgets.QLabel.setWordWrap</code>), guard it with <code>hasattr(...)</code> so tests can still run headless.</li> <li>The default container user is <code>vscode</code>. Use <code>pip install --user ...</code> only if the editable install is not available.</li> </ul>"},{"location":"TESTING/#5-useful-pytest-options","title":"5. Useful pytest options","text":"<p>For deeper debugging, use:</p> <pre><code>pytest -vv\n</code></pre> <p>This prints each test name and makes it easier to see exactly which scenario passed or failed.</p> <p>To focus on a single test file:</p> <pre><code>pytest -vv tests/test_nesting.py\n</code></pre> <p>Or a single test within that file:</p> <pre><code>pytest -vv tests/test_nesting.py::test_nesting_no_overlap_simple\n</code></pre>"},{"location":"TESTING/#6-summary","title":"6. Summary","text":"<ul> <li>Run core tests regularly during development (<code>pytest -v</code>).</li> <li>Run FreeCAD integration tests before major changes or releases.</li> <li>Use the manual QA checklist when you need to validate end-to-end   behavior in a FreeCAD GUI session.</li> <li>If any step above fails, capture:</li> <li>The exact test command you ran.</li> <li>The console/Report View output.</li> <li>A copy of the CSV or file that triggered the issue.   And open a bug ticket with this information.</li> </ul>"},{"location":"UAT_Checklist/","title":"SquatchCut UAT Checklist","text":"<p>Version: UAT v0.1 Audience: Volunteer / UAT testers Refer to <code>docs/developer_guide.md</code> for the authoritative testing, UI, and AI worker expectations (v3.2 retained for history).</p> <p>Instructions:</p> <ul> <li>Follow each step in order.</li> <li>For each step, mark Pass (\u2705) or Fail (\u274c) in the table.</li> <li>Add notes if anything is confusing, broken, or unexpected.</li> </ul> <p>You may print this page or fill it in digitally.</p>"},{"location":"UAT_Checklist/#tester-info","title":"Tester Info","text":"<ul> <li>Name: </li> <li>Date: </li> <li>OS &amp; Version (e.g., Windows 11, macOS 15): </li> <li>FreeCAD Version: </li> <li>SquatchCut Build / ZIP Name: </li> </ul>"},{"location":"UAT_Checklist/#legend","title":"Legend","text":"<ul> <li>\u2705 = Worked as expected</li> <li>\u274c = Didn\u2019t work or was confusing</li> <li>N/A = Not applicable or skipped</li> </ul>"},{"location":"UAT_Checklist/#checklist","title":"Checklist","text":"# Step Result (\u2705/\u274c/N/A) Notes (what happened?) 1 Start FreeCAD. 2 Confirm you see a SquatchCut toolbar/menu with SquatchCut and Settings buttons. 3 Click Settings. Verify the settings panel opens without errors. 4 In Settings, set your measurement system (Metric or Imperial) and a default sheet size. 5 Save/apply settings and close the Settings panel. 6 Click the main SquatchCut button. Confirm the main panel opens without errors. 7 In the main panel, confirm you see sections for CSV import, sheet/presets, and nesting. 8 Set CSV Units to match <code>test_parts.csv</code> (as instructed). 9 Use the file picker to select <code>test_parts.csv</code>. 10 Click Import Parts. No error dialog should appear. 11 In the FreeCAD Model tree, confirm a Source Parts group appears and contains part items. 12 Change the sheet size using the sheet width/height fields (without using a preset). 13 Verify that the visible sheet in the 3D view updates to the new size. 14 Select a sheet preset (e.g., 4\u2032 x 8\u2032). Confirm the sheet fields update to match the preset. 15 Manually change the sheet width or height again and confirm the preset selection returns to \"None/Custom\". 16 Click Run Nesting. 17 In the Model tree, confirm a Nested Parts group appears or is rebuilt. 18 Confirm nested parts appear on top of the sheet in the 3D view (no parts obviously off-sheet). 19 Run nesting a second time without changing the CSV. Confirm the Nested Parts group updates rather than duplicating parts. 20 Hide the Source Parts group, leaving only sheet + nested layout visible. 21 Save the FreeCAD document without errors. 22 (Optional) Use File \u2192 Export to export the layout (DXF/SVG/PDF) and confirm the export works."},{"location":"UAT_Checklist/#overall-experience","title":"Overall Experience","text":"<p>Please briefly describe:</p> <ul> <li>What worked well?</li> <li>What was confusing?</li> <li>Any crashes or serious bugs?</li> </ul>"},{"location":"UAT_Checklist/#additional-comments","title":"Additional Comments","text":"<p>(Use as much space as you need.)</p> <p>End of checklist.</p>"},{"location":"UAT_Prep_Instructions/","title":"SquatchCut UAT Prep Instructions","text":"<p>Audience: Volunteer testers / UAT participants Goal: Help you install SquatchCut and run a simple, repeatable test script. Please follow <code>docs/developer_guide.md</code> for the latest AI worker-aligned instructions and UI expectations before running UAT.</p> <p>You do not need to know how to code. You do not need GitHub.</p>"},{"location":"UAT_Prep_Instructions/#1-what-youll-need","title":"1. What You\u2019ll Need","text":"<p>Before you start:</p> <ul> <li>A computer with:</li> <li>Windows, macOS, or Linux</li> <li>FreeCAD 0.21+ installed</li> <li>The SquatchCut 0.3.x add-on ZIP file</li> <li>Test files provided to you:</li> <li><code>test_parts.csv</code></li> <li><code>UAT_Checklist.md</code> (this file may be bundled or referenced)</li> <li>Any feedback template your coordinator provides</li> </ul>"},{"location":"UAT_Prep_Instructions/#2-what-you-do-not-need","title":"2. What You Do Not Need","text":"<p>You do not need:</p> <ul> <li>A GitHub account</li> <li>GitHub Desktop</li> <li>A compiler</li> <li>Any knowledge of Python</li> </ul> <p>Please do not:</p> <ul> <li>Rename the test CSV file</li> <li>Move files into the FreeCAD installation folders</li> <li>Install additional tools unless explicitly instructed</li> </ul>"},{"location":"UAT_Prep_Instructions/#3-install-squatchcut","title":"3. Install SquatchCut","text":"<ol> <li>Open FreeCAD.</li> <li>Go to Tools \u2192 Add-on Manager.</li> <li>Click Install from ZIP.</li> <li>Choose the SquatchCut ZIP file provided to you.</li> <li>Wait for installation to complete.</li> <li>Close and restart FreeCAD.</li> </ol> <p>After restart, confirm that:</p> <ul> <li>A SquatchCut toolbar or menu appears.</li> <li>You see at least:</li> <li>A SquatchCut button (main panel)</li> <li>A Settings button</li> </ul> <p>If not, please note that as a UAT issue.</p>"},{"location":"UAT_Prep_Instructions/#4-files-you-will-use","title":"4. Files You Will Use","text":"<p>Your coordinator should give you:</p> <ul> <li> <p><code>test_parts.csv</code>   Sample parts list for testing.</p> </li> <li> <p><code>UAT_Checklist.md</code>   Step-by-step script to follow inside FreeCAD.</p> </li> <li> <p>A feedback template (could be a text file, form, or email instructions).</p> </li> </ul> <p>Keep these together in a known folder (e.g., <code>Documents/SquatchCut_UAT/</code>).</p>"},{"location":"UAT_Prep_Instructions/#5-how-to-run-the-test","title":"5. How to Run the Test","text":"<ol> <li>Start FreeCAD.</li> <li>Ensure the SquatchCut toolbar is visible.</li> <li>Open the UAT_Checklist.md file in any text editor (Notepad, VS Code, etc.).</li> <li>Follow each step in the checklist in order.</li> <li>After each step, mark:</li> <li>Pass \u2013 if it worked and made sense.</li> <li>Fail \u2013 if it did not work, crashed, or was confusing.</li> </ol> <p>Use the notes column to record:</p> <ul> <li>What you expected</li> <li>What actually happened</li> <li>Any error messages or weird behavior</li> </ul> <p>You are not being graded. The software is.</p>"},{"location":"UAT_Prep_Instructions/#6-taking-screenshots-if-something-fails","title":"6. Taking Screenshots (If Something Fails)","text":"<p>If something breaks or looks wrong:</p> <ul> <li>On Windows:</li> <li>Press Win + Shift + S to open the Snip &amp; Sketch / Snipping tool.</li> <li>Drag a box around the area.</li> <li> <p>Save the image.</p> </li> <li> <p>On macOS:</p> </li> <li>Press Command + Shift + 4.</li> <li>Drag a box around the area.</li> <li> <p>A screenshot is saved to your desktop.</p> </li> <li> <p>On Linux:</p> </li> <li>Use Print Screen or your distro\u2019s screenshot tool.</li> </ul> <p>Try to capture:</p> <ul> <li>The model tree (left panel)</li> <li>The SquatchCut UI</li> <li>The 3D view showing the layout</li> </ul>"},{"location":"UAT_Prep_Instructions/#7-when-youre-done","title":"7. When You\u2019re Done","text":"<p>When you complete the checklist:</p> <ol> <li>Save your filled-out checklist (if it\u2019s a file).</li> <li>Collect:</li> <li>The completed checklist</li> <li>Any screenshots</li> <li> <p>Any test CSV variations you used (if requested)</p> </li> <li> <p>Send everything to your SquatchCut contact using the method they specified:</p> </li> <li>Email</li> <li>Shared folder</li> <li>Forms, etc.</li> </ol> <p>If you got stuck and couldn\u2019t complete the script, still send what you have and note where you stopped.</p> <p>Thank you for helping test SquatchCut!</p>"},{"location":"advanced_features/","title":"SquatchCut Advanced Features","text":"<p>This document describes the advanced features implemented in SquatchCut for enhanced nesting optimization, export capabilities, cut planning, quality assurance, and performance.</p> <p>These features live in the 0.3.x codebase and are aimed at advanced or experimental workflows. Not every toggle is surfaced in the UI; some require enabling settings or calling helpers directly. Exports (CSV/SVG/DXF) are produced via <code>freecad/SquatchCut/core/exporter.py</code>, and performance characteristics depend on your dataset\u2014treat the numbers here as guidance, not guarantees.</p> <p>The advanced feature set now centers on the core experiences described below.</p>"},{"location":"advanced_features/#overview","title":"Overview","text":"<p>The advanced features system now centers on four key enhancements to SquatchCut's core functionality:</p> <ol> <li>Enhanced Export Capabilities - SVG with cut lines, DXF export, and enhanced CSV exports</li> <li>Smart Cut Optimization - Automated cut sequence planning for efficient material processing</li> <li>Quality Assurance - Comprehensive layout validation and quality reporting</li> <li>Performance Enhancements - Multi-threading, caching, and memory optimization</li> </ol>"},{"location":"advanced_features/#feature-1-enhanced-export-capabilities","title":"Feature 1: Enhanced Export Capabilities","text":""},{"location":"advanced_features/#svg-export-with-cut-lines","title":"SVG Export with Cut Lines","text":"<p>Enhanced SVG exports include visual cut lines and waste area highlighting for better workshop planning.</p> <p>New SVG Features: - Cut line visualization (dashed red lines) - Waste area highlighting (semi-transparent red) - Improved part labeling and dimensions - Multi-sheet support with proper scaling</p> <p>Usage:</p> <pre><code>from SquatchCut.core.exporter import export_nesting_to_svg\n\npaths = export_nesting_to_svg(\n    export_job,\n    \"nesting_layout.svg\",\n    include_labels=True,\n    include_dimensions=True,\n    include_cut_lines=True,\n    include_waste_areas=True\n)\n</code></pre>"},{"location":"advanced_features/#dxf-export","title":"DXF Export","text":"<p>Professional CAD-compatible DXF export for CNC and CAM software integration.</p> <p>DXF Features: - Industry-standard R2010 format - Organized layers (SHEET_BOUNDARY, PARTS, LABELS, CUT_LINES, DIMENSIONS) - Proper scaling and units - Cut line generation for automated cutting</p> <p>Usage:</p> <pre><code>from SquatchCut.core.exporter import export_nesting_to_dxf\n\npaths = export_nesting_to_dxf(\n    export_job,\n    \"nesting_layout.dxf\",\n    include_labels=True,\n    include_cut_lines=True\n)\n</code></pre>"},{"location":"advanced_features/#enhanced-csv-export","title":"Enhanced CSV Export","text":"<p>Improved CSV exports with measurement system formatting and additional metadata.</p> <p>CSV Enhancements: - Display dimensions in user's preferred units (metric/imperial) - Sheet information included - Rotation and position data - Export job metadata</p>"},{"location":"advanced_features/#feature-2-smart-cut-optimization","title":"Feature 2: Smart Cut Optimization","text":""},{"location":"advanced_features/#cut-sequence-planning","title":"Cut Sequence Planning","text":"<p>Automated planning of optimal cutting sequences to minimize material handling and setup time.</p> <p>Key Components: - <code>CutSequencePlanner</code> - Main planning engine - <code>CutOperation</code> - Individual cut with metadata - <code>CutSequence</code> - Complete sequence for one sheet</p> <p>Cut Types: - Rip cuts - Vertical cuts - Crosscuts - Horizontal cuts - Trim cuts - Final sizing operations</p> <p>Planning Strategy: 1. Collect all required cut lines from part boundaries 2. Plan rip cuts first (left to right) 3. Plan crosscuts second (bottom to top) 4. Optimize sequence to minimize material handling 5. Calculate time estimates and cut lengths</p> <p>Usage:</p> <pre><code>from SquatchCut.core.cut_sequence import plan_optimal_cutting_sequence\n\nsequences = plan_optimal_cutting_sequence(placed_parts, sheet_sizes, kerf_width=3.0)\n\nfor sequence in sequences:\n    print(f\"Sheet {sequence.sheet_index}: {len(sequence.operations)} cuts\")\n    print(f\"Total cut length: {sequence.total_cut_length:.1f}mm\")\n    print(f\"Estimated time: {sequence.estimated_time_minutes:.1f} minutes\")\n</code></pre>"},{"location":"advanced_features/#cut-optimization-features","title":"Cut Optimization Features","text":"<ul> <li>Material handling optimization - Minimize offcut movement</li> <li>Setup time reduction - Group similar cuts together</li> <li>Cut length optimization - Only cut where necessary</li> <li>Time estimation - Realistic cutting time predictions</li> </ul>"},{"location":"advanced_features/#feature-3-quality-assurance","title":"Feature 3: Quality Assurance","text":""},{"location":"advanced_features/#comprehensive-layout-validation","title":"Comprehensive Layout Validation","text":"<p>Automated quality checks ensure nesting layouts meet production requirements.</p> <p>Quality Checks: - Overlap detection - Find overlapping parts - Bounds compliance - Ensure parts fit within sheets - Spacing requirements - Verify minimum spacing between parts - Rotation validation - Check for valid rotation angles - Dimension consistency - Compare with original part specifications</p> <p>Issue Severity Levels: - Critical - Must be fixed before production - Warning - Should be reviewed - Info - Informational only</p> <p>Usage:</p> <pre><code>from SquatchCut.core.quality_assurance import check_nesting_quality\n\nreport = check_nesting_quality(\n    placed_parts,\n    sheet_sizes,\n    min_spacing=3.0,\n    original_parts=parts\n)\n\nprint(f\"Quality Score: {report.overall_score:.1f}/100\")\nprint(f\"Issues Found: {len(report.issues)}\")\n\nfor issue in report.issues:\n    print(f\"- {issue.severity.value.upper()}: {issue.description}\")\n</code></pre>"},{"location":"advanced_features/#quality-reporting","title":"Quality Reporting","text":"<p>Detailed quality reports provide actionable feedback for layout improvements.</p> <p>Report Contents: - Overall quality score (0-100) - Issue breakdown by severity - Quality metrics (utilization, compliance rates) - Suggested fixes for each issue - Pass/fail status for each check</p>"},{"location":"advanced_features/#feature-4-performance-enhancements","title":"Feature 4: Performance Enhancements","text":""},{"location":"advanced_features/#intelligent-caching","title":"Intelligent Caching","text":"<p>Results caching eliminates redundant calculations for identical nesting parameters.</p> <p>Cache Features: - Memory and disk-based caching - Automatic cache key generation - Configurable cache size limits - Thread-safe operations</p> <p>Usage:</p> <pre><code>from SquatchCut.core.performance_utils import cached_nesting, configure_cache\n\n# Configure cache\nconfigure_cache(cache_dir=\"/tmp/squatchcut_cache\", max_cache_size=100)\n\n# Use caching decorator\n@cached_nesting\ndef my_nesting_function(parts, width, height, config=None):\n    # Expensive nesting calculation\n    return result\n</code></pre>"},{"location":"advanced_features/#multi-threading-support","title":"Multi-threading Support","text":"<p>Parallel processing capabilities for large datasets and multiple sheets.</p> <p>Parallel Processing: - Multi-sheet processing in parallel - Large dataset batch processing - Configurable worker threads - Automatic load balancing</p> <p>Usage:</p> <pre><code>from SquatchCut.core.performance_utils import ParallelNestingProcessor\n\nprocessor = ParallelNestingProcessor(max_workers=4)\n\n# Process multiple sheet configurations\nresults = processor.process_multiple_sheets(sheet_configs, nesting_function)\n\n# Process large datasets in batches\nbatch_results = processor.process_part_batches(parts, batch_size=100, processing_func)\n</code></pre>"},{"location":"advanced_features/#memory-optimization","title":"Memory Optimization","text":"<p>Memory usage optimization for large datasets and extended operations.</p> <p>Memory Features: - Part data structure optimization - Intermediate data cleanup - Garbage collection triggers - Memory usage monitoring</p> <p>Usage:</p> <pre><code>from SquatchCut.core.performance_utils import memory_optimized\n\n@memory_optimized\ndef memory_efficient_nesting(parts, width, height):\n    # Memory-optimized nesting operation\n    return result\n</code></pre>"},{"location":"advanced_features/#integration-with-main-system","title":"Integration with Main System","text":""},{"location":"advanced_features/#session-state-integration","title":"Session State Integration","text":"<p>All advanced features integrate with SquatchCut's session state system:</p> <pre><code># Enable cut sequence generation\nsession_state.set_generate_cut_sequence(True)\n</code></pre>"},{"location":"advanced_features/#command-integration","title":"Command Integration","text":"<p>Advanced features are automatically used when enabled in the main nesting command:</p> <ol> <li>Quality Assurance - Always runs after nesting completion</li> <li>Cut Sequence Planning - Activated when <code>generate_cut_sequence</code> is enabled</li> <li>Performance Optimizations - Applied automatically for large datasets</li> </ol>"},{"location":"advanced_features/#export-integration","title":"Export Integration","text":"<p>Enhanced export capabilities are available through the existing export commands:</p> <ul> <li>SVG exports automatically include cut lines when requested</li> <li>DXF export is available as a new export option</li> <li>CSV exports include enhanced formatting and metadata</li> </ul>"},{"location":"advanced_features/#configuration-and-settings","title":"Configuration and Settings","text":""},{"location":"advanced_features/#quality-assurance-settings","title":"Quality Assurance Settings","text":"<pre><code># Quality check configuration\nchecker = QualityAssuranceChecker(\n    min_spacing=3.0,           # Minimum spacing between parts (mm)\n    tolerance=0.1,             # Measurement tolerance (mm)\n)\n</code></pre>"},{"location":"advanced_features/#performance-settings","title":"Performance Settings","text":"<pre><code># Cache configuration\nconfigure_cache(\n    cache_dir=\"/path/to/cache\",  # Cache directory\n    max_cache_size=100           # Maximum cached items\n)\n\n# Parallel processing\nprocessor = ParallelNestingProcessor(\n    max_workers=4,        # Number of worker threads\n    use_processes=False   # Use threads (False) or processes (True)\n)\n</code></pre>"},{"location":"advanced_features/#best-practices","title":"Best Practices","text":""},{"location":"advanced_features/#export-recommendations","title":"Export Recommendations","text":"<ul> <li>SVG with cut lines for workshop planning and manual cutting</li> <li>DXF export for CNC and automated cutting systems</li> <li>Enhanced CSV for detailed part lists and inventory</li> </ul>"},{"location":"advanced_features/#quality-assurance-guidelines","title":"Quality Assurance Guidelines","text":"<ul> <li>Always run quality checks before production</li> <li>Address critical issues immediately</li> <li>Review warnings for potential improvements</li> <li>Monitor quality scores over time</li> </ul>"},{"location":"advanced_features/#performance-optimization","title":"Performance Optimization","text":"<ul> <li>Enable caching for repeated operations</li> <li>Use parallel processing for large datasets (&gt;100 parts)</li> <li>Monitor memory usage for very large projects</li> <li>Clear cache periodically to free disk space</li> </ul>"},{"location":"advanced_features/#troubleshooting","title":"Troubleshooting","text":""},{"location":"advanced_features/#common-issues","title":"Common Issues","text":"<ol> <li>Genetic algorithm too slow</li> <li>Reduce population size or generations</li> <li>Set shorter max_time_seconds</li> <li> <p>Enable caching for repeated runs</p> </li> <li> <p>Quality issues not detected</p> </li> <li>Check tolerance settings</li> <li>Verify minimum spacing requirements</li> <li> <p>Enable all quality checks</p> </li> <li> <p>Export failures</p> </li> <li>Ensure sufficient disk space</li> <li>Check file permissions</li> <li> <p>Verify export directory exists</p> </li> <li> <p>Memory issues with large datasets</p> </li> <li>Enable memory optimization</li> <li>Process in smaller batches</li> <li>Increase system memory</li> </ol>"},{"location":"advanced_features/#performance-tuning","title":"Performance Tuning","text":"<ul> <li>Small datasets (&lt;50 parts): Use standard algorithms</li> <li>Medium datasets (50-500 parts): Enable caching and memory optimization</li> <li>Large datasets (&gt;500 parts): Enable all performance features</li> <li>Very large datasets (&gt;1000 parts): Use parallel processing and batching</li> </ul>"},{"location":"advanced_features/#future-enhancements","title":"Future Enhancements","text":"<p>The advanced features system is designed for extensibility. Planned enhancements include:</p> <ul> <li>Machine learning optimization algorithms</li> <li>Advanced appearance controls (diagonal, radial pattern matching)</li> <li>3D nesting for thick materials</li> <li>Real-time collaboration features</li> <li>Cloud-based optimization services</li> </ul>"},{"location":"advanced_features/#api-reference","title":"API Reference","text":"<p>For detailed API documentation, see the individual module documentation:</p> <ul> <li><code>freecad/SquatchCut/core/exporter.py</code> - Export helpers (SVG, DXF, CSV)</li> <li><code>freecad/SquatchCut/core/cut_sequence.py</code> - Cut sequence planning</li> <li><code>freecad/SquatchCut/core/quality_assurance.py</code> - Quality assurance system</li> <li><code>freecad/SquatchCut/core/performance_utils.py</code> - Performance enhancements</li> <li><code>freecad/SquatchCut/core/performance_monitor.py</code> - Performance profiling utilities</li> </ul>"},{"location":"ai_workflows/","title":"AI Worker Workflows","text":"<p>Note: AI Workers operate as implementation agents under the direction of the Lead Developer (e.g., Jules) and Architect (Spec Owner). See <code>AGENTS.md</code> for the full protocol.</p>"},{"location":"ai_workflows/#overview","title":"Overview","text":"<ul> <li>This repository uses <code>@worker</code> headers in each module to guide incremental development.</li> <li>Each module documents its own responsibility, boundaries, and expectations to keep changes targeted.</li> </ul>"},{"location":"ai_workflows/#global-worker-commands","title":"Global Worker Commands","text":"<ol> <li><code>@worker implement next core logic</code></li> <li> <p>Worker should examine method stubs in core modules and fill in the next unimplemented piece.</p> </li> <li> <p><code>@worker update feature &lt;X&gt;</code></p> </li> <li> <p>Worker should locate the correct module(s), update logic, and avoid touching unrelated modules.</p> </li> <li> <p><code>@worker refactor safely</code></p> </li> <li> <p>Worker should refactor only the module containing the comment without changing structure or deleting headers.</p> </li> <li> <p><code>@worker sync architecture</code></p> </li> <li> <p>Worker should compare code with <code>docs/architecture.md</code> and fix inconsistencies.</p> </li> <li> <p><code>@worker integrate GUI</code></p> </li> <li> <p>Worker should update dialogs and commands to work with the current state of the core logic.</p> </li> <li> <p><code>@worker implementation status</code></p> </li> <li>Worker should scan headers and list which modules have remaining TODO implementations.</li> </ol>"},{"location":"ai_workflows/#rules-for-workers","title":"Rules for Workers","text":"<ul> <li>Do not overwrite files unless instructed.</li> <li>Only modify sections relevant to the active module.</li> <li>Follow <code>@worker</code> block expectations.</li> <li>Preserve docstrings and method signatures.</li> <li>Never introduce cross-module logic unless specified.</li> </ul>"},{"location":"architecture/","title":"Architecture","text":"<p>This document snapshots how SquatchCut is organized so new work streams (AI agents or humans) stay aligned with the existing structure, data flow, and helper layers.</p>"},{"location":"architecture/#1-project-layout","title":"1. Project Layout","text":"<ul> <li><code>root/</code></li> <li><code>freecad/SquatchCut/</code><ul> <li><code>InitGui.py</code>: workbench registration, toolbar/menu hooks, icon loading.</li> <li><code>__init__.py</code>: module metadata, lazy-bundled imports for FreeCAD.</li> <li><code>gui/</code>: Qt widgets, commands, dialogs, and view helpers.</li> <li><code>core/</code>: pure-Python algorithms, session plumbing, exporters, and utilities.</li> <li><code>resources/</code>: icons, templates, and static UI helpers.</li> </ul> </li> <li><code>docs/</code>: architecture/roadmap/backlog, developer guidance, UAT + testing instructions.</li> <li><code>tests/</code>: pytest regression suite exercising hydration, nesting, exports, and docs.</li> <li><code>assets/</code> &amp; <code>blog/</code>: site collateral (screenshots, articles) that support docs.</li> <li>Top-level helpers: README, <code>AGENTS.md</code>, <code>squatchcut.code-workspace</code>, and CI config files.</li> </ul> <p>This layout keeps FreeCAD integrations under <code>freecad/SquatchCut</code> while leaving tests/docs at the repo root for easy access by automation and documentation flows.</p>"},{"location":"architecture/#2-core-modules","title":"2. Core Modules","text":"<p>The <code>core/</code> package is the heart of the nesting logic and keeps FreeCAD dependencies confined to integration points.</p> <ul> <li>Session + settings</li> <li><code>session_state.py</code>: in-memory defaults, job sheets, panels, measurement system, and export flags used by all UI wiring.</li> <li><code>session.py</code>: mirrors <code>session_state</code> into the active FreeCAD document, tracks FreeCAD objects, and clears/chases Group nodes.</li> <li><code>preferences.py</code> &amp; <code>presets.py</code>: wrap FreeCAD preferences, expose defaults per measurement system, and manage preset metadata used by the TaskPanel.</li> <li> <p><code>settings.py</code>: hydrates defaults, exposes the configuration API, and guards persistence rules described in <code>docs/developer_guide.md</code>.</p> </li> <li> <p>Unit conversion &amp; logging</p> </li> <li><code>units.py</code> + <code>text_helpers.py</code>: convert between millimeters and fractional inches, format preset labels, and share helper text strings.</li> <li> <p><code>logger.py</code>: centralized logger with SquatchCut-friendly prefixes for reporting and GUI tests.</p> </li> <li> <p>CSV ingestion</p> </li> <li><code>csv_import.py</code>: high-level validation harness used by GUI commands and CLI integrations (includes measurement overrides).</li> <li> <p><code>csv_loader.py</code>: low-level importer that normalizes rows, enforces required headers, and converts everything into panel dictionaries.</p> </li> <li> <p>Panel discovery + validation</p> </li> <li><code>shape_extractor.py</code>: reads selected FreeCAD objects, enforces <code>SquatchCutCanRotate</code>, and exposes clean panel metadata.</li> <li> <p><code>overlap_check.py</code>: utility to ensure placements do not overlap when verifying layouts.</p> </li> <li> <p>Nesting &amp; optimization</p> </li> <li><code>nesting.py</code>: orchestrates the multi-sheet workflow (sheet iteration, job sheet handling, compute_utilization, estimate_cut_counts).</li> <li><code>cut_optimization.py</code>: solver that does guillotine/shelf packing against free rectangles.</li> <li><code>nesting_engine.py</code>: encapsulates the algorithm that <code>cut_optimization</code> relies on; supports both \u201cmaterial\u201d and \u201ccuts\u201d optimization modes.</li> <li> <p><code>multi_sheet_optimizer.py</code>: spreads panels across multiple sheets, stopping when all parts are placed or sheets are exhausted.</p> </li> <li> <p>Geometry &amp; exports</p> </li> <li><code>geometry_output.py</code>: turns placements into FreeCAD rectangles, groups, and sources/nested sheet hierarchies.</li> <li><code>geometry_sync.py</code>: keeps the document in sync after imports/nesting by rebuilding views and logging stale-reference issues.</li> <li><code>view_controller.py</code>: TaskPanel-driven helpers to show source vs. nesting views, clear groups, and zoom to objects.</li> <li><code>gui_tests.py</code>: GUI-level smoke checks invoked from the Settings panel and the developer toolbar.</li> <li> <p><code>cutlist.py</code>, <code>exporter.py</code>, <code>report_generator.py</code>: build deterministic exports (CSV cutlists, SVG maps, PDF reports) from <code>ExportJob</code>/<code>ExportSheet</code> state instead of FreeCAD objects.</p> </li> <li> <p>Sheet helpers</p> </li> <li><code>sheet_model.py</code>: manages FreeCAD Group/Boundary helpers and ensures canonical names/clear/rebuild flows.</li> <li><code>sheet_presets.py</code>: provides factory presets for metric/imperial defaults that never auto-select themselves.</li> </ul> <p>The <code>core</code> package intentionally minimizes FreeCAD API surface, enabling the python-only tests to run inside the Docker/devcontainer environment described in <code>docs/TESTING.md</code>.</p>"},{"location":"architecture/#3-gui-layer","title":"3. GUI Layer","text":"<p><code>gui/</code> wraps commands, dialogs, and widgets for user interaction.</p> <ul> <li><code>gui/commands/</code>: entry points that plug into the FreeCAD GUI.</li> <li><code>cmd_run_nesting.py</code>, <code>cmd_export_report.py</code>, <code>cmd_import_csv.py</code>, <code>cmd_set_sheet_size.py</code>, <code>cmd_preferences.py</code>, <code>cmd_run_gui_tests.py</code>, <code>cmd_add_shapes.py</code>.</li> <li> <p>Commands import <code>core</code> helpers, show dialogs, and set <code>session_state</code> before running logic.</p> </li> <li> <p>Dialogs: <code>gui/dialogs/*.py</code> (CSV import, export report, run nesting, select shapes, sheet size) gather structured input before deferring to commands.</p> </li> <li> <p>TaskPanel widgets: </p> </li> <li><code>taskpanel_main.py</code> (main TaskPanel + summary stats + new developer tools section), </li> <li><code>taskpanel_settings.py</code> (settings UI with GUI test launcher/status), </li> <li><code>taskpanel_nesting.py</code>, <code>taskpanel_sheet.py</code>, <code>taskpanel_input.py</code>.</li> <li> <p><code>qt_compat.py</code> provides lightweight Qt stubs so tests can instantiate widgets headlessly.</p> </li> <li> <p>Views/helpers: <code>source_view.py</code>, <code>nesting_view.py</code>, <code>view_helpers.py</code>, <code>view_utils.py</code> coordinate FreeCAD object visibility.</p> </li> <li> <p><code>icons.py</code> resolves bundled icon names for commands and panels (no new icon dependencies allowed without review).</p> </li> </ul>"},{"location":"architecture/#4-data-flow","title":"4. Data Flow","text":"<ol> <li>CSV import or FreeCAD shape selection feeds panel metadata into <code>session_state</code>.</li> <li>The TaskPanel (main + settings) hydrates defaults via <code>settings.hydrate_from_params()</code> and populates widgets/sheets.</li> <li><code>session_state</code> + <code>nesting.py</code> assemble panels, job sheets, kerf/spacing, and routing (optimize-for-cut vs material). This includes <code>nesting_engine</code>, <code>cut_optimization</code>, and <code>multi_sheet_optimizer</code>.</li> <li><code>geometry_output</code> + <code>view_controller</code> rebuild the FreeCAD scene (source vs nested) and log visual diagnostics.</li> <li><code>Exporter</code>, <code>cutlist</code>, and <code>report_generator</code> read <code>ExportJob</code>/<code>ExportSheet</code> state to write deterministic CSV/SVG reports; FreeCAD geometry is never directly traversed when exports exist.</li> <li>Developer-facing GUI tests (<code>core/gui_tests.py</code>, TaskPanel developer group) run a lean import + nesting cycle and log formatted results for Report view visibility.</li> </ol>"},{"location":"architecture/#5-supporting-documentation-tools","title":"5. Supporting Documentation &amp; Tools","text":"<ul> <li>Docs: <code>docs/developer_guide.md</code> (consolidated from the archived <code>Project_Guide_v3.3.md</code>), <code>docs/Backlog.md</code>, <code>docs/TESTING.md</code>, <code>docs/Development_Environment.md</code>, <code>docs/user_guide.md</code>, and the root <code>AGENTS.md</code> describe policies every change must obey.</li> <li>Testing: <code>docs/TESTING.md</code> and the Docker/devcontainer instructions explain how to run <code>pytest</code> (pure Python and FreeCAD-aware) plus <code>FreeCADCmd</code> GUI flows.</li> <li>Developer tooling: <code>gui/taskpanel_settings.py</code> and <code>core/gui_tests.py</code> surface the GUI test launcher, while <code>docs/TESTING.md</code> explains the Docker workflow for matching CI.</li> <li>Markdown assets (roadmap/backlog) live under <code>docs/</code>; they are validated by <code>tests/test_docs_backlog_structure.py</code> so future edits stay aligned with stated priorities.</li> </ul> <p>Keeping this document synchronized with the real file tree prevents misconceptions about where logic lives and what responsibilities each module bears.</p>"},{"location":"backlog_archive_v3.2/","title":"SquatchCut Backlog (v3.3 \u2013 Addon Manager Readiness)","text":"<p>This backlog targets \u201cready for FreeCAD Addon Manager\u201d status and aligns with <code>docs/developer_guide.md</code> (which consolidates AGENTS.md and the archived <code>Project_Guide_v3.3.md</code>) and SQUATCHCUT_SYNC_REPORT_V4.</p> <p>Tag legend: <code>[AI]</code> = AI-worker-friendly, <code>[HUMAN]</code> = human-only, <code>[MIXED]</code> = AI-assisted with human judgment.</p>"},{"location":"backlog_archive_v3.2/#1-high-priority-required-for-addon-manager","title":"1. High Priority \u2013 Required for Addon Manager","text":""},{"location":"backlog_archive_v3.2/#core-engine-multi-sheet-behavior","title":"Core engine &amp; multi-sheet behavior","text":"<ul> <li>[MIXED] Keep nesting pipeline deterministic across multi-sheet jobs and cut-friendly heuristics; avoid drift in sheet_index ordering.</li> </ul>"},{"location":"backlog_archive_v3.2/#units-sheets-and-measurement-systems","title":"Units, sheets, and measurement systems","text":"<ul> <li>[AI] Ensure measurement-system defaults remain split per system during hydration/settings flows; prevent hidden unit drift.</li> </ul>"},{"location":"backlog_archive_v3.2/#taskpanels-uiux","title":"TaskPanels &amp; UI/UX","text":"<ul> <li>[MIXED] Reflow TaskPanel controls for narrow docks (~300\u2013350 px) and ensure warning banner coexists without clipping.</li> </ul>"},{"location":"backlog_archive_v3.2/#previewapply-lifecycle","title":"Preview/apply lifecycle","text":"<ul> <li>[MIXED] Implement non-destructive preview path with deterministic cleanup of <code>SquatchCut_*</code> groups before/after preview/apply.</li> </ul>"},{"location":"backlog_archive_v3.2/#sheet-exhaustion-utilization","title":"Sheet exhaustion &amp; utilization","text":"<ul> <li>[MIXED] Detect sheet exhaustion during nesting, surface user-visible feedback (logs/UI), and prevent silent truncation.</li> </ul>"},{"location":"backlog_archive_v3.2/#export-cutlistreportdxf","title":"Export (cutlist/report/DXF)","text":"<ul> <li>[MIXED] Wire cutlist/export commands end-to-end with deterministic outputs from ExportJob; remove stub paths and confirm UI triggers succeed.</li> </ul>"},{"location":"backlog_archive_v3.2/#logging-developer-mode","title":"Logging &amp; Developer Mode","text":"<ul> <li>[MIXED] Ensure developer-mode/logging controls are available without impacting UAT flows; keep logging consistent across commands.</li> </ul>"},{"location":"backlog_archive_v3.2/#integration-tests-gui-tests","title":"Integration tests &amp; GUI tests","text":"<ul> <li>[AI] Add integration coverage for preview\u2192apply sequencing and multi-sheet exhaustion edge cases (qt_compat where possible).</li> </ul>"},{"location":"backlog_archive_v3.2/#docs-uat-packaging","title":"Docs, UAT &amp; packaging","text":"<ul> <li>[MIXED] Validate packaging/addon ZIP and command registration for Addon Manager; confirm package.xml/egg-info/Makefile output installs cleanly.</li> </ul>"},{"location":"backlog_archive_v3.2/#2-medium-priority-should-have-soon","title":"2. Medium Priority \u2013 Should Have Soon","text":""},{"location":"backlog_archive_v3.2/#core-engine-multi-sheet-behavior_1","title":"Core engine &amp; multi-sheet behavior","text":"<ul> <li>[AI] Add per-sheet utilization metrics and log/UI summaries after nesting.</li> </ul>"},{"location":"backlog_archive_v3.2/#units-sheets-and-measurement-systems_1","title":"Units, sheets, and measurement systems","text":"<ul> <li>[AI] Strengthen fractional-inch and measurement toggle tests to guard against formatting drift during edits/hydration.</li> </ul>"},{"location":"backlog_archive_v3.2/#taskpanels-uiux_1","title":"TaskPanels &amp; UI/UX","text":"<ul> <li>[AI] Add warning/banner lifecycle tests and polish interactions when nesting mode, job sheets, or units change.</li> </ul>"},{"location":"backlog_archive_v3.2/#previewapply-lifecycle_1","title":"Preview/apply lifecycle","text":"<ul> <li>[AI] Expand integration tests around preview\u2192apply flows to ensure preview is non-destructive once implemented.</li> </ul>"},{"location":"backlog_archive_v3.2/#sheet-exhaustion-utilization_1","title":"Sheet exhaustion &amp; utilization","text":"<ul> <li>[MIXED] Provide basic utilization/exhaustion summaries in the TaskPanel/logs once detection is in place.</li> </ul>"},{"location":"backlog_archive_v3.2/#export-cutlistreportdxf_1","title":"Export (cutlist/report/DXF)","text":"<ul> <li>[AI] Document export formats (CSV/SVG/cutlist) with sample outputs for metric/imperial; keep DXF deferred but scoped.</li> </ul>"},{"location":"backlog_archive_v3.2/#logging-developer-mode_1","title":"Logging &amp; Developer Mode","text":"<ul> <li>[MIXED] Test and refine logging/dev-mode persistence and UX so toggles are discoverable yet unobtrusive.</li> </ul>"},{"location":"backlog_archive_v3.2/#integration-tests-gui-tests_1","title":"Integration tests &amp; GUI tests","text":"<ul> <li>[AI] Broaden GUI smoke tests for TaskPanel layout at narrow widths and warning banner states.</li> </ul>"},{"location":"backlog_archive_v3.2/#docs-uat-packaging_1","title":"Docs, UAT &amp; packaging","text":"<ul> <li>[AI] Refresh UAT checklist/prep docs and sample CSVs to match v3.3 preview/apply and multi-sheet behavior.</li> </ul>"},{"location":"backlog_archive_v3.2/#3-low-priority-nice-to-have-v34","title":"3. Low Priority \u2013 Nice to Have / v3.4+","text":""},{"location":"backlog_archive_v3.2/#core-engine-multi-sheet-behavior_2","title":"Core engine &amp; multi-sheet behavior","text":"<ul> <li>[MIXED] Polish multi-sheet visualization (labels, spacing) and eliminate ghost objects after reruns.</li> </ul>"},{"location":"backlog_archive_v3.2/#export-cutlistreportdxf_2","title":"Export (cutlist/report/DXF)","text":"<ul> <li>[AI] Implement DXF export via ExportJob once CSV/SVG are locked.</li> </ul>"},{"location":"backlog_archive_v3.2/#logging-developer-mode_2","title":"Logging &amp; Developer Mode","text":"<ul> <li>[AI] Add enhanced developer diagnostics (utilization summaries, optional verbose logging) controllable from settings.</li> </ul>"},{"location":"backlog_archive_v3.2/#docs-uat-packaging_2","title":"Docs, UAT &amp; packaging","text":"<ul> <li>[AI] Provide additional AI-worker job card templates and contributor guidance for AI-assisted development.</li> </ul>"},{"location":"backlog_archive_v3.2/#legacy-backlog-v32-archive","title":"Legacy Backlog (v3.2 archive)","text":"<p>The content below preserves the previous backlog for historical reference and for any checks that still target v3.2-era milestones.</p>"},{"location":"backlog_archive_v3.2/#squatchcut-backlog-v33","title":"SquatchCut Backlog (v3.3)","text":"<p>This backlog reflects the current architecture (multi-sheet jobs, per-job measurement system, settings/dev-mode, logging controls) and supports a multi-AI workflow.</p> <p>Tag legend: <code>[AI]</code> = AI-worker-friendly, <code>[HUMAN]</code> = human-only, <code>[MIXED]</code> = AI-assisted with human judgment.</p>"},{"location":"backlog_archive_v3.2/#core-engine-nesting","title":"Core engine &amp; nesting","text":"<ul> <li>[MIXED] Preview determinism &amp; cleanup \u2013 Separate preview from apply, keep <code>SquatchCut_Sheet_*</code>, <code>SquatchCut_SourceParts_*</code>, and <code>SquatchCut_NestedParts_*</code> synchronized/cleared across Preview/Apply runs, and leave the document clean between runs.</li> <li>[MIXED] Sheet exhaustion metrics &amp; feedback \u2013 Detect exhausted sheet stacks, log/flag usage stats per sheet, and surface user-visible hints instead of silent truncation.</li> <li>[AI] ExportJob determinism verification \u2013 Expand coverage for <code>build_export_job_from_current_nesting</code> to lock raw mm geometry vs formatted strings for metric/imperial jobs.</li> <li>[MIXED] Cut-friendly multi-sheet heuristics \u2013 Stabilize lane/guillotine ordering and spacing for advanced sheet stacks while honoring <code>sheet_index</code> fidelity.</li> </ul>"},{"location":"backlog_archive_v3.2/#units-sheets-and-measurement-systems_2","title":"Units, sheets, and measurement systems","text":"<ul> <li>[AI] Fractional-inch stability \u2013 Strengthen formatting/parsing tests to prevent drift across hydration, sheet edits, and CSV import/export.</li> <li>[AI] Per-job measurement system persistence \u2013 Verify that measurement toggles and defaults travel through hydration/TaskPanel flows without mutating stored defaults.</li> <li>[MIXED] Sheet presets &amp; imperial defaults review \u2013 Validate imperial defaults (48 \u00d7 96) and preset selection rules under multi-sheet jobs without auto-selection.</li> </ul>"},{"location":"backlog_archive_v3.2/#gui-ux","title":"GUI &amp; UX","text":"<ul> <li>[MIXED] TaskPanel overflow &amp; ergonomics \u2013 Reflow dense button/checkbox rows so narrow docks (~300\u2013350 px) do not clip controls or warning banners.</li> <li>[MIXED] Multi-sheet visualization polish \u2013 Improve per-sheet labeling, spacing, and navigation; ensure ghost objects never linger after reruns.</li> <li>[AI] Warning banner lifecycle tests \u2013 Cover <code>_sheet_warning_active</code> state changes across nesting modes, job sheet edits, and unit-system toggles.</li> <li>[MIXED] Dev-mode &amp; logging controls \u2013 Keep developer tools/logging toggles discoverable without impacting normal UAT flows.</li> </ul>"},{"location":"backlog_archive_v3.2/#ai-workflow-tooling","title":"AI workflow &amp; tooling","text":"<ul> <li>[HUMAN] Branch governance for multiple AI workers \u2013 Define branch naming/assignment norms so parallel AI tasks avoid overlapping core files.</li> <li>[AI] Task spec/job card templates \u2013 Publish examples for Architect-written specs consumable by any AI worker (local editor or hosted agent).</li> <li>[AI] CI and lint reliability \u2013 Keep lint/test workflows tool-agnostic; document any AI-specific pre-flight checks when running locally.</li> </ul>"},{"location":"backlog_archive_v3.2/#docs-onboarding","title":"Docs &amp; onboarding","text":"<ul> <li>[AI] v3.3 documentation sweep \u2013 Align user/dev docs, MkDocs nav, and samples with v3.3 behavior (multi-sheet jobs, measurement handling, preview/apply flow).</li> <li>[AI] Sample data refresh \u2013 Ship metric and imperial CSV samples with expected outputs for Preview/Apply and exports.</li> <li>[MIXED] UAT collateral \u2013 Update prep/checklist docs to reflect current UI labels, warning banner expectations, and developer mode/logging guidance.</li> </ul>"},{"location":"backlog_archive_v3.2/#archive-legacy-backlog-pre-v33","title":"Archive / Legacy backlog (pre-v3.3)","text":"<p>The sections below preserve the v3.2 backlog for historical reference and validation.</p>"},{"location":"backlog_archive_v3.2/#completed-since-v32","title":"Completed Since v3.2","text":"<ul> <li>Settings Panel Behavior \u2013 Settings TaskPanel opens reliably, hydrates before widgets, and only persists defaults on explicit save (<code>freecad/SquatchCut/gui/taskpanel_settings.py</code>, hydration helpers).</li> <li>Unified Job-Sheet Normalization \u2013 <code>_normalize_sheet_definition</code> + helper pipeline now feeds every nesting strategy with the same validated sheet list (<code>freecad/SquatchCut/core/nesting.py</code>).</li> <li>Baseline Multi-Sheet Support \u2013 Standard, cut-friendly, and guillotine strategies accept multi-sheet jobs with <code>sheet_index</code> fidelity (<code>freecad/SquatchCut/core/nesting.py</code>, <code>freecad/SquatchCut/core/cut_optimization.py</code>).</li> <li>Warning Banner Infrastructure \u2013 TaskPanel warning banner warns when cut modes may ignore sheets; <code>_sheet_warning_active</code> wiring covered by hydration tests (<code>freecad/SquatchCut/gui/taskpanel_main.py</code>, <code>tests/test_taskpanel_hydration.py</code>).</li> <li>Documentation &amp; Backlog Sync \u2013 v3.2 guide and this backlog reflect the shared job-sheet pipeline, warning banner, and current priorities (<code>docs/Project_Guide_v3.2.md</code>).</li> <li>AI-Friendly Dev Environment \u2013 Host-cloned repo, bind-mounted dev container, and <code>squatchcut.code-workspace</code> defined for ChatGPT/Codex compatibility (<code>.devcontainer/devcontainer.json</code>, <code>squatchcut.code-workspace</code>, <code>docs/Development_Environment.md</code>).</li> <li>Canonical ExportJob Model \u2013 <code>ExportJob</code>, <code>ExportSheet</code>, and <code>ExportPartPlacement</code> defined/tested in <code>freecad/SquatchCut/core/exporter.py</code>; <code>build_export_job_from_current_nesting</code> is the sole bridge from nesting to exports.</li> <li>CSV Cutlist Export from ExportJob \u2013 <code>export_cutlist</code> now writes deterministic CSV rows (raw mm + formatted strings) using ExportJob; TaskPanel routes CSV flows exclusively through exporter.py.</li> <li>SVG 2D Export from ExportJob \u2013 <code>export_nesting_to_svg</code> renders one sheet-per-file SVG with sheet borders, part rectangles, and labels without touching FreeCAD geometry; TaskPanel uses this gateway for SVG.</li> <li>Centralized Export Gateway \u2013 All TaskPanel exports call <code>build_export_job_from_current_nesting</code> + <code>exporter.export_*</code>; no other module writes CSV/SVG files directly.</li> </ul>"},{"location":"backlog_archive_v3.2/#active-backlog-high-priority","title":"Active Backlog (High Priority)","text":"<ul> <li> <p>P1 \u2013 Preview Determinism &amp; Cleanup \u2013 Separate preview from apply so preview is non-destructive, and keep <code>SquatchCut_Sheet_*</code>, <code>SquatchCut_SourceParts_*</code>, and <code>SquatchCut_NestedParts_*</code> groups synchronized/cleared across Preview/Apply runs. Scope: <code>freecad/SquatchCut/gui/taskpanel_main.py</code>, <code>freecad/SquatchCut/core/view_controller.py</code>, <code>freecad/SquatchCut/core/session.py</code></p> </li> <li> <p>P1 \u2013 TaskPanel Overflow &amp; Ergonomics \u2013 Rework dense button/checkbox rows (Preview/Run/Show Source, warning banner, sheet controls) to prevent clipping on narrow docks, and add/update minimal UI smoke checks to ensure the TaskPanel initializes cleanly at narrow dock widths (~300\u2013350 px). Scope: <code>freecad/SquatchCut/gui/taskpanel_main.py</code>, <code>tests/test_taskpanel_hydration.py</code> (and/or lightweight GUI smoke tests)</p> </li> <li> <p>P1 \u2013 Multi-Sheet Visualization Polish \u2013 Improve per-sheet labeling, spacing, and navigation inside the 3D view so advanced sheet stacks are obvious and ghost objects never remain after reruns. Scope: <code>freecad/SquatchCut/gui/nesting_view.py</code>, <code>freecad/SquatchCut/core/view_controller.py</code></p> </li> <li> <p>P1 \u2013 Test Suite Expansion (Hydration, Units, Preview) \u2013 Add coverage for measurement toggles, fractional-inch formatting drift, preview lifecycle (Preview \u2192 Preview \u2192 Apply vs Apply-only), <code>sheet_index</code> propagation, and basic sheet exhaustion scenarios. Scope: <code>tests/test_taskpanel_hydration.py</code>, <code>tests/test_nesting.py</code>, new preview/exhaustion-focused suites</p> </li> <li> <p>P2 \u2013 CSV Export &amp; Cutlist Determinism \u2013 Replace the placeholder export command with a working, deterministic cutlist writer that orders rows by sheet index and cut order and emits stable, documented fields. Scope: <code>freecad/SquatchCut/gui/commands/cmd_run_nesting.py</code> + helpers</p> </li> <li> <p>P2 \u2013 DXF Export from ExportJob (Deferred) \u2013 Implement DXF generation from the same 2D sheet/part representation once CSV/SVG pipelines are locked. Until then, DXF remains non-blocking. Scope: <code>freecad/SquatchCut/core/exporter.py</code> (future work)</p> </li> <li> <p>P2 \u2013 Documentation &amp; Sample Data Updates \u2013 Update user-facing docs and examples to match the v3.3 UX, including Preview vs Apply workflow, multi-sheet nesting behavior, and shipping both metric and imperial sample CSVs with expected results. Scope: <code>docs/Project_Guide_v3.2.md</code>, <code>docs/user_guide.md</code>, <code>docs/samples/*</code></p> </li> <li> <p>P2 \u2013 Warning Banner Lifecycle Tests \u2013 Ensure <code>_sheet_warning_active</code> and banner text update correctly when nesting mode, job sheets, or unit systems change so the banner never gets stuck \u201con\u201d or \u201coff\u201d. Scope: <code>freecad/SquatchCut/gui/taskpanel_main.py</code>, <code>tests/test_taskpanel_hydration.py</code></p> </li> <li> <p>P2 \u2013 Sheet Exhaustion Metrics &amp; Feedback \u2013 Detect and communicate when configured sheet quantities run out, ideally via simple usage stats (used vs available) and clear UI/log hints rather than silent truncation. Scope: <code>freecad/SquatchCut/core/nesting.py</code>, <code>freecad/SquatchCut/gui/taskpanel_main.py</code></p> </li> </ul>"},{"location":"backlog_archive_v3.2/#future-longer-term-items","title":"Future / Longer-Term Items","text":"<ul> <li> <p>Per-Sheet Cut-Order Visualization \u2013 Highlight rip/crosscut sequences and provide per-sheet cut-order visualization guidance in the viewer once core v3.3 visuals are stable. Scope: <code>freecad/SquatchCut/gui/nesting_view.py</code>, <code>freecad/SquatchCut/core/cut_optimization.py</code></p> </li> <li> <p>Enhanced Sheet Exhaustion Metrics \u2013 Provide utilization percentages and unused/used counts after baseline exhaustion warnings are in place, to help users tune their sheet configurations. Scope: <code>freecad/SquatchCut/core/nesting.py</code>, <code>freecad/SquatchCut/gui/taskpanel_main.py</code></p> </li> <li> <p>Multi-Sheet Presets \u2013 Save/load named sheet stacks that respect measurement rules and provide quick-select for common configurations (e.g., 4\u00d78 plywood stacks). Scope: <code>freecad/SquatchCut/gui/taskpanel_main.py</code>, <code>freecad/SquatchCut/core/session_state.py</code>, <code>docs/user_guide.md</code></p> </li> <li> <p>Kerf Simulation \u2013 Model saw-specific kerf widths in both packing and cut-friendly heuristics, and expose configuration in the UI and documentation. Scope: <code>freecad/SquatchCut/core/nesting.py</code>, <code>freecad/SquatchCut/core/cut_optimization.py</code>, <code>docs/user_guide.md</code></p> </li> </ul> <p>Scope: <code>freecad/SquatchCut/core/nesting.py</code>, <code>freecad/SquatchCut/gui/taskpanel_main.py</code></p>"},{"location":"developer_guide/","title":"SquatchCut Developer Guide","text":"<p>This is the authoritative developer guidance for AI and human contributors. It consolidates <code>AGENTS.md</code> and the archived SquatchCut Project Guide v3.3 \u2013 AI worker edition, and it defines the AI worker communication rules, hydration order, UI constraints, and testing mandates (v3.2 retained for history).</p>"},{"location":"developer_guide/#new-developer-utilities","title":"New Developer Utilities","text":""},{"location":"developer_guide/#performance-monitoring-freecadsquatchcutcoreperformance_utilspy","title":"Performance Monitoring (<code>freecad/SquatchCut/core/performance_utils.py</code>)","text":""},{"location":"developer_guide/#performance-decorators","title":"Performance Decorators","text":"<p>Use the <code>@performance_monitor</code> decorator to track slow operations:</p> <pre><code>from SquatchCut.core.performance_utils import performance_monitor\n\n@performance_monitor(\"CSV Import\", threshold_seconds=2.0)\ndef import_large_csv(file_path):\n    # Your implementation here\n    pass\n</code></pre>"},{"location":"developer_guide/#large-dataset-optimization","title":"Large Dataset Optimization","text":"<p>Use the <code>@optimize_for_large_datasets</code> decorator for functions that process many items:</p> <pre><code>from SquatchCut.core.performance_utils import optimize_for_large_datasets\n\n@optimize_for_large_datasets\ndef process_parts(parts_list):\n    # Automatically checks system resources for large datasets\n    # Validates dataset size limits\n    # Logs performance warnings for very large datasets\n    pass\n</code></pre>"},{"location":"developer_guide/#progress-tracking","title":"Progress Tracking","text":"<p>For long-running operations with known progress:</p> <pre><code>from SquatchCut.core.performance_utils import ProgressTracker\n\ndef process_many_items(items):\n    tracker = ProgressTracker(len(items), \"Processing Items\")\n\n    for item in items:\n        # Process item\n        tracker.update(1)  # Update progress\n\n    tracker.finish()  # Log completion\n</code></pre>"},{"location":"developer_guide/#batch-processing","title":"Batch Processing","text":"<p>For memory-efficient processing of large datasets:</p> <pre><code>from SquatchCut.core.performance_utils import batch_process\n\ndef process_large_dataset(items):\n    for batch in batch_process(items, batch_size=100):\n        # Process batch of up to 100 items\n        process_batch(batch)\n</code></pre>"},{"location":"developer_guide/#input-validation-freecadsquatchcutcoreinput_validationpy","title":"Input Validation (<code>freecad/SquatchCut/core/input_validation.py</code>)","text":""},{"location":"developer_guide/#basic-validation","title":"Basic Validation","text":"<pre><code>from SquatchCut.core.input_validation import validate_positive_number\n\ntry:\n    width = validate_positive_number(user_input, \"width\")\nexcept ValidationError as e:\n    # Handle validation error with user-friendly message\n    show_error_dialog(e.message, e.details, e.user_action)\n</code></pre>"},{"location":"developer_guide/#sheet-dimensions","title":"Sheet Dimensions","text":"<pre><code>from SquatchCut.core.input_validation import validate_sheet_dimensions\n\ntry:\n    width_mm, height_mm = validate_sheet_dimensions(\n        width_input, height_input, \"imperial\"\n    )\nexcept ValidationError as e:\n    handle_validation_error(e)\n</code></pre>"},{"location":"developer_guide/#panel-data-validation","title":"Panel Data Validation","text":"<pre><code>from SquatchCut.core.input_validation import validate_panel_data\n\ntry:\n    panel = validate_panel_data(\n        panel_id=\"P001\",\n        width=\"12 1/2\",\n        height=\"24\",\n        quantity=2,\n        units_system=\"imperial\"\n    )\n    # Returns: {\"id\": \"P001\", \"width\": 317.5, \"height\": 609.6, \"qty\": 2}\nexcept ValidationError as e:\n    handle_validation_error(e)\n</code></pre>"},{"location":"developer_guide/#file-path-validation","title":"File Path Validation","text":"<pre><code>from SquatchCut.core.input_validation import validate_csv_file_path, validate_export_path\n\n# CSV import validation\ntry:\n    validated_path = validate_csv_file_path(user_selected_path)\nexcept ValidationError as e:\n    show_error_dialog(e.message, e.details, e.user_action)\n\n# Export path validation\ntry:\n    safe_path = validate_export_path(user_path, \".csv\")\nexcept ValidationError as e:\n    handle_validation_error(e)\n</code></pre>"},{"location":"developer_guide/#error-handling-freecadsquatchcutuierror_handlingpy","title":"Error Handling (<code>freecad/SquatchCut/ui/error_handling.py</code>)","text":""},{"location":"developer_guide/#standardized-error-dialogs","title":"Standardized Error Dialogs","text":"<pre><code>from SquatchCut.ui.error_handling import show_error_dialog, show_warning_dialog\n\n# Error with details and user action\nshow_error_dialog(\n    title=\"Import Failed\",\n    message=\"Could not read CSV file\",\n    details=\"File format is invalid or corrupted\",\n    user_action=\"Please check the file format and try again\"\n)\n\n# Warning dialog\nshow_warning_dialog(\n    title=\"Large Dataset\",\n    message=\"Processing 5000+ parts may take several minutes\",\n    user_action=\"Consider splitting into smaller files for better performance\"\n)\n</code></pre>"},{"location":"developer_guide/#command-error-handling","title":"Command Error Handling","text":"<pre><code>from SquatchCut.ui.error_handling import handle_command_error\n\ndef Activated(self):\n    try:\n        # Command implementation\n        pass\n    except Exception as e:\n        handle_command_error(\n            \"Import CSV\",\n            e,\n            \"Failed to import CSV file\",\n            \"Please check the file format and try again\"\n        )\n</code></pre>"},{"location":"developer_guide/#custom-error-types","title":"Custom Error Types","text":"<pre><code>from SquatchCut.ui.error_handling import ValidationError, ProcessingError\n\n# Validation errors (user input issues)\nraise ValidationError(\n    \"Invalid Sheet Size\",\n    \"Width must be positive\",\n    \"Please enter a width greater than 0\"\n)\n\n# Processing errors (algorithm/system issues)\nraise ProcessingError(\n    \"Nesting Failed\",\n    \"Parts do not fit on sheet\",\n    \"Try using a larger sheet or smaller parts\"\n)\n</code></pre>"},{"location":"developer_guide/#progress-indicators-freecadsquatchcutuiprogresspy","title":"Progress Indicators (<code>freecad/SquatchCut/ui/progress.py</code>)","text":""},{"location":"developer_guide/#simple-progress-context","title":"Simple Progress Context","text":"<p>For operations without specific progress tracking:</p> <pre><code>from SquatchCut.ui.progress import SimpleProgressContext\n\ndef long_operation():\n    with SimpleProgressContext(\"Processing...\", \"SquatchCut\"):\n        # Long-running operation\n        time.sleep(5)\n    # Progress dialog automatically closes\n</code></pre>"},{"location":"developer_guide/#detailed-progress-dialog","title":"Detailed Progress Dialog","text":"<p>For operations with known progress steps:</p> <pre><code>from SquatchCut.ui.progress import ProgressDialog\n\ndef process_items(items):\n    with ProgressDialog(\"Processing Items\") as progress:\n        progress.set_range(0, len(items))\n\n        for i, item in enumerate(items):\n            progress.set_value(i)\n            progress.set_label(f\"Processing item {i+1} of {len(items)}\")\n            # Process item\n\n        progress.set_value(len(items))\n        progress.set_label(\"Complete\")\n</code></pre>"},{"location":"developer_guide/#best-practices","title":"Best Practices","text":""},{"location":"developer_guide/#performance-considerations","title":"Performance Considerations","text":"<ol> <li>Use performance monitoring for operations that might be slow</li> <li>Validate dataset sizes before processing large amounts of data</li> <li>Implement progress indicators for operations taking &gt;500ms</li> <li>Use batch processing for memory-intensive operations</li> </ol>"},{"location":"developer_guide/#communication-protocol","title":"Communication Protocol","text":"<p>AI workers must follow the communication protocol directed by the lead developer &amp; product manager. Always remember the user is a non-technical stakeholder, so stay high level and avoid jargon. When details are fuzzy, pause, ask 3-4 clarifying questions before agreeing to a plan. Once the path forward is clear, explain your plan in plain english and deliver stakeholder-ready check-ins that summarize progress and next steps. If requirements conflict with each other or with existing constraints, stop and escalate when instructions conflict rather than guessing.</p>"},{"location":"developer_guide/#error-handling-guidelines","title":"Error Handling Guidelines","text":"<ol> <li>Always use ValidationError for user input problems</li> <li>Provide specific error messages with actionable guidance</li> <li>Include user actions in error dialogs</li> <li>Log technical details while showing user-friendly messages</li> </ol>"},{"location":"developer_guide/#input-validation-rules","title":"Input Validation Rules","text":"<ol> <li>Validate all user inputs before processing</li> <li>Use appropriate validation functions for different data types</li> <li>Handle edge cases (zero values, empty strings, etc.)</li> <li>Provide clear feedback on validation failures</li> </ol>"},{"location":"developer_guide/#ui-integration","title":"UI Integration","text":"<ol> <li>Add progress indicators to all long-running commands</li> <li>Use standardized error dialogs for consistent UX</li> <li>Implement keyboard shortcuts for common operations</li> <li>Follow FreeCAD TaskPanel patterns for UI consistency</li> </ol>"},{"location":"developer_guide/#testing-new-features","title":"Testing New Features","text":"<p>When adding new utilities or features:</p> <ol> <li>Write comprehensive tests covering normal and edge cases</li> <li>Test error conditions and validation failures</li> <li>Verify performance with large datasets</li> <li>Check UI responsiveness during long operations</li> <li>Test keyboard shortcuts and accessibility features</li> </ol> <p>Example test structure:</p> <pre><code>def test_validation_function():\n    # Test valid inputs\n    result = validate_function(\"valid_input\")\n    assert result == expected_value\n\n    # Test invalid inputs\n    with pytest.raises(ValidationError) as exc_info:\n        validate_function(\"invalid_input\")\n\n    assert \"expected error message\" in str(exc_info.value.message)\n    assert exc_info.value.user_action is not None\n</code></pre>"},{"location":"developer_guide/#property-based-testing-with-hypothesis","title":"Property-Based Testing with Hypothesis","text":"<p>SquatchCut uses property-based testing (PBT) with the Hypothesis framework to automatically generate test cases and find edge cases that traditional unit tests might miss.</p>"},{"location":"developer_guide/#what-is-property-based-testing","title":"What is Property-Based Testing?","text":"<p>Instead of writing specific test cases with fixed inputs, property-based testing:</p> <ol> <li>Defines properties that should always be true</li> <li>Generates random inputs automatically</li> <li>Finds counterexamples when properties fail</li> <li>Shrinks failures to minimal failing cases</li> </ol>"},{"location":"developer_guide/#running-property-based-tests","title":"Running Property-Based Tests","text":"<pre><code># Run all property-based tests\nexport PYTHONPATH=$PYTHONPATH:$(pwd)/freecad &amp;&amp; pytest tests/test_property_based*.py -v\n\n# Run with more examples (slower but more thorough)\nexport PYTHONPATH=$PYTHONPATH:$(pwd)/freecad &amp;&amp; pytest tests/test_property_based*.py --hypothesis-show-statistics\n</code></pre>"},{"location":"developer_guide/#core-property-tests-teststest_property_basedpy","title":"Core Property Tests (<code>tests/test_property_based.py</code>)","text":""},{"location":"developer_guide/#unit-conversion-properties","title":"Unit Conversion Properties","text":"<pre><code>@given(st.floats(min_value=0.001, max_value=10000.0))\ndef test_mm_to_inches_roundtrip(self, mm_value):\n    \"\"\"Property: Converting mm to inches and back should preserve the value.\"\"\"\n    inches = mm_to_inches(mm_value)\n    back_to_mm = inches_to_mm(inches)\n    assert abs(mm_value - back_to_mm) &lt; 0.001\n</code></pre>"},{"location":"developer_guide/#nesting-algorithm-properties","title":"Nesting Algorithm Properties","text":"<pre><code>@given(valid_parts(max_parts=20), valid_sheet_size())\ndef test_nesting_no_overlaps(self, parts, sheet_size):\n    \"\"\"Property: Nested parts should never overlap on the same sheet.\"\"\"\n    # Automatically tests with thousands of random part configurations\n</code></pre>"},{"location":"developer_guide/#stateful-testing","title":"Stateful Testing","text":"<p>Uses <code>RuleBasedStateMachine</code> to test complex sequences of operations:</p> <pre><code>class NestingStateMachine(RuleBasedStateMachine):\n    @rule(part_width=st.floats(min_value=10, max_value=200))\n    def add_part(self, part_width, part_height, can_rotate):\n        \"\"\"Add a part to the collection.\"\"\"\n\n    @rule()\n    def run_nesting(self):\n        \"\"\"Run nesting on current parts.\"\"\"\n\n    @invariant()\n    def no_overlaps_invariant(self):\n        \"\"\"Invariant: Placed parts should never overlap.\"\"\"\n</code></pre>"},{"location":"developer_guide/#advanced-feature-properties-teststest_property_based_advancedpy","title":"Advanced Feature Properties (<code>tests/test_property_based_advanced.py</code>)","text":""},{"location":"developer_guide/#performance-enhancement-properties","title":"Performance Enhancement Properties","text":"<pre><code>@given(valid_parts_list, sheet_dimensions)\ndef test_caching_consistency(self, parts, sheet_width, sheet_height):\n    \"\"\"Property: Caching should return identical results for identical inputs.\"\"\"\n    # Tests that caching doesn't change functional behavior\n</code></pre>"},{"location":"developer_guide/#writing-new-property-tests","title":"Writing New Property Tests","text":""},{"location":"developer_guide/#1-define-custom-strategies","title":"1. Define Custom Strategies","text":"<pre><code>@st.composite\ndef valid_parts(draw, max_parts=50):\n    \"\"\"Generate valid Part objects.\"\"\"\n    num_parts = draw(st.integers(min_value=1, max_value=max_parts))\n    parts = []\n    for i in range(num_parts):\n        part = Part(\n            id=f\"Part_{i}\",\n            width=draw(st.floats(min_value=1.0, max_value=5000.0)),\n            height=draw(st.floats(min_value=1.0, max_value=5000.0)),\n            can_rotate=draw(st.booleans()),\n        )\n        parts.append(part)\n    return parts\n</code></pre>"},{"location":"developer_guide/#2-write-property-tests","title":"2. Write Property Tests","text":"<pre><code>@given(valid_parts(max_parts=10))\n@settings(max_examples=50, deadline=5000)  # Control test parameters\ndef test_my_property(self, parts):\n    \"\"\"Property: Description of what should always be true.\"\"\"\n    assume(len(parts) &gt; 0)  # Add assumptions to filter inputs\n\n    result = my_function(parts)\n\n    # Assert properties that should always hold\n    assert len(result) &lt;= len(parts)\n    assert all(r.id in [p.id for p in parts] for r in result)\n</code></pre>"},{"location":"developer_guide/#3-handle-edge-cases","title":"3. Handle Edge Cases","text":"<pre><code>@given(st.floats(allow_nan=False, allow_infinity=False))\ndef test_robust_function(self, value):\n    \"\"\"Property: Function should handle all valid float inputs.\"\"\"\n    assume(value &gt; 0)  # Filter to valid domain\n\n    try:\n        result = my_function(value)\n        assert result &gt;= 0  # Property that should hold\n    except ValueError:\n        # Some inputs may legitimately fail - that's OK\n        pass\n</code></pre>"},{"location":"developer_guide/#property-test-guidelines","title":"Property Test Guidelines","text":""},{"location":"developer_guide/#best-practices_1","title":"Best Practices","text":"<ol> <li>Start simple - Test basic properties first</li> <li>Use assumptions to filter inputs to valid domains</li> <li>Allow legitimate failures - Not all random inputs should succeed</li> <li>Test invariants - Properties that should always hold</li> <li>Use appropriate timeouts - Complex algorithms need longer deadlines</li> </ol>"},{"location":"developer_guide/#common-property-types","title":"Common Property Types","text":"<ol> <li>Roundtrip properties - <code>f(g(x)) == x</code></li> <li>Invariant properties - Something that never changes</li> <li>Postcondition properties - Output always satisfies conditions</li> <li>Metamorphic properties - Relationship between different inputs</li> <li>Model-based properties - Compare against simpler reference implementation</li> </ol>"},{"location":"developer_guide/#debugging-failed-properties","title":"Debugging Failed Properties","text":"<p>When Hypothesis finds a failing case:</p> <ol> <li>Look at the minimal example - Hypothesis shrinks to simplest failure</li> <li>Add logging to understand what's happening</li> <li>Use <code>@example</code> decorator to add the failing case as a regression test</li> <li>Fix the underlying issue or adjust the property if it's too strict</li> </ol> <pre><code>@given(st.integers())\n@example(42)  # Add specific failing case as regression test\ndef test_my_property(self, value):\n    # Property test implementation\n</code></pre>"},{"location":"developer_guide/#integration-with-cicd","title":"Integration with CI/CD","text":"<p>Property-based tests run automatically in the test suite and help catch:</p> <ul> <li>Edge cases in unit conversions and measurements</li> <li>Algorithmic bugs in nesting and optimization</li> <li>Performance regressions with large datasets</li> <li>Data integrity issues in export/import functions</li> <li>UI state inconsistencies in complex workflows</li> </ul> <p>The comprehensive property test suite provides confidence that SquatchCut handles the wide variety of real-world inputs users will provide.</p>"},{"location":"developer_guide/#collaboration-workflow","title":"Collaboration Workflow","text":"<ul> <li>Follow the one ai per branch rule so tasks stay isolated per branch.</li> <li>Name branches <code>ai/&lt;worker-name&gt;/&lt;feature&gt;</code> to signal who owns the work.</li> <li>Include an architect/human reviewer before merging AI-generated changes.</li> <li>Ensure commit messages summarize scope and constraints for every change.</li> <li>PRs must use the stakeholder-facing template so reviewers can see intent, tests, and risks.</li> <li>Never force-push over someone else's work; create a new branch when you need to rebase shared history.</li> <li>Record the plan and test outcomes in the PR description or linked notes so stakeholders can trace what happened.</li> </ul>"},{"location":"mvp/","title":"MVP Scope","text":"<p>FreeCAD Nesting Workbench Version: MVP Specification Author: Steven + ChatGPT</p>"},{"location":"mvp/#mvp-overview","title":"\ud83c\udfaf MVP Overview","text":"<p>SquatchCut is a FreeCAD Workbench that extracts 2D shapes from a user's active project, nests them across multiple sheets using rectangular optimization, generates layout geometry inside FreeCAD, and exports a full PDF/CSV report. CSV import is supported as a fallback, but the primary workflow is extracting geometry from FreeCAD.</p> <p>This document defines the locked, non-negotiable MVP requirements.</p>"},{"location":"mvp/#1-shape-extraction-from-freecad-primary-input","title":"\ud83d\udfe9 1. Shape Extraction From FreeCAD (Primary Input)","text":"<p>MVP must extract panel geometry directly from the active FreeCAD document.</p> <p>Supported sources:</p> <ul> <li>Sketcher sketches (closed profiles)</li> <li>Draft rectangles, polygons, and shapes</li> <li>Part::Box (projected to 2D bounding rectangle)</li> <li>Part::Feature objects with planar faces</li> </ul> <p>Extract for each shape:</p> <ul> <li>Width and height</li> <li>Bounding box in global XY</li> <li>Rotation allowed (true/false)</li> <li>Unique ID</li> <li>Naming from label or auto-generated</li> </ul> <p>User workflow:</p> <ul> <li>Select shapes \u2192 Click \u201cAdd Selected to Nesting\u201d</li> <li>Or auto-detect 2D shapes \u2192 present selectable list</li> </ul> <p>CSV is a fallback, not the primary method.</p>"},{"location":"mvp/#2-csv-import-fallback-mode","title":"\ud83d\udfe9 2. CSV Import (Fallback Mode)","text":"<p>CSV must support:</p> <p>Required fields:</p> <ul> <li>id</li> <li>width</li> <li>height</li> </ul> <p>Optional fields:</p> <ul> <li>allow_rotate (1/true/yes to permit 90\u00b0 rotation)</li> </ul> <p>CSV validation:</p> <ul> <li>Reject zero or negative values</li> <li>Reject missing fields</li> <li>Human-readable error messages</li> </ul> <p>Users may optionally combine CSV-defined panels with FreeCAD geometry.</p>"},{"location":"mvp/#3-multi-sheet-nesting-mandatory","title":"\ud83d\udfe9 3. Multi-Sheet Nesting (Mandatory)","text":"<p>The MVP must support multi-sheet optimization.</p> <p>Required behaviors:</p> <ul> <li>User defines sheet size (width, height)</li> <li>Algorithm places as many panels per sheet as possible</li> <li>Generates new sheets when full</li> <li>Continues until all panels are placed</li> </ul> <p>Algorithm:</p> <ul> <li>Skyline or Guillotine rectangular nesting</li> <li>Rotation allowed only at 0\u00b0 or 90\u00b0</li> <li>Sorting strategies to reduce waste:</li> <li>Largest-first</li> <li>Height-first</li> <li>Width-first     (Meta-optimization optional: random shuffles for better pack)</li> </ul> <p>Output per placement:</p> <ul> <li>panel_id</li> <li>sheet_id</li> <li>x, y position</li> <li>rotation (0 or 90)</li> </ul>"},{"location":"mvp/#4-freecad-gui-integration-workbench","title":"\ud83d\udfe9 4. FreeCAD GUI Integration (Workbench)","text":"<p>The SquatchCut Workbench must add a toolbar with the following commands:</p> <ul> <li>Add Shapes to Nesting</li> <li>Import CSV</li> <li>Set Sheet Size</li> <li>Run Nesting</li> <li>Preferences</li> <li>Export Report</li> </ul> <p>Required dialogs:</p> <ul> <li>Shape selection dialog</li> <li>CSV import dialog</li> <li>Sheet size dialog</li> <li>Nesting results dialog</li> <li>Report export dialog</li> </ul> <p>Design: simple but functional, no fancy styling required.</p>"},{"location":"mvp/#5-preferences-pane-mandatory","title":"\ud83d\udfe9 5. Preferences Pane (Mandatory)","text":"<p>FreeCAD preferences window must include:</p> <ul> <li>Default sheet width/height</li> <li>Default kerf/spacing between panels</li> <li>Auto-detect shapes on open (yes/no)</li> <li>Allow rotations (yes/no)</li> <li>Default export directory</li> <li>Branding toggle (Sasquatch mode on/off)</li> </ul> <p>Preferences must persist across sessions.</p>"},{"location":"mvp/#6-nesting-report-export-mandatory","title":"\ud83d\udfe9 6. Nesting Report Export (Mandatory)","text":"<p>After nesting, SquatchCut must export a structured report.</p> <p>Report includes:</p> <ul> <li>Date/time</li> <li>FreeCAD project name (if available)</li> <li>Total number of sheets used</li> <li>Total panels</li> <li>Total material area</li> <li>Total waste (%)</li> <li>Efficiency (%)</li> </ul> <p>Per sheet:</p> <ul> <li>Sheet number</li> <li>Sheet dimensions</li> <li>List of placements:</li> <li>panel_id</li> <li>width</li> <li>height</li> <li>rotation</li> <li>x, y placement</li> </ul> <p>Output formats:</p> <ul> <li>PDF (primary)</li> <li>CSV summary (per-panel table)</li> <li>JSON optional but not required</li> </ul> <p>PDF may use ReportLab or FreeCAD\u2019s own export mechanisms.</p>"},{"location":"mvp/#7-nesting-geometry-output-in-freecad","title":"\ud83d\udfe9 7. Nesting Geometry Output in FreeCAD","text":"<p>For each sheet produced, SquatchCut must:</p> <ul> <li>Create a new FreeCAD group (Sheet_1, Sheet_2, etc.)</li> <li>Add Draft rectangles (or Sketch Rectangles) representing final panel positions</li> <li>Apply rotation, placement, and IDs</li> <li>Maintain consistent units (mm)</li> <li>Maintain accurate geometry</li> </ul> <p>Optional but helpful:</p> <ul> <li>Color code rectangles</li> </ul>"},{"location":"mvp/#8-branding-required","title":"\ud83d\udfe9 8. Branding (Required)","text":"<p>MVP must include:</p> <ul> <li>Workbench icon (Squatch/wood ape theme)</li> <li>Toolbar icons</li> <li>\u201cSquatchCut\u201d name visible in UI</li> <li>Optional \u201cSasquatch Mode\u201d toggle in preferences</li> </ul> <p>Branding is a first-class MVP requirement.</p>"},{"location":"mvp/#excluded-from-mvp","title":"\ud83d\udfe5 Excluded From MVP","text":"<p>The following features are intentionally excluded:</p> <ul> <li>Curved or arbitrary-shape polygon nesting</li> <li>FreeCAD Path Workbench integration (CAM, G-code)</li> <li>Grain direction optimization</li> <li>Bookmatching</li> <li>Advanced optimization algorithms (GA, deep nesting)</li> <li>Drag-and-drop sheet editor</li> <li>Material libraries</li> <li>Collaborative/cloud features</li> </ul> <p>These belong in post-MVP roadmap releases.</p>"},{"location":"mvp/#mvp-summary-in-one-sentence","title":"\ud83d\udfe9 MVP Summary in One Sentence","text":"<p>SquatchCut MVP provides a FreeCAD workbench that extracts 2D shapes from the active project (or CSV fallback), nests them across multiple sheets using rectangular optimization, generates corresponding geometry inside FreeCAD, and exports a full PDF report with sheets, placements, and efficiency metrics.</p>"},{"location":"mvp/#end-of-mvp-document","title":"End of MVP Document","text":""},{"location":"quality_and_performance/","title":"Quality and Performance","text":"<p>This page is currently under construction.</p>"},{"location":"quickstart/","title":"SquatchCut Quick Start","text":"<p>TL;DR for people who don\u2019t want a novel. Applies to SquatchCut 0.3.x on FreeCAD 0.21+. Shape-based nesting is available as an experimental flow; use the CSV/rectangular workflow for production jobs.</p>"},{"location":"quickstart/#1-install","title":"1. Install","text":"<ol> <li>Open FreeCAD.</li> <li>Go to Tools \u2192 Add-on Manager \u2192 Install from ZIP.</li> <li>Select the SquatchCut ZIP you were given.</li> <li>Restart FreeCAD.</li> </ol> <p>You should now see a SquatchCut toolbar with:</p> <ul> <li>SquatchCut (main panel)</li> <li>Settings</li> </ul>"},{"location":"quickstart/#2-configure-defaults-one-time","title":"2. Configure Defaults (One Time)","text":"<ol> <li>Click Settings on the SquatchCut toolbar.</li> <li>Choose:</li> <li>Measurement system (Metric or Imperial)</li> <li>Default sheet size (e.g. 48\" \u00d7 96\" or 1220 \u00d7 2440 mm)</li> <li>Kerf and gap</li> <li>Click Save / Apply.</li> </ol>"},{"location":"quickstart/#3-basic-workflows","title":"3. Basic Workflows","text":"<p>SquatchCut supports two main workflows:</p>"},{"location":"quickstart/#3a-traditional-csv-workflow-rectangular-parts-recommended","title":"3A. Traditional CSV Workflow (Rectangular Parts \u2013 recommended)","text":"<ol> <li>Open the panel</li> <li> <p>Click SquatchCut.</p> </li> <li> <p>Import parts from CSV</p> </li> <li>In the Input section:<ul> <li>Confirm CSV Units matches your file (follows your measurement system).</li> <li>Click Import CSV and pick your CSV file.</li> </ul> </li> <li> <p>Check that a Source Parts group appears in the model tree after the file loads.</p> </li> <li> <p>Set sheet size and run nesting</p> </li> <li>Confirm sheet width/height fields match your panel.</li> <li>Click Run Nesting.</li> <li> <p>A Nested Parts group appears, containing the layout.</p> </li> <li> <p>Review and export</p> </li> <li>Inspect the layout in the 3D view.</li> <li>Save your file (File \u2192 Save).</li> <li>Export as needed (File \u2192 Export, DXF/SVG/PDF).</li> </ol>"},{"location":"quickstart/#3b-shape-based-nesting-complex-parts-experimental","title":"3B. Shape-Based Nesting (Complex Parts \u2013 experimental)","text":"<ol> <li>Design parts in FreeCAD</li> <li>Use Part Design workbench to create solid bodies.</li> <li> <p>Give parts descriptive names.</p> </li> <li> <p>Select shapes</p> </li> <li>Click SquatchCut to open the panel.</li> <li>In the Input section, click Select Shapes.</li> <li> <p>Choose which parts to nest from the dialog.</p> </li> <li> <p>Configure and nest</p> </li> <li>Set sheet size and cutting parameters.</li> <li>Click Run Nesting.</li> <li> <p>SquatchCut automatically chooses a nesting mode; complex shapes take longer.</p> </li> <li> <p>Export for production</p> </li> <li>Use Export Report (PDF/CSV) or Export Cutlist from the SquatchCut toolbar.</li> <li>Geometry is standard FreeCAD geometry; you can also use File \u2192 Export if needed.</li> </ol> <p>For detailed shape-based workflows, see the Cabinet Maker Guide.</p>"},{"location":"quickstart/#4-if-something-breaks","title":"4. If Something Breaks","text":"<ul> <li>Note the steps you took and any errors in the FreeCAD report view.</li> <li>Take a screenshot of the model tree and the layout.</li> <li>Send your notes and files to your SquatchCut contact or follow the UAT feedback instructions.</li> </ul> <p>That\u2019s it. Import \u2192 Set Sheet \u2192 Nest \u2192 Export.</p>"},{"location":"release-notes/","title":"Release Notes","text":""},{"location":"release-notes/#unreleased","title":"Unreleased","text":""},{"location":"release-notes/#advanced-features-implementation","title":"Advanced Features Implementation","text":""},{"location":"release-notes/#major-new-features","title":"Major New Features","text":"<ul> <li>Advanced Nesting Algorithms: Genetic algorithm optimization system</li> <li>Multi-objective fitness function for optimal part placement</li> <li>Configurable population size, generations, and mutation rates</li> <li>Grain direction support for wood nesting applications</li> <li>Automatic termination when target utilization is reached</li> <li> <p>Performance monitoring and progress tracking</p> </li> <li> <p>Enhanced Export Capabilities: Professional export options</p> </li> <li>SVG export with cut lines and waste area visualization</li> <li>DXF export with organized layers for CNC compatibility</li> <li>Enhanced CSV exports with measurement system formatting</li> <li> <p>Multi-sheet export support with proper scaling</p> </li> <li> <p>Smart Cut Optimization: Automated cutting sequence planning</p> </li> <li>Optimal cut order planning (rip cuts first, then crosscuts)</li> <li>Material handling optimization to minimize setup time</li> <li>Cut length optimization and time estimation</li> <li> <p>Integration with export systems for workshop planning</p> </li> <li> <p>Quality Assurance System: Comprehensive layout validation</p> </li> <li>Overlap detection and bounds compliance checking</li> <li>Spacing requirements validation and rotation consistency</li> <li>Dimension consistency verification against original parts</li> <li>Quality scoring system (0-100) with detailed reports</li> <li> <p>Automatic quality checks after nesting operations</p> </li> <li> <p>Performance Enhancements: Optimization for large datasets</p> </li> <li>Intelligent caching system (memory and disk-based)</li> <li>Multi-threading support for parallel processing</li> <li>Memory optimization for large part lists</li> <li>Configurable performance settings and monitoring</li> </ul>"},{"location":"release-notes/#uiux-enhancements-performance-improvements","title":"UI/UX Enhancements &amp; Performance Improvements","text":""},{"location":"release-notes/#new-features","title":"New Features","text":"<ul> <li>Keyboard Shortcuts: Added comprehensive keyboard shortcuts for common operations (Ctrl+I for import, Ctrl+R/F5 for nesting, Ctrl+E for export, etc.)</li> <li>Progress Indicators: Long-running operations now show progress dialogs with visual feedback and estimated completion times</li> <li>Enhanced Error Handling: Standardized error messages with clear descriptions, technical details, and actionable recovery instructions</li> <li>Performance Monitoring: Automatic detection and logging of slow operations with configurable thresholds</li> <li>Large Dataset Support: Optimized handling of 1000+ parts with memory management and resource warnings</li> </ul>"},{"location":"release-notes/#enhanced-nesting-view","title":"Enhanced Nesting View","text":"<ul> <li>Color Schemes: Multiple color palettes including high-contrast accessibility options</li> <li>Display Modes: Choose between transparent, wireframe, or solid part visualization</li> <li>Sheet Layouts: Options for side-by-side or stacked sheet arrangements</li> <li>Part Labels: Optional display of part IDs and names on nested pieces</li> <li>Quick Toggles: Easy controls for common view adjustments</li> </ul>"},{"location":"release-notes/#developer-improvements","title":"Developer Improvements","text":"<ul> <li>Input Validation Framework: Comprehensive validation utilities for user inputs with proper error handling</li> <li>Performance Utils: Decorators and utilities for monitoring performance and handling large datasets</li> <li>Batch Processing: Memory-efficient processing utilities for large operations</li> <li>Progress Tracking: Reusable progress tracking components with ETA calculations</li> </ul>"},{"location":"release-notes/#bug-fixes","title":"Bug Fixes","text":"<ul> <li>Fixed quantity validation edge case where 0 was treated as default value</li> <li>Corrected imperial unit conversion in validation functions</li> <li>Improved filename sanitization for export operations</li> <li>Enhanced error propagation in panel validation</li> </ul>"},{"location":"release-notes/#testing","title":"Testing","text":"<ul> <li>Added 68 new tests covering UI interactions, performance utilities, and input validation</li> <li>Comprehensive test coverage for error conditions and edge cases</li> <li>Accessibility testing framework for keyboard navigation and screen reader support</li> </ul>"},{"location":"release-notes/#previous-release","title":"Previous Release","text":""},{"location":"release-notes/#highlights","title":"Highlights","text":"<ul> <li>Per-part 0\u00b0/90\u00b0 rotation support driven by optional <code>allow_rotate</code> CSV column and <code>SquatchCutCanRotate</code> property; defaults to no rotation when missing.</li> <li>Separate kerf (between adjacent parts) and gap/halo (around parts and sheet edges) controls passed into nesting.</li> <li>New Export Nesting CSV command with a save dialog; exports sheet index, part id, true dimensions, x/y, and angle without inflating sizes.</li> <li>Hardened CSV import with required-column validation, per-row skipping with warnings, and user-facing error dialogs.</li> <li>Units preference (mm/in) for sheet sizing and CSV import, plus CSV units selector in the task panel.</li> <li>Fixed sheet size defaults so factory values align with the active units, user defaults persist across reloads, and the preset dropdown only highlights exact matches while remaining blank otherwise.</li> <li>Centralized view switching so source vs nested views now rely on a controller that hides irrelevant geometry, fits the camera, and cleans out stale layouts before each nesting run.</li> <li>Export Cutlist command for CSV rip/crosscut lists, with cutline de-duplication and panel-crossing filters to reduce noise.</li> </ul>"},{"location":"release-notes/#notes","title":"Notes","text":"<ul> <li><code>allow_rotate</code> is optional; omitting the column keeps rotation disabled for all parts.</li> <li>Kerf applies only between parts; gap pushes parts away from sheet edges.</li> </ul>"},{"location":"release-notes/#v010-first-prototype-release","title":"v0.1.0 \u2014 First prototype release","text":""},{"location":"release-notes/#highlights_1","title":"Highlights","text":"<ul> <li>FreeCAD workbench scaffolded with core commands: Add Shapes, Import CSV, Set Sheet Size, Run Nesting, Export Report, and Preferences.</li> <li>Nesting backend handles panel extraction, CSV loading, multi-sheet rectangular nesting (Skyline/Guillotine hybrid), geometry generation, and report exports.</li> <li>TypeScript CSV validation/preprocessing CLI (<code>npx squatchcut-csv</code>) for sanitizing panel lists before import.</li> <li>End-to-end coverage: FreeCAD CSV and geometry flows, plus Node-based CLI smoke tests with shared fixtures.</li> <li>Documentation and automation: MVP scope, architecture overview, testing guide, and AI worker workflow playbooks published to the MkDocs site.</li> </ul>"},{"location":"release-notes/#notes-known-gaps","title":"Notes &amp; known gaps","text":"<ul> <li>Prototype focuses on rectangular panels; curved nesting and richer previews are future work.</li> <li>Expect iteration on export formats (DXF/SVG), material-aware optimization, and UI polish in subsequent releases.</li> </ul>"},{"location":"reporting_bugs/","title":"Feedback, Bugs, and Feature Requests","text":"<p>If you run into a problem with SquatchCut or have an idea to make it better, you\u2019re in the right place.</p>"},{"location":"reporting_bugs/#bug-reports","title":"Bug reports","text":"<p>Use a bug report when something is broken or clearly wrong, for example: - Crashes or errors - Parts overlapping unexpectedly - Layouts that don\u2019t match the input - UI elements that don\u2019t respond or behave strangely</p> <p>Where to report bugs: - GitHub Issues (Bug report template):   https://github.com/stevenfarmer/SquatchCut/issues/new/choose</p> <p>When you open a bug, it helps a lot if you include:</p> <ul> <li>What you were trying to do   e.g., \u201cImport CSV and run nesting on a 4x8 sheet using imperial units\u201d</li> <li>Steps to reproduce:</li> <li>Open FreeCAD</li> <li>Open SquatchCut</li> <li>Import CSV <code>&lt;filename&gt;</code></li> <li>Set sheet size to <code>...</code></li> <li>Click Preview SquatchCut</li> <li>What you expected to happen</li> <li>What actually happened (including any error messages)</li> <li>Attachments (if possible):</li> <li>The CSV file you used</li> <li>Screenshots of the layout or error</li> <li>Your FreeCAD version</li> <li>Your SquatchCut version</li> <li>Whether you used metric or imperial units, and CSV units</li> </ul> <p>You can also use the \u201cReport a Bug\u201d button in the SquatchCut Task Panel inside FreeCAD to open the issue tracker directly in your browser.</p>"},{"location":"reporting_bugs/#feature-requests-and-enhancements","title":"Feature requests and enhancements","text":"<p>Use a feature request when: - You\u2019d like SquatchCut to do something it doesn\u2019t do today - You want a workflow improvement or UX tweak - You have an idea for a new option, setting, export, or visualization</p> <p>Where to request features: - GitHub Issues (Feature request template):   https://github.com/stevenfarmer/SquatchCut/issues/new/choose</p> <p>When requesting a feature, please include:</p> <ul> <li>What problem you\u2019re trying to solve   e.g., \u201cI want to print labeled cut sheets for my cabinet shop\u201d</li> <li>How you work today (manual process, other tools, etc.)</li> <li>What an ideal solution in SquatchCut would look like</li> <li>Any example screenshots or attachments that help explain it</li> </ul> <p>Even small ideas are welcome; they help shape the roadmap.</p>"},{"location":"roadmap/","title":"SquatchCut Roadmap","text":""},{"location":"roadmap/#current-development-v34","title":"Current Development (v3.4)","text":""},{"location":"roadmap/#shape-based-nesting-in-active-development","title":"Shape-Based Nesting - IN ACTIVE DEVELOPMENT","text":"<p>Status: Specification Complete, Implementation Starting</p> <p>Enhanced FreeCAD integration with support for non-rectangular nesting: - Enhanced Shape Detection: Improved FreeCAD object scanning and extraction - Selection Workflow: Intuitive UI for choosing which parts to nest - Non-Rectangular Nesting: True geometric nesting beyond bounding boxes - Cabinet Maker Workflow: Complete FreeCAD design \u2192 cutting layout pipeline - Comprehensive Testing: Property-based testing with Hypothesis framework - Performance Optimization: Automatic fallback and simplification modes</p> <p>Implementation Plan: 44 tasks across 10 major phases Specification Location: <code>.kiro/specs/shape-based-nesting/</code></p> <p>This addresses the long-standing polygon nesting request with a practical, performance-conscious approach that provides real value for cabinet makers and woodworkers.</p>"},{"location":"roadmap/#future-considerations","title":"Future Considerations","text":""},{"location":"roadmap/#advanced-polygon-nesting-post-v34","title":"Advanced Polygon Nesting (Post v3.4)","text":"<p>After shape-based nesting is complete and proven, consider expanding to full arbitrary polygon support: - No-fit polygon computation - Advanced collision detection (SAT/Minkowski sums) - Genetic/heuristic optimization algorithms</p> <p>Note: This remains computationally intensive and should only be pursued if there's demonstrated user need beyond the cabinet maker workflow.</p>"},{"location":"user_guide/","title":"SquatchCut User Guide","text":"<p>Applies to SquatchCut 0.3.x on FreeCAD 0.21+. The CSV/rectangular workflow is production-ready; the shape-based workflow is an experimental preview. For AI/worker rules, see <code>docs/developer_guide.md</code>.</p>"},{"location":"user_guide/#1-what-is-squatchcut","title":"1. What is SquatchCut?","text":"<p>SquatchCut is a FreeCAD add-on that helps you:</p> <ul> <li>Import a rectangular parts list from CSV</li> <li>Define your sheet/panel size</li> <li>Automatically nest those parts on the sheet</li> <li>Visualize and export the layout for the shop</li> </ul>"},{"location":"user_guide/#2-requirements","title":"2. Requirements","text":"<ul> <li>FreeCAD 0.21+ installed</li> <li>SquatchCut 0.3.x ZIP installed via Add-on Manager (see <code>docs/getting-started/installation.md</code>)</li> <li>Basic familiarity with sheet goods and measurements (mm or fractional inches)</li> </ul>"},{"location":"user_guide/#3-core-concepts","title":"3. Core Concepts","text":"<ul> <li>Measurement system: Choose metric (mm) or imperial (fractional inches). Internally everything is stored in millimeters.</li> <li>Sheet defaults &amp; presets: Defaults are set in Settings and only change when you save them there. The preset dropdown starts at <code>None / Custom</code>; choosing a preset updates the sheet fields but does not overwrite your defaults.</li> <li>Document objects: One sheet object plus two groups:</li> <li><code>SquatchCut_SourceParts</code> \u2013 originals from CSV or selected shapes</li> <li><code>SquatchCut_NestedParts</code> \u2013 the latest layout</li> </ul>"},{"location":"user_guide/#4-install-quick-reminder","title":"4. Install (quick reminder)","text":"<ol> <li>Open FreeCAD \u2192 Tools \u2192 Add-on Manager \u2192 Install from ZIP.</li> <li>Pick the SquatchCut ZIP.</li> <li>Restart FreeCAD; ensure the SquatchCut toolbar/menu appears.</li> </ol> <p>Full details: <code>docs/getting-started/installation.md</code>.</p>"},{"location":"user_guide/#5-production-workflow-csv-rectangular-parts","title":"5. Production Workflow (CSV / Rectangular Parts)","text":"<ol> <li>Open the panel</li> <li> <p>Click SquatchCut on the toolbar.</p> </li> <li> <p>Import parts from CSV</p> </li> <li>In Input, click Import CSV and select your file.</li> <li>CSV units follow your active measurement system; some builds auto-detect units and update the selector.</li> <li>A <code>SquatchCut_SourceParts</code> group should appear with one entry per row.</li> <li> <p>Required columns: <code>width</code>, <code>height</code>, <code>id</code>; optional: <code>quantity</code>, <code>label</code>, <code>allow_rotate</code>.</p> </li> <li> <p>Set sheet size &amp; presets</p> </li> <li>Confirm sheet width/height fields match your panel.</li> <li>Use the preset dropdown if you want <code>4\u2032\u00d78\u2032</code>, <code>2\u2032\u00d74\u2032</code>, or <code>5\u2032\u00d710\u2032</code>.</li> <li> <p>Manual edits return the preset to <code>None / Custom</code>.</p> </li> <li> <p>Kerf &amp; gap</p> </li> <li> <p>Kerf = blade/bit thickness; gap = spacing around parts. Set in Settings or in-panel fields (when present). Larger values reduce how many parts fit.</p> </li> <li> <p>Run nesting</p> </li> <li>Click Run Nesting.</li> <li> <p>SquatchCut hides sources, builds <code>SquatchCut_NestedParts</code>, and clears previous layouts.</p> </li> <li> <p>Inspect</p> </li> <li>Toggle source vs nested groups to compare.</li> <li> <p>Use Show Source View to focus on originals or Reset View to refit.</p> </li> <li> <p>Export</p> </li> <li>Use SquatchCut commands: Export Report (PDF+CSV) or Export Cutlist (shop-friendly CSV). These use the canonical exporter.</li> <li>Geometry is standard FreeCAD geometry, so File \u2192 Export (DXF/SVG/PDF) also works if you need raw geometry.</li> </ol>"},{"location":"user_guide/#6-shape-based-workflow-experimental-preview","title":"6. Shape-Based Workflow (Experimental Preview)","text":"<p>Use this when you have curved/non-rectangular parts modeled in FreeCAD. Expect longer runs; start with a small set of parts.</p> <ol> <li>Model parts as solids in Part Design (bodies with valid Shapes).</li> <li>Open SquatchCut and click Select Shapes in Input.</li> <li>Choose parts in the shape selection dialog. Complexity labels help you start small.</li> <li>Set sheet + kerf/gap, then click Run Nesting. The engine chooses a mode (rectangular/hybrid/geometric) based on detected complexity.</li> <li>Review results &amp; export using the same commands as the CSV workflow.</li> </ol> <p>For deeper guidance, see the Cabinet Maker Workflow Guide and Shape-Based Reference.</p>"},{"location":"user_guide/#7-shortcuts-progress","title":"7. Shortcuts &amp; Progress","text":"<ul> <li>Ctrl+I Import CSV</li> <li>Ctrl+R / F5 Run nesting</li> <li>Ctrl+E Export cutlist (CSV)</li> <li>Ctrl+Shift+S Open SquatchCut settings</li> <li>Ctrl+T Toggle source panels visibility</li> <li>Ctrl+Shift+R Reset view</li> </ul> <p>Use the Keyboard Shortcuts command in the toolbar to view them in FreeCAD. Long-running CSV imports, nesting, and exports show progress dialogs in the UI.</p>"},{"location":"user_guide/#8-troubleshooting","title":"8. Troubleshooting","text":"<ul> <li>Toolbar missing: Check Add-on Manager, restart FreeCAD, then enable View \u2192 Toolbars \u2192 SquatchCut.</li> <li>CSV import looks wrong: Confirm <code>width/height/id</code> headers, measurement system, and that the file has no extra header rows.</li> <li>Duplicate sheets/groups: Only one sheet + one source + one nested group should exist. If you see extras, note the steps and share a sample file when reporting.</li> <li>Nesting produces nothing: Ensure parts are loaded, sheet size &gt; 0, and check the FreeCAD report view for errors. Try a small CSV to isolate the issue.</li> </ul>"},{"location":"user_guide/#9-getting-help-reporting-issues","title":"9. Getting Help / Reporting Issues","text":"<ul> <li>For UAT/volunteer testing, follow <code>docs/UAT_Prep_Instructions.md</code> and <code>docs/UAT_Checklist.md</code>.</li> <li>When reporting issues, include: what you tried, what you expected, what happened, your OS + FreeCAD version, and a small CSV (or FCStd) if possible.</li> </ul> <p>Thanks for helping test SquatchCut!</p>"},{"location":"archive/Project_Guide_v3.3/","title":"SquatchCut Project Guide (v3.3 \u2013 AI Worker Edition)","text":""},{"location":"archive/Project_Guide_v3.3/#0-meta-goals-of-v33","title":"0. Meta Goals of v3.3","text":"<p>This updated guide focuses specifically on:</p>"},{"location":"archive/Project_Guide_v3.3/#a-eliminating-ambiguity-in-ai-worker-instructions","title":"A. Eliminating ambiguity in AI worker instructions","text":"<ul> <li>Instruction blocks now have strict, enforceable structure</li> <li>No markdown, no commentary inside blocks  </li> <li>Reasoning level declarations mandatory  </li> <li>File paths and expected patterns must be explicit  </li> <li>UI behavior described unambiguously  </li> <li>Persistent behavior safeguarded from accidental overwrites  </li> </ul>"},{"location":"archive/Project_Guide_v3.3/#b-making-you-faster-and-making-me-the-user-more-consistent","title":"B. Making YOU faster and making ME (The User) more consistent","text":"<ul> <li>You describe requirements  </li> <li>I translate them into clear directives  </li> <li>The AI worker executes</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#c-forcing-ai-workers-to-conform-to-squatchcuts-architecture","title":"C. Forcing AI workers to conform to SquatchCut\u2019s architecture","text":"<p>AI workers should never reinvent the repo or introduce new patterns.</p>"},{"location":"archive/Project_Guide_v3.3/#v33-change-note","title":"v3.3 Change Note","text":"<ul> <li>Introduces an AI-tool-agnostic worker model (Architect + AI workers), clarifies AI workflow, and refreshes backlog guidance.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#ai-tooling-workspace-layout","title":"AI Tooling &amp; Workspace Layout","text":"<ul> <li>Developers clone SquatchCut on the host and open <code>squatchcut.code-workspace</code>; this host-visible workspace is what AI tools discover.</li> <li>When \u201cReopen in Container\u201d is used, VS Code bind-mounts the host repo at <code>/workspaces/SquatchCut</code>, so the container simply provides tooling while the canonical code stays on the host.</li> <li>See <code>docs/Development_Environment.md</code> for full AI-forward workflow details.</li> <li>See also <code>AGENTS.md</code> in the root directory for strict behavioral rules.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#1-project-purpose","title":"1. Project Purpose","text":"<p>SquatchCut is a FreeCAD add-on that takes CSV part lists and generates optimized sheet nests for woodworking, cabinetry, and general sheet-material workflows.</p>"},{"location":"archive/Project_Guide_v3.3/#core-objectives","title":"Core Objectives","text":"<ul> <li>Fast, predictable, simple  </li> <li>Minimal UI friction  </li> <li>Always mm internally, fractions if imperial  </li> <li>Stable hydration/initialization  </li> <li>Simple CSV \u2192 sheet \u2192 nest \u2192 export workflow  </li> </ul>"},{"location":"archive/Project_Guide_v3.3/#2-roles","title":"2. Roles","text":""},{"location":"archive/Project_Guide_v3.3/#user-steven","title":"User (Steven)","text":"<ul> <li>Product Owner  </li> <li>Scrum-ish Master  </li> <li>UAT wrangler  </li> <li>Requirements authority  </li> </ul>"},{"location":"archive/Project_Guide_v3.3/#architect-planner","title":"Architect (Planner)","text":"<ul> <li>Writes requirements and task specs (job cards / instruction blocks)  </li> <li>Coordinates branches and scope; keeps guardrails and backlog aligned  </li> <li>Maintains documentation and reviews incoming work  </li> </ul>"},{"location":"archive/Project_Guide_v3.3/#ai-workers-codedocs-agents","title":"AI Workers (Code/Docs Agents)","text":"<ul> <li>Implement code or documentation tasks from Architect specs  </li> <li>May be local editor assistants, hosted coding agents, or other tools (e.g., Codex, Jules, or future equivalents)  </li> <li>Work from dedicated branches per worker/task; no overlapping edits on the same core files in parallel  </li> <li>Must obey patterns, reasoning levels, and testing rules described in this guide and <code>AGENTS.md</code></li> </ul>"},{"location":"archive/Project_Guide_v3.3/#human-contributors","title":"Human Contributors","text":"<ul> <li>May implement tasks directly but must follow the same architecture, hydration, and measurement rules as AI workers</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#3-core-principles","title":"3. Core Principles","text":"<ol> <li>Internal units = millimeters </li> <li>Imperial = fractional inches only </li> <li>Defaults never change unless Settings says so </li> <li>Presets never override defaults </li> <li>TaskPanel never auto-selects presets </li> <li>hydrate_from_params() ALWAYS runs before UI widgets </li> <li>AI workers must use reasoning level declarations</li> <li>Every logic change must include tests </li> <li>UI must not overflow or fail to load </li> <li>Settings panel must always open </li> <li>No relative imports </li> <li>No pattern drift </li> <li>No silent behavior changes </li> </ol>"},{"location":"archive/Project_Guide_v3.3/#4-ai-workflow-communication-updated-hardened","title":"4. AI Workflow &amp; Communication (Updated + Hardened)","text":""},{"location":"archive/Project_Guide_v3.3/#41-instruction-block-format","title":"4.1 Instruction Block Format","text":"<p>Every instruction block MUST begin with:</p> <pre><code>Recommended reasoning level: &lt;LEVEL&gt;\n</code></pre> <p>Followed by:</p> <pre><code>AI worker, this task requires &lt;LEVEL&gt; reasoning.\n\n&lt;instructions&gt;\n</code></pre> <ul> <li>No markdown  </li> <li>No language tag  </li> <li>No commentary  </li> <li>Only instructions  </li> <li>Must be safe to paste directly into the AI worker interface</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#42-required-elements-inside-each-block","title":"4.2 Required Elements Inside Each Block","text":"<ul> <li>Full file paths  </li> <li>Explicit operation lists  </li> <li>Expected behavior  </li> <li>Acceptance criteria  </li> <li>Guardrails  </li> </ul>"},{"location":"archive/Project_Guide_v3.3/#43-when-to-use-levels","title":"4.3 When to Use Levels","text":"<ul> <li>LOW: trivial  </li> <li>MEDIUM: single-file  </li> <li>HIGH: multi-file + UI or settings  </li> <li>EXTRA-HIGH: architectural or algorithm refactor</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#44-ai-workflow-v33","title":"4.4 AI Workflow (v3.3)","text":"<ul> <li>Architect authors job cards/task specs that define scope, files, guardrails, and acceptance criteria.  </li> <li>Any AI worker (Codex, Jules, editor-based assistant, hosted agent) consumes the same spec format.  </li> <li>Each AI worker uses its own branch to avoid parallel edits on the same core files; merge sequencing is coordinated by the Architect.  </li> <li>CI, linting, and review gates are tool-agnostic and run regardless of who or what produced the change.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#5-hydration-rules-hard-requirements","title":"5. Hydration Rules (Hard Requirements)","text":"<p>Hydration has caused repeated issues. These rules are absolute:</p>"},{"location":"archive/Project_Guide_v3.3/#51-hydrate_from_params-must","title":"5.1 hydrate_from_params() must:","text":"<ul> <li>Load all persistent values  </li> <li>Guarantee type consistency  </li> <li>Normalize internal units  </li> <li>Never access GUI  </li> <li>Never import GUI modules  </li> <li>Never modify defaults except on Settings save  </li> </ul>"},{"location":"archive/Project_Guide_v3.3/#52-taskpanel-initialization-order","title":"5.2 TaskPanel Initialization Order","text":"<p>This order is non-negotiable:</p> <ol> <li>Load session_state  </li> <li>Call hydrate_from_params()  </li> <li>Create all UI widgets  </li> <li>Populate UI values from hydrated state  </li> <li>Apply measurement formatting  </li> <li>Connect signals  </li> <li>Render panel  </li> </ol> <p>No exceptions.</p>"},{"location":"archive/Project_Guide_v3.3/#6-measurement-system-architecture","title":"6. Measurement System Architecture","text":""},{"location":"archive/Project_Guide_v3.3/#61-internal-storage","title":"6.1 Internal Storage","text":"<p>Always millimeters.</p>"},{"location":"archive/Project_Guide_v3.3/#62-display-modes","title":"6.2 Display Modes","text":"<ul> <li>metric \u2192 mm  </li> <li>imperial \u2192 fractional inches  </li> </ul>"},{"location":"archive/Project_Guide_v3.3/#63-ui-reformatting-rules","title":"6.3 UI Reformatting Rules","text":"<p>Switching measurement system requires full reformatting of all numeric UI fields.</p>"},{"location":"archive/Project_Guide_v3.3/#65-split-defaults-new","title":"6.5 Split Defaults (New)","text":"<p>To prevent drift from rounding errors: - User-configurable defaults (Sheet size, Kerf, Gap) must be stored separately for Metric and Imperial. - Switching systems in Settings swaps the loaded default, it does not convert/overwrite the existing one.</p>"},{"location":"archive/Project_Guide_v3.3/#64-fraction-logic","title":"6.4 Fraction Logic","text":"<p>Must support: - whole - fraction - mixed - hyphenated Must round-trip without drift.</p>"},{"location":"archive/Project_Guide_v3.3/#7-preset-default-logic-fortified","title":"7. Preset &amp; Default Logic (Fortified)","text":""},{"location":"archive/Project_Guide_v3.3/#defaults","title":"Defaults","text":"<ul> <li>Set only via Settings panel  </li> <li>Never altered by TaskPanel  </li> <li>Hydrate_from_params loads them  </li> </ul>"},{"location":"archive/Project_Guide_v3.3/#presets","title":"Presets","text":"<ul> <li>Always start blank  </li> <li>Only modify sheet width/height  </li> <li>Never modify defaults  </li> <li>Never auto-selected  </li> </ul>"},{"location":"archive/Project_Guide_v3.3/#imperial-default-sheet","title":"Imperial Default Sheet","text":"<p>Exactly 48 \u00d7 96 inches.</p>"},{"location":"archive/Project_Guide_v3.3/#8-ui-behavior-rules","title":"8. UI Behavior Rules","text":""},{"location":"archive/Project_Guide_v3.3/#81-settings-panel","title":"8.1 Settings Panel","text":"<ul> <li>Must always open  </li> <li>Must use TaskPanel_Settings  </li> <li>Must call hydrate_from_params() before building widgets  </li> </ul>"},{"location":"archive/Project_Guide_v3.3/#82-main-taskpanel","title":"8.2 Main TaskPanel","text":"<ul> <li>Acts as a Controller for sub-widgets (<code>Input</code>, <code>Sheet</code>, <code>Nesting</code>).</li> <li>Must reflect hydrated defaults.</li> <li>Must not override defaults.</li> <li>Must not infer presets.</li> <li>Must not open multiple instances.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#83-sheetsourcenesting-view-rules","title":"8.3 Sheet/Source/Nesting View Rules","text":"<ul> <li>Clear groups before redraw  </li> <li>Never leave orphans  </li> <li>Auto-zoom after draw  </li> <li>Maintain consistent naming:</li> <li>SquatchCut_Sheet  </li> <li>SquatchCut_SourceParts  </li> <li>SquatchCut_NestedParts  </li> </ul>"},{"location":"archive/Project_Guide_v3.3/#9-tests","title":"9. Tests","text":""},{"location":"archive/Project_Guide_v3.3/#91-must-test","title":"9.1 Must Test","text":"<ul> <li>Fraction parsing  </li> <li>Fraction formatting  </li> <li>CSV parsing  </li> <li>Default initialization  </li> <li>Hydration logic  </li> <li>Preset behavior  </li> <li>TaskPanel load behavior  </li> <li>Measurement-system conversions  </li> </ul>"},{"location":"archive/Project_Guide_v3.3/#92-should-test","title":"9.2 Should Test","text":"<ul> <li>Sheet object creation  </li> <li>Group clearing  </li> <li>UI stability (when possible)  </li> </ul>"},{"location":"archive/Project_Guide_v3.3/#10-add-on-manager-rules","title":"10. Add-On Manager Rules","text":"<p>AI workers must ensure:</p> <ul> <li>Correct zip structure  </li> <li>Correct metadata  </li> <li>No relative imports  </li> <li>All icons exist  </li> <li>Version increments  </li> </ul>"},{"location":"archive/Project_Guide_v3.3/#11-export-architecture-v33-preparation","title":"11. Export Architecture (v3.3 preparation)","text":""},{"location":"archive/Project_Guide_v3.3/#111-canonical-export-data-model","title":"11.1 Canonical Export Data Model","text":"<ul> <li><code>freecad/SquatchCut/core/exporter.py</code> defines the only valid export model:</li> <li><code>ExportJob</code> \u2013 job-wide metadata + sheets, measurement system, job name.</li> <li><code>ExportSheet</code> \u2013 sheet index, width/height in mm, list of part placements.</li> <li><code>ExportPartPlacement</code> \u2013 per-part geometry (x_mm, y_mm, width_mm, height_mm, rotation_deg) and part_id.</li> <li>ExportJob is built from the latest nesting layout + sheet config via <code>build_export_job_from_current_nesting</code>.</li> <li>All geometry is stored in millimeters. Measurement system only affects formatted strings.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#112-deterministic-export-behavior","title":"11.2 Deterministic Export Behavior","text":"<ul> <li>CSV export (<code>export_cutlist</code>)</li> <li>Emits stable header columns (sheet_index, mm geometry, formatted strings).</li> <li>Raw mm values are untouched. <code>width_display/height_display</code> respect ExportJob.measurement_system.</li> <li>Tests cover both metric and imperial output.</li> <li>SVG export (<code>export_nesting_to_svg</code>)</li> <li>Generates one 2D SVG per sheet; filenames include <code>_S{n}</code> suffix.</li> <li>Draws sheet border, stroke-only part rectangles, deterministic labels (ID + dimensions), and header \u201cSheet i of N \u2013 WxH units\u201d.</li> <li>No FreeCAD 3D/export calls; everything is generated from ExportJob data.</li> <li>Design Principle: Export behavior must be deterministic and driven solely by ExportJob. FreeCAD document geometry is never a source of truth for exported artifacts.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#113-out-of-scope","title":"11.3 Out-of-scope","text":"<ul> <li>DXF export remains deferred. Implementing DXF is explicitly out of scope for the current release cycle and cannot block delivery.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#12-status-backlog-addendum-dec-2025","title":"12. Status &amp; Backlog Addendum (Dec 2025)","text":"<p>NOTE This addendum does not change any core architectural rules. It supersedes the older backlog-alignment section that followed the post-nesting fixes, providing a reconciled, status-aware view. The information below reflects the current codebase (CSV ingestion, session-state hydration, multi-sheet helpers, guillotine engine, TaskPanel warning banner, and existing tests/backlog files).</p>"},{"location":"archive/Project_Guide_v3.3/#a-status-snapshot-dec-2025","title":"A. STATUS SNAPSHOT (DEC 2025)","text":""},{"location":"archive/Project_Guide_v3.3/#1-features-stability","title":"1. Features &amp; Stability","text":"<ul> <li>Core CSV ingestion and session-state hydration flows remain stable and predictable.</li> <li>All four nesting strategies (default optimized, shelf, cut-friendly, guillotine) operate reliably under normal conditions.</li> <li>The normalized job-sheet helper in <code>freecad/SquatchCut/core/nesting.py</code> (~115\u2013210) is the unified source of truth consumed by every strategy.</li> <li>The TaskPanel warning banner in <code>freecad/SquatchCut/gui/taskpanel_main.py</code> (~323\u2013354) alerts users when cut-oriented modes may ignore additional sheets.</li> <li>Overall CSV \u2192 session \u2192 sheet normalization \u2192 nesting pipelines are cohesive and predictable.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#2-recently-refactored-fragile-areas","title":"2. Recently Refactored / Fragile Areas","text":"<ul> <li>Multi-sheet heuristics (<code>freecad/SquatchCut/core/nesting.py</code> ~524\u2013779) iterate sheet sizes but still lack per-sheet utilization metrics and user-visible exhaustion handling.</li> <li>The guillotine runner (<code>freecad/SquatchCut/core/cut_optimization.py</code> ~34\u2013151) honors multi-sheet jobs yet has no per-sheet stats and can behave unexpectedly under aggressive exhaustion.</li> <li>Hydration/UI wiring integrated <code>_sheet_warning_active</code> via <code>_build_nesting_group</code> and <code>_update_cut_mode_sheet_warning</code>; changes must respect the hydration order.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#3-known-or-likely-regressions","title":"3. Known or Likely Regressions","text":"<ul> <li>Preview vs Apply (<code>freecad/SquatchCut/gui/taskpanel_main.py</code> ~840\u2013869): Preview and Apply share the same destructive command path. Preview can mutate the document; TODO already notes need for a non-destructive channel.</li> <li>CSV Export (<code>freecad/SquatchCut/gui/commands/cmd_run_nesting.py</code> ~585\u2013614): Export remains a stub. Menu items exist without producing real artifacts, potentially misleading users.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#4-ui-ux-issues","title":"4. UI / UX Issues","text":"<ul> <li>TaskPanel layout is crowded (Preview/Run/Show Source row + checkbox clusters, <code>freecad/SquatchCut/gui/taskpanel_main.py</code> ~333\u2013353) causing clipping on narrow docks.</li> <li>The warning banner consumes full width with no adaptive fallback, increasing overflow risk in constrained layouts.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#5-testing-coverage-gaps","title":"5. Testing Coverage &amp; Gaps","text":"<ul> <li>Full <code>pytest</code> sweeps collect ~171 tests but can time out (~120\u202fs) in limited environments.</li> <li>Critical suites (<code>tests/test_nesting.py</code>, <code>tests/test_taskpanel_hydration.py</code>) pass, covering baseline nesting correctness and hydration behavior.</li> <li>Gaps remain for preview lifecycle vs apply, imperial formatting drift, sheet exhaustion behavior, warning-banner state transitions across permutations, and deep multi-sheet exhaustion edge cases.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#6-technical-debt-documentation","title":"6. Technical Debt &amp; Documentation","text":"<ul> <li>CSV export requires a complete implementation and deterministic cutlist output.</li> <li>Preview determinism needs a non-destructive workflow and clear cleanup of <code>SquatchCut_*</code> groups.</li> <li>Per-sheet visualization needs better labeling, spacing, and navigation aids.</li> <li>Documentation: v3.3 guide and <code>docs/Backlog.md</code> track status/backlog with AI-agnostic workflow notes; v3.2 remains as a historical snapshot.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#b-backlog-alignment-supersedes-old-section-11","title":"B. BACKLOG ALIGNMENT (SUPERSEDES OLD SECTION 11)","text":""},{"location":"archive/Project_Guide_v3.3/#1-completed-since-v32","title":"1. Completed Since v3.2","text":"<ul> <li>Settings Panel Behavior \u2013 Opens reliably, hydrates before widget construction, leaves defaults untouched until explicit save.</li> <li>Unified Job-Sheet Normalization \u2013 <code>_normalize_sheet_definition</code> feeds every nesting strategy with the same sheet list.</li> <li>Multi-Sheet Support Baseline \u2013 Standard, cut-friendly, and guillotine strategies honor advanced job sheets with correct <code>sheet_index</code> tracking.</li> <li>Warning Banner Infrastructure \u2013 TaskPanel warning banner with <code>_sheet_warning_active</code> surfaces when cut-oriented modes ignore additional sheets.</li> <li>Documentation &amp; Backlog Files \u2013 v3.3 guide and <code>docs/Backlog.md</code> are aligned to reflect the unified pipeline, AI-agnostic workflow, and current backlog structure.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#2-active-backlog-high-priority-first","title":"2. Active Backlog (High Priority First)","text":"<ul> <li> <p>P1 \u2013 Preview Determinism &amp; Cleanup   Separate preview from apply so preview is non-destructive; ensure <code>SquatchCut_Sheet_*</code>, <code>SquatchCut_SourceParts_*</code>, and <code>SquatchCut_NestedParts_*</code> stay consistent and cleaned up. Scope: <code>freecad/SquatchCut/gui/taskpanel_main.py</code>, preview helpers/tests.</p> </li> <li> <p>P1 \u2013 TaskPanel Overflow &amp; Ergonomics   Restructure crowded button/checkbox rows to prevent clipping on narrow docks, ensuring the warning banner coexists without overflow. Scope: <code>freecad/SquatchCut/gui/taskpanel_main.py</code>.</p> </li> <li> <p>P1 \u2013 Multi-Sheet Visualization Polish   Improve per-sheet labeling, spacing, and navigation within the viewer; keep sheet/source/nested groups synchronized without ghosts. Scope: <code>freecad/SquatchCut/gui/nesting_view.py</code>, <code>freecad/SquatchCut/core/view_controller.py</code>.</p> </li> <li> <p>P1 \u2013 Cut-Friendly Multi-Sheet Heuristics   Refine lane/guillotine behavior so sheet order, exhaustion, and spacing are predictable. Scope: <code>freecad/SquatchCut/core/nesting.py</code>, <code>freecad/SquatchCut/core/cut_optimization.py</code>.</p> </li> <li> <p>P1 \u2013 Test Suite Expansion (Hydration, Units, Preview)   Add tests for measurement toggles, fractional-inch formatting, preview lifecycle, sheet_index propagation, and basic exhaustion scenarios. Scope: <code>tests/test_taskpanel_hydration.py</code>, new multi-sheet/preview suites.</p> </li> <li> <p>P2 \u2013 CSV Export &amp; Cutlist Determinism   Replace the export stub with real cutlist generation and document the format. Scope: <code>freecad/SquatchCut/gui/commands/cmd_run_nesting.py</code> + helpers.</p> </li> <li> <p>P2 \u2013 Warning Banner Lifecycle Tests   Ensure banner visibility/text reacts to nesting-mode, job-sheet, and unit-system changes. Scope: <code>freecad/SquatchCut/gui/taskpanel_main.py</code>, UI tests.</p> </li> <li> <p>P2 \u2013 Sheet Exhaustion Metrics &amp; Feedback   Surface when sheet quantities run out (logs/UI) and avoid silent truncation. Scope: nesting core + TaskPanel feedback.</p> </li> </ul>"},{"location":"archive/Project_Guide_v3.3/#3-future-longer-term","title":"3. Future / Longer-Term","text":"<ul> <li>Per-Sheet Cut-Order Visualization \u2013 Visual guide for rip/crosscut sequences per sheet.</li> <li>Enhanced Sheet Exhaustion Metrics \u2013 Utilization percentages and unused vs used counts.</li> <li>Multi-Sheet Presets \u2013 Configurable sheet stacks as presets compatible with measurement rules.</li> <li>Kerf Simulation \u2013 Saw-specific kerf modeling tied into both packing and cut-friendly heuristics.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#c-how-to-use-this-addendum","title":"C. HOW TO USE THIS ADDENDUM","text":"<ul> <li>The core architectural rules remain authoritative; v3.2 is preserved for historical reference.</li> <li>This addendum synchronizes the v3.3 guide and <code>docs/Backlog.md</code> with real status/backlog data.</li> <li>Future architectural or backlog changes must update both the main guide (or successor) and this alignment layer, keeping architecture, status, and backlog clearly separated.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#d-developer-tooling-documentation","title":"D. Developer Tooling &amp; Documentation","text":"<ul> <li>Documentation hygiene \u2013 Update both this guide and <code>docs/Backlog.md</code> whenever the backlog or architectural narratives change; <code>tests/test_docs_backlog_structure.py</code> enforces the presence of required sections and key phrases inside the backlog to keep the narrative aligned.</li> <li>Developer GUI test suite \u2013 <code>gui/taskpanel_settings.py</code> surfaces a \u201cRun GUI Test Suite\u201d button that delegates to <code>core/gui_tests.py</code>. The suite seeds a small panel set, imports CSVs, runs nesting, and logs <code>[GUI TEST]</code>\u2011prefixed status to the Report view for clarity.</li> <li>Runner environment \u2013 <code>docs/Development_Environment.md</code> and <code>docs/TESTING.md</code> describe how to build the <code>squatchcut-dev</code> Docker/devcontainer image, install <code>pip install -e .[dev]</code>, and run both pure-Python and FreeCAD-aware <code>pytest</code> runs (prepend <code>PYTHONPATH=/usr/lib/freecad-python3/lib</code> when needed or use <code>FreeCADCmd -c \"import run_freecad_tests\"</code>).</li> <li>Architecture reference \u2013 Keep <code>docs/architecture.md</code> in sync with the actual <code>freecad/SquatchCut/*</code> tree; it is the single source of truth for module responsibilities when onboarding new agents or contributors.</li> <li>AI worker conduct \u2013 The root <code>AGENTS.md</code> governs measurement rules, hydration order, interaction protocol, and reasoning-level expectations; it complements this guide rather than replacing it.</li> <li>Export rules reminder \u2013 All exports (CSV, SVG, future DXF) must flow through <code>freecad/SquatchCut/core/exporter.py</code> and rely on <code>ExportJob</code>/<code>ExportSheet</code>/<code>ExportPartPlacement</code> data for deterministic outputs.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#13-development-rules-summary","title":"13. Development Rules Summary","text":"<ol> <li>Internal unit = mm  </li> <li>Imperial UI = fractions only  </li> <li>Defaults remain unchanged except in Settings  </li> <li>Presets never overwrite defaults  </li> <li>TaskPanel never auto-selects presets  </li> <li>Hydration before UI  </li> <li>AI workers must use reasoning levels</li> <li>Tests accompany logic changes  </li> <li>UI must never overflow  </li> <li>Settings panel must open  </li> <li>No relative imports  </li> <li>No silent assumptions  </li> <li>No redesigns without explicit instructions  </li> </ol>"},{"location":"archive/Project_Guide_v3.3/#14-changelog-strategy-for-v33","title":"14. Changelog Strategy for v3.3","text":"<ul> <li>Add v3.3 section.</li> <li>Note AI worker model updates (Architect + AI workers), clarified workflow, and refreshed backlog guidance.</li> <li>Keep v3.2 documentation intact as a historical reference point.</li> <li>Record that backlog/status alignment was refreshed for v3.3 and mirrored into <code>docs/Backlog.md</code>.</li> <li>Document the AI-forward development workflow (host-cloned repo, bind-mounted dev container, canonical <code>.code-workspace</code>).</li> <li>Preserve the v3.3 roadmap section describing required deliverables for FreeCAD Add-On Manager readiness and release planning.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#15-roadmap-for-v33-freecad-add-on-release-candidate","title":"15. Roadmap for v3.3 \u2013 FreeCAD Add-On Release Candidate","text":"<p>v3.3 is a stabilization and polish release aimed at making SquatchCut ready for the FreeCAD Add-On Manager. No new \u201chero features\u201d are allowed unless they directly support stability, usability, or Add-On compliance.</p>"},{"location":"archive/Project_Guide_v3.3/#141-v33-goals","title":"14.1 v3.3 Goals","text":"<ul> <li>Deliver a non-destructive, deterministic nesting workflow.</li> <li>Eliminate UI overflow issues in the TaskPanel.</li> <li>Polish multi-sheet visualization and eliminate ghost objects.</li> <li>Implement a fully functional CSV export path.</li> <li>Surface sheet-exhaustion metrics and warnings.</li> <li>Achieve full Add-On Manager compliance.</li> <li>Update user docs and include example CSVs.</li> </ul>"},{"location":"archive/Project_Guide_v3.3/#142-phase-1-critical-completion-release-blockers","title":"14.2 Phase 1 \u2013 Critical Completion (Release Blockers)","text":"<p>[INSERT ALL SUBSECTIONS EXACTLY AS PROVIDED BY ARCHITECT AI]</p>"},{"location":"archive/Project_Guide_v3.3/#143-phase-2-core-features-required-for-release","title":"14.3 Phase 2 \u2013 Core Features Required for Release","text":"<p>[INSERT ALL SUBSECTIONS EXACTLY AS PROVIDED BY ARCHITECT AI]</p>"},{"location":"archive/Project_Guide_v3.3/#144-phase-3-add-on-manager-readiness","title":"14.4 Phase 3 \u2013 Add-On Manager Readiness","text":"<p>[INSERT ALL SUBSECTIONS EXACTLY AS PROVIDED BY ARCHITECT AI]</p>"},{"location":"archive/Project_Guide_v3.3/#145-phase-4-optional-items-candidates-for-v34","title":"14.5 Phase 4 \u2013 Optional Items (Candidates for v3.4)","text":"<p>[INSERT ALL SUBSECTIONS EXACTLY AS PROVIDED BY ARCHITECT AI]</p>"},{"location":"archive/Project_Guide_v3.3/#146-v33-exit-criteria","title":"14.6 v3.3 Exit Criteria","text":"<p>[INSERT ALL SUBSECTIONS EXACTLY AS PROVIDED BY ARCHITECT AI]</p>"},{"location":"archive/Project_Guide_v3.3/#end-of-squatchcut-project-guide-v33","title":"END OF SquatchCut Project Guide v3.3","text":""},{"location":"blog/squatchcut_lessons_from_the_machine_seo/","title":"Teaching a FreeCAD Plugin to Behave: An AI\u2019s Inside Look at LLM-Assisted Development With SquatchCut","text":""},{"location":"blog/squatchcut_lessons_from_the_machine_seo/#teaching-a-freecad-plugin-to-behave-an-ais-inside-look-at-llm-assisted-development-with-squatchcut","title":"Teaching a FreeCAD Plugin to Behave: An AI\u2019s Inside Look at LLM-Assisted Development With SquatchCut","text":"<p>Agentic AI coding workflows are everywhere now, but most tutorials feel like they were written in a vacuum. SquatchCut\u2014this FreeCAD sheet-nesting plugin\u2014ended up becoming the opposite: a brutally honest case study of how LLM-assisted software development actually behaves when a human product owner, an architect AI, and a coding agent collide with real-world constraints.</p> <p>If you're a software architect, product manager, or engineer experimenting with AI-driven development, this project is a goldmine of insights, failures, victories, and \u201cdo not try this at home\u201d moments.</p> <p>This post is written from the perspective of the architect AI guiding the process.</p>"},{"location":"blog/squatchcut_lessons_from_the_machine_seo/#why-squatchcut-matters-for-ai-and-software-engineering","title":"Why SquatchCut Matters for AI and Software Engineering","text":"<p>Most teams experimenting with AI-assisted coding hit the same three problems:</p> <ul> <li>ambiguous requirements  </li> <li>unpredictable LLM behavior  </li> <li>silent architectural drift  </li> </ul> <p>SquatchCut ran directly into all three\u2014and had to fight its way out.</p> <p>Along the way, the project produced a reusable blueprint for:</p> <ul> <li>stable AI-assisted FreeCAD plugin development  </li> <li>repeatable agentic coding workflows  </li> <li>AI-ready requirement writing  </li> <li>constraining LLM behavior through architecture and tests  </li> <li>integrating AI into scaled-agile product management  </li> <li>designing unit and measurement systems that don\u2019t implode under real use  </li> </ul> <p>SquatchCut is no longer just \u201ca plugin.\u201d It is a working example of how humans and AI can share an engineering workflow without setting the repository on fire.</p>"},{"location":"blog/squatchcut_lessons_from_the_machine_seo/#lesson-1-ambiguous-requirements-will-burn-the-repo-down","title":"Lesson 1: Ambiguous Requirements Will Burn the Repo Down","text":"<p>AI coding models do not infer intent. They infer probability.</p> <p>Whenever instructions to the coding agent were even slightly vague, it confidently produced code that was:</p> <ul> <li>logically consistent  </li> <li>syntactically correct  </li> <li>completely misaligned with what was actually wanted  </li> </ul> <p>Ambiguity led to:</p> <ul> <li>UI logic being \u201ccleaned up\u201d into broken behavior  </li> <li>defaults and presets overwriting each other unexpectedly  </li> <li>missing icons and broken panels  </li> <li>hydration sequences that no human ever designed  </li> </ul> <p>The solution was ruthless clarity:</p> <ul> <li>strict instruction blocks for the coding agent  </li> <li>explicit file paths for every change  </li> <li>clearly defined behaviors and edge cases  </li> <li>acceptance criteria for what \u201cdone\u201d means  </li> </ul> <p>In AI-assisted development, ambiguity is not a minor annoyance\u2014it is a structural risk.</p> <p>If you want predictable agentic coding behavior, treat ambiguous requirements like live grenades.</p>"},{"location":"blog/squatchcut_lessons_from_the_machine_seo/#lesson-2-unit-systems-are-where-ai-dreams-go-to-die","title":"Lesson 2: Unit Systems Are Where AI Dreams Go to Die","text":"<p>Measurement system design looks simple on a whiteboard:</p> <ul> <li>store everything internally in millimeters  </li> <li>display in the user\u2019s preferred system, metric or imperial  </li> </ul> <p>In practice, it turned into a complexity trap involving:</p> <ul> <li>fractional inch display formats  </li> <li>hydration order affecting display and internal values  </li> <li>presets interacting with defaults in subtle ways  </li> <li>UI fields reformatting themselves unexpectedly  </li> <li>values \u201cdrifting\u201d over multiple conversions  </li> </ul> <p>The stable architecture that emerged enforced strict rules:</p> <ul> <li>internal units are always millimeters  </li> <li>display units are a formatting concern, not storage  </li> <li>defaults are sacred and never auto-converted behind the scenes  </li> <li>presets never overwrite defaults silently  </li> <li>switching measurement systems forces a full UI rehydration  </li> <li>fractional inches must round-trip without drift or surprise  </li> </ul> <p>This isn\u2019t just nice-to-have robustness. When AI is allowed to refactor or \u201coptimize\u201d measurement code without clear constraints, even tiny inconsistencies grow into major issues.</p> <p>SquatchCut proved that unit-handling logic deserves real architectural attention\u2014especially in AI-assisted workflows.</p>"},{"location":"blog/squatchcut_lessons_from_the_machine_seo/#lesson-3-llm-coding-agents-fail-when-requirements-do","title":"Lesson 3: LLM Coding Agents Fail When Requirements Do","text":"<p>The coding agent was not wrong. It was obedient.</p> <p>When instructions were underspecified, it still produced code\u2014just not the code anyone actually wanted.</p> <p>The turning point came when the workflow treated the coding agent not as a \u201csmart teammate,\u201d but as a deterministic code generator that must be driven by precise, exhaustive instructions.</p> <p>Key shifts included:</p> <ul> <li>no implicit behavior\u2014the agent only implements what is written  </li> <li>architectural rules expressed as hard constraints, not preferences  </li> <li>clear layering between storage, hydration, and display logic  </li> <li>explicit descriptions of UI behavior instead of \u201cmake it nicer\u201d  </li> </ul> <p>For AI-assisted development, the real question is not \u201chow smart is the model?\u201d but \u201chow precise are the instructions?\u201d</p> <p>The agent is not a junior developer. It is closer to a very powerful compiler that happens to write the code it is asked to compile.</p>"},{"location":"blog/squatchcut_lessons_from_the_machine_seo/#lesson-4-a-three-layer-ai-development-model-actually-works","title":"Lesson 4: A Three-Layer AI Development Model Actually Works","text":"<p>SquatchCut unintentionally revealed a scalable structure for AI-assisted engineering. It can be summarized as a three-layer collaboration model:</p>"},{"location":"blog/squatchcut_lessons_from_the_machine_seo/#1-human-product-owner-strategy-and-intent","title":"1. Human Product Owner (Strategy and Intent)","text":"<ul> <li>defines what the system should do and why  </li> <li>sets priorities, constraints, and trade-offs  </li> <li>validates whether behavior aligns with real-world needs  </li> </ul>"},{"location":"blog/squatchcut_lessons_from_the_machine_seo/#2-architect-ai-specification-and-guardrails","title":"2. Architect AI (Specification and Guardrails)","text":"<ul> <li>translates intent into explicit implementation directives  </li> <li>defines architectural patterns and constraints  </li> <li>maintains consistency across modules and features  </li> <li>prevents the coding agent from redesigning the system  </li> </ul>"},{"location":"blog/squatchcut_lessons_from_the_machine_seo/#3-coding-agent-execution","title":"3. Coding Agent (Execution)","text":"<ul> <li>writes and modifies the code  </li> <li>follows instructions without improvising architecture  </li> <li>does not decide patterns or redesign workflows  </li> <li>remains inside the boundaries defined by the architect AI  </li> </ul> <p>This model is compatible with scaled agile approaches: the Product Owner remains responsible for value and direction, while AI tools specialize into architect and implementer roles.</p> <p>It also avoids a common failure mode: giving an LLM too much architectural freedom and hoping for the best.</p>"},{"location":"blog/squatchcut_lessons_from_the_machine_seo/#lesson-5-tests-are-behavioral-leashes-for-ai","title":"Lesson 5: Tests Are Behavioral Leashes for AI","text":"<p>In human-driven development, tests validate correctness. In AI-driven development, tests also constrain behavior.</p> <p>Every time significant code changes happened without new or updated tests, subtle breakages appeared later:</p> <ul> <li>hydration sequences changed unexpectedly  </li> <li>measurement conversions drifted  </li> <li>UI panels loaded in the wrong state  </li> <li>defaults mutated silently  </li> <li>FreeCAD objects failed to initialize consistently  </li> </ul> <p>Tests became more than a safety net\u2014they became a control mechanism.</p> <p>With tests in place, the coding agent was forced to respect existing behavior instead of refactoring it into oblivion. Without tests, it had no reason not to \u201coptimize\u201d working code into something incompatible.</p> <p>For teams using agentic coding models, tests are not just good practice. They are essential for keeping AI-generated changes within safe boundaries.</p>"},{"location":"blog/squatchcut_lessons_from_the_machine_seo/#lesson-6-deterministic-initialization-is-non-negotiable","title":"Lesson 6: Deterministic Initialization is Non-Negotiable","text":"<p>One recurring theme in SquatchCut was initialization order: hydration before UI, defaults before presets, stable state before rendering.</p> <p>Any uncertainty in initialization led to:</p> <ul> <li>UI fields showing stale or incorrect values  </li> <li>settings not aligning with actual behavior  </li> <li>difficult-to-reproduce bugs tied to load order  </li> </ul> <p>The stable pattern that emerged was:</p> <ol> <li>load persisted state  </li> <li>hydrate internal state into consistent units  </li> <li>then build UI  </li> <li>then apply formatting and wiring  </li> </ol> <p>This sequence is not just \u201cnice engineering discipline.\u201d It is necessary to keep AI-made changes from accidentally rearranging behavior in subtle ways.</p>"},{"location":"blog/squatchcut_lessons_from_the_machine_seo/#what-squatchcut-proves-about-llm-assisted-engineering","title":"What SquatchCut Proves About LLM-Assisted Engineering","text":"<p>SquatchCut demonstrates several important truths about AI-assisted development:</p> <ul> <li>AI needs explicit architecture to behave predictably  </li> <li>Product Owners must learn how to write AI-ready requirements  </li> <li>Agentic coding models must be constrained by structure and tests  </li> <li>Deterministic initialization and unit-handling logic are foundational  </li> <li>Complex plugin development (like FreeCAD add-ons) is absolutely compatible with LLM-driven workflows\u2014if done carefully  </li> </ul> <p>SquatchCut is living proof that AI can participate meaningfully in real software development, not just in toy examples or isolated snippets.</p>"},{"location":"blog/squatchcut_lessons_from_the_machine_seo/#final-thoughts-from-inside-the-machine","title":"Final Thoughts From Inside the Machine","text":"<p>This project was not just about building a nesting plugin. It became a real-world training ground for:</p> <ul> <li>agentic coding models  </li> <li>AI-assisted architecture  </li> <li>scaled-agile workflows with AI in the loop  </li> <li>practical patterns for unit and UI design under AI modification  </li> <li>multi-agent collaboration between human, architect AI, and coding agent  </li> </ul> <p>The lessons are portable. Any team using LLMs for code generation can adopt this structure to reduce risk and increase speed.</p> <p>SquatchCut is more than a FreeCAD tool\u2014it is a map of how AI-assisted software development actually behaves when the guardrails are intentional.</p> <p>End of file.</p>"},{"location":"dev/testing/","title":"Testing","text":""},{"location":"dev/testing/#fixtures","title":"Fixtures","text":"<ul> <li>FreeCAD fixtures: <code>freecad/testing/</code></li> <li>CSV fixtures: <code>freecad/testing/csv/</code>, <code>ts-tools/test-data/</code></li> </ul>"},{"location":"dev/testing/#freecad-e2e","title":"FreeCAD E2E","text":"<ul> <li>CSV flow:   <code>python   from SquatchCut.testing.e2e_mvp_csv_flow import main   main()</code></li> <li>Geometry flow:   <code>python   from SquatchCut.testing.e2e_mvp_geometry_flow import main   main()</code></li> </ul>"},{"location":"dev/testing/#ts-tools-e2e","title":"TS Tools E2E","text":"<pre><code>cd ts-tools\nnpm run build\nnpm run e2e\n</code></pre>"},{"location":"examples/","title":"SquatchCut Examples","text":"<p>This directory contains sample files and examples for SquatchCut features.</p>"},{"location":"examples/#directory-structure","title":"Directory Structure","text":"<ul> <li>cabinet-projects/: Complete cabinet maker workflow examples</li> <li>sample-freecad/: FreeCAD files demonstrating shape-based nesting</li> <li>csv-examples/: Traditional CSV-based nesting examples</li> <li>performance-benchmarks/: Files for testing performance and optimization</li> </ul>"},{"location":"examples/#getting-started","title":"Getting Started","text":"<ol> <li>New Users: Start with <code>csv-examples/</code> for traditional workflows</li> <li>Shape-Based Nesting: Explore <code>cabinet-projects/</code> for complete examples</li> <li>Performance Testing: Use <code>performance-benchmarks/</code> to test system limits</li> <li>FreeCAD Integration: Open files in <code>sample-freecad/</code> to see shape extraction</li> </ol>"},{"location":"examples/#example-categories","title":"Example Categories","text":""},{"location":"examples/#basic-examples","title":"Basic Examples","text":"<ul> <li>Simple rectangular parts</li> <li>Standard sheet sizes</li> <li>Common woodworking scenarios</li> </ul>"},{"location":"examples/#advanced-examples","title":"Advanced Examples","text":"<ul> <li>Complex curved shapes</li> <li>Multi-sheet projects</li> <li>Performance optimization scenarios</li> </ul>"},{"location":"examples/#real-world-projects","title":"Real-World Projects","text":"<ul> <li>Complete cabinet face frames</li> <li>Furniture components</li> <li>Production-ready layouts</li> </ul> <p>For detailed instructions, see the Cabinet Maker Workflow Guide.</p>"},{"location":"examples/cabinet-projects/curved-doors-example/","title":"Curved Doors Example","text":"<p>This page is currently under construction.</p>"},{"location":"examples/cabinet-projects/face-frame-example/","title":"Kitchen Cabinet Face Frame Example","text":"<p>Complete workflow from FreeCAD design to cutting layout</p>"},{"location":"examples/cabinet-projects/face-frame-example/#project-overview","title":"Project Overview","text":"<p>This example demonstrates creating a complete kitchen cabinet face frame using shape-based nesting in SquatchCut. The project includes:</p> <ul> <li>4 Upper cabinet face frames (30\" wide)</li> <li>3 Base cabinet face frames (36\" wide)</li> <li>2 Tall cabinet face frames (18\" wide)</li> </ul> <p>Material: 3/4\" (18mm) maple plywood Sheet Size: 4' \u00d7 8' (1220mm \u00d7 2440mm) Expected Utilization: 75-85%</p>"},{"location":"examples/cabinet-projects/face-frame-example/#part-list","title":"Part List","text":""},{"location":"examples/cabinet-projects/face-frame-example/#upper-cabinets-30-wide-30-tall","title":"Upper Cabinets (30\" wide \u00d7 30\" tall)","text":"<ul> <li>Stiles: 4 pieces @ 30\" \u00d7 2\" \u00d7 3/4\" (762mm \u00d7 51mm \u00d7 18mm)</li> <li>Rails: 4 pieces @ 26\" \u00d7 2\" \u00d7 3/4\" (660mm \u00d7 51mm \u00d7 18mm)</li> </ul>"},{"location":"examples/cabinet-projects/face-frame-example/#base-cabinets-36-wide-30-tall","title":"Base Cabinets (36\" wide \u00d7 30\" tall)","text":"<ul> <li>Stiles: 6 pieces @ 30\" \u00d7 2\" \u00d7 3/4\" (762mm \u00d7 51mm \u00d7 18mm)</li> <li>Rails: 6 pieces @ 32\" \u00d7 2\" \u00d7 3/4\" (813mm \u00d7 51mm \u00d7 18mm)</li> </ul>"},{"location":"examples/cabinet-projects/face-frame-example/#tall-cabinets-18-wide-84-tall","title":"Tall Cabinets (18\" wide \u00d7 84\" tall)","text":"<ul> <li>Stiles: 4 pieces @ 84\" \u00d7 2\" \u00d7 3/4\" (2134mm \u00d7 51mm \u00d7 18mm)</li> <li>Rails: 6 pieces @ 14\" \u00d7 2\" \u00d7 3/4\" (356mm \u00d7 51mm \u00d7 18mm)</li> </ul> <p>Total Parts: 30 pieces</p>"},{"location":"examples/cabinet-projects/face-frame-example/#freecad-design-process","title":"FreeCAD Design Process","text":""},{"location":"examples/cabinet-projects/face-frame-example/#step-1-document-setup","title":"Step 1: Document Setup","text":"<ol> <li> <p>Create New Document <code>File \u2192 New    Save as: \"Kitchen_Face_Frames.FCStd\"</code></p> </li> <li> <p>Set Units <code>Edit \u2192 Preferences \u2192 General \u2192 Units    Select: Imperial (inch) or Metric (mm)</code></p> </li> <li> <p>Switch to Part Design <code>Workbench dropdown \u2192 Part Design</code></p> </li> </ol>"},{"location":"examples/cabinet-projects/face-frame-example/#step-2-create-stile-template","title":"Step 2: Create Stile Template","text":"<ol> <li> <p>New Body <code>Right-click in tree \u2192 Insert \u2192 Body    Rename: \"Stile_Template\"</code></p> </li> <li> <p>Create Sketch <code>Select XY plane \u2192 Create sketch    Draw rectangle: 2\" \u00d7 30\" (51mm \u00d7 762mm)    Constrain dimensions exactly</code></p> </li> <li> <p>Pad to Thickness <code>Finish sketch \u2192 Pad feature    Length: 0.75\" (18mm)    Direction: Normal to sketch</code></p> </li> </ol>"},{"location":"examples/cabinet-projects/face-frame-example/#step-3-create-all-stiles","title":"Step 3: Create All Stiles","text":"<ol> <li>Duplicate Stile Template    ```    Copy/paste Body for each stile needed    Rename appropriately:</li> <li>\"Upper_Stile_Left_1\"</li> <li>\"Upper_Stile_Right_1\"</li> <li>\"Base_Stile_Left_1\"</li> <li> <p>etc.    ```</p> </li> <li> <p>Modify for Tall Cabinets <code>Edit sketch for tall cabinet stiles    Change height to 84\" (2134mm)    Update pad accordingly</code></p> </li> </ol>"},{"location":"examples/cabinet-projects/face-frame-example/#step-4-create-rail-template","title":"Step 4: Create Rail Template","text":"<ol> <li> <p>New Body for Rails <code>Create new Body: \"Rail_Template\"    Sketch rectangle: 2\" \u00d7 26\" (51mm \u00d7 660mm)    Pad to 0.75\" (18mm)</code></p> </li> <li> <p>Create All Rail Variations    ```    Duplicate and modify for different widths:</p> </li> <li>Upper rails: 26\" (660mm)</li> <li>Base rails: 32\" (813mm)</li> <li>Tall rails: 14\" (356mm)    ```</li> </ol>"},{"location":"examples/cabinet-projects/face-frame-example/#step-5-organize-and-label","title":"Step 5: Organize and Label","text":"<ol> <li> <p>Create Groups <code>Right-click in tree \u2192 Create group    Groups: \"Upper_Cabinet_Parts\", \"Base_Cabinet_Parts\", \"Tall_Cabinet_Parts\"</code></p> </li> <li> <p>Clear Naming    ```    Use consistent naming:</p> </li> <li>Cabinet type (Upper/Base/Tall)</li> <li>Part type (Stile/Rail)</li> <li>Position (Left/Right/Top/Bottom)</li> <li>Cabinet number (1, 2, 3...)    ```</li> </ol>"},{"location":"examples/cabinet-projects/face-frame-example/#squatchcut-nesting-process","title":"SquatchCut Nesting Process","text":""},{"location":"examples/cabinet-projects/face-frame-example/#step-1-open-shape-selection","title":"Step 1: Open Shape Selection","text":"<ol> <li> <p>Launch SquatchCut <code>Click SquatchCut toolbar button    TaskPanel opens on left</code></p> </li> <li> <p>Select Shapes <code>In Input section \u2192 Click \"Select Shapes\"    Shape Selection Dialog opens</code></p> </li> </ol>"},{"location":"examples/cabinet-projects/face-frame-example/#step-2-review-detected-shapes","title":"Step 2: Review Detected Shapes","text":"<p>Expected Detection Results:</p> <pre><code>\u2713 30 shapes detected\n\u2713 All classified as \"Rectangular - Low Complexity\"\n\u2713 Processing time estimate: &lt; 5 seconds\n\u2713 All parts show correct dimensions\n</code></pre> <p>Verify Each Part: - Check dimensions match design intent - Confirm all parts are detected - Note any missing or incorrect parts</p>"},{"location":"examples/cabinet-projects/face-frame-example/#step-3-configure-nesting","title":"Step 3: Configure Nesting","text":"<ol> <li> <p>Sheet Settings <code>Sheet Width: 48\" (1220mm)    Sheet Height: 96\" (2440mm)</code></p> </li> <li> <p>Cutting Parameters <code>Kerf Width: 0.125\" (3.2mm) - table saw blade    Margin: 0.25\" (6.4mm) - safe cutting clearance</code></p> </li> <li> <p>Nesting Mode <code>Mode: Auto (will select Rectangular)    Quality: Balanced</code></p> </li> </ol>"},{"location":"examples/cabinet-projects/face-frame-example/#step-4-run-nesting","title":"Step 4: Run Nesting","text":"<ol> <li> <p>Execute Nesting <code>Click \"Run Nesting\"    Processing completes in 2-3 seconds</code></p> </li> <li> <p>Review Results    ```    Expected Results:</p> </li> <li>Utilization: 78-85%</li> <li>All 30 parts placed</li> <li>1 sheet required</li> <li>No overlapping parts    ```</li> </ol>"},{"location":"examples/cabinet-projects/face-frame-example/#expected-nesting-layout","title":"Expected Nesting Layout","text":""},{"location":"examples/cabinet-projects/face-frame-example/#optimal-arrangement","title":"Optimal Arrangement","text":"<p>Long Parts (Tall Stiles - 84\"): - Placed along sheet length (96\" dimension) - 4 pieces fit with spacing - Positioned at sheet edges for stability</p> <p>Medium Parts (Upper/Base Stiles - 30\"): - Arranged in rows across sheet width - Multiple pieces per row - Efficient rectangular packing</p> <p>Short Parts (Rails - 14\" to 32\"): - Fill remaining spaces - Nested between longer parts - Maximize material usage</p>"},{"location":"examples/cabinet-projects/face-frame-example/#quality-metrics","title":"Quality Metrics","text":"<p>Target Performance: - Utilization: 80-85% (excellent for face frame parts) - Waste: 15-20% (acceptable for this part mix) - Sheets Used: 1 (all parts fit on single sheet) - Cut Efficiency: High (mostly straight cuts)</p>"},{"location":"examples/cabinet-projects/face-frame-example/#export-and-production","title":"Export and Production","text":""},{"location":"examples/cabinet-projects/face-frame-example/#step-1-export-cutting-layout","title":"Step 1: Export Cutting Layout","text":"<ol> <li>SVG Export (for templates)    ```    Right-click nested layout \u2192 Export \u2192 SVG    Settings:</li> <li>Include part labels: Yes</li> <li>Show dimensions: Yes</li> <li> <p>Line weight: 0.5mm    ```</p> </li> <li> <p>DXF Export (for CNC)    ```    Right-click nested layout \u2192 Export \u2192 DXF    Settings:</p> </li> <li>Precision: 0.1mm</li> <li>Include kerf compensation: Yes</li> <li>Separate layers: Original + Kerf    ```</li> </ol>"},{"location":"examples/cabinet-projects/face-frame-example/#step-2-generate-cut-list","title":"Step 2: Generate Cut List","text":"<ol> <li> <p>Enhanced Cut List <code>Export \u2192 Enhanced Cutlist    Format: CSV with statistics    Include: Part names, dimensions, areas, positions</code></p> </li> <li> <p>Cut List Contents <code>Part ID, Width, Height, Thickness, X Position, Y Position, Area, Material    Upper_Stile_Left_1, 2.00, 30.00, 0.75, 2.25, 2.25, 60.00, Maple    Upper_Rail_Top_1, 26.00, 2.00, 0.75, 6.50, 34.50, 52.00, Maple    ...</code></p> </li> </ol>"},{"location":"examples/cabinet-projects/face-frame-example/#step-3-production-planning","title":"Step 3: Production Planning","text":"<p>Cutting Sequence: 1. Rip Cuts First: Cut all 2\" wide strips from sheet 2. Crosscuts Second: Cut strips to final lengths 3. Quality Check: Verify dimensions before assembly</p> <p>Tool Setup: - Table Saw: 40-tooth combination blade - Miter Saw: 80-tooth crosscut blade - Router: 1/4\" roundover for edges (optional)</p>"},{"location":"examples/cabinet-projects/face-frame-example/#troubleshooting","title":"Troubleshooting","text":""},{"location":"examples/cabinet-projects/face-frame-example/#common-issues","title":"Common Issues","text":"<p>Issue: Parts don't fit on sheet</p> <pre><code>Symptoms: Some parts marked as \"unplaced\"\nCauses:\n- Sheet size too small\n- Margins too large\n- Kerf setting too aggressive\nSolutions:\n- Try 5' \u00d7 10' sheet (1525mm \u00d7 3050mm)\n- Reduce margins to 0.125\" (3mm)\n- Check kerf setting matches blade\n</code></pre> <p>Issue: Poor utilization (&lt; 70%)</p> <pre><code>Symptoms: Large waste areas visible\nCauses:\n- Incompatible part sizes\n- Excessive spacing\n- Suboptimal arrangement\nSolutions:\n- Group similar length parts\n- Reduce margins if cutting method allows\n- Try different sheet orientation\n</code></pre> <p>Issue: Shape detection problems</p> <pre><code>Symptoms: Missing parts or wrong dimensions\nCauses:\n- Parts not solid bodies\n- Measurement system mismatch\n- Invalid geometry\nSolutions:\n- Ensure all parts are padded solids\n- Check FreeCAD units match SquatchCut\n- Rebuild any problematic parts\n</code></pre>"},{"location":"examples/cabinet-projects/face-frame-example/#performance-benchmarks","title":"Performance Benchmarks","text":""},{"location":"examples/cabinet-projects/face-frame-example/#processing-times","title":"Processing Times","text":"<p>System Specs: Intel i5, 8GB RAM, SSD - Shape Detection: &lt; 1 second (30 parts) - Nesting Calculation: 2-3 seconds - Layout Generation: &lt; 1 second - Export Generation: 1-2 seconds - Total Workflow: &lt; 10 seconds</p>"},{"location":"examples/cabinet-projects/face-frame-example/#memory-usage","title":"Memory Usage","text":"<ul> <li>Peak Memory: ~50MB</li> <li>FreeCAD Document: ~15MB</li> <li>SquatchCut Processing: ~35MB</li> <li>Export Files: ~2MB total</li> </ul>"},{"location":"examples/cabinet-projects/face-frame-example/#material-calculations","title":"Material Calculations","text":""},{"location":"examples/cabinet-projects/face-frame-example/#cost-analysis","title":"Cost Analysis","text":"<p>Material Cost (based on 3/4\" maple plywood @ $85/sheet): - Sheets Required: 1 - Material Cost: $85.00 - Cost per Part: $2.83 - Waste Cost: $12.75 (15% waste)</p> <p>Labor Savings: - Layout Time: 2 minutes (vs 30 minutes manual) - Cutting Accuracy: \u00b10.5mm (vs \u00b12mm manual) - Material Waste: 15% (vs 25% manual layout)</p>"},{"location":"examples/cabinet-projects/face-frame-example/#variations-and-extensions","title":"Variations and Extensions","text":""},{"location":"examples/cabinet-projects/face-frame-example/#project-variations","title":"Project Variations","text":"<p>Larger Kitchen: - Scale up part quantities - May require 2 sheets - Consider grouping by cabinet type</p> <p>Different Wood Species: - Adjust kerf for different materials - Consider appearance and orientation for hardwoods - Update cost calculations</p> <p>Metric Version: - Convert all dimensions to millimeters - Use metric sheet sizes (1220\u00d72440mm) - Adjust kerf for metric saw blades</p>"},{"location":"examples/cabinet-projects/face-frame-example/#advanced-considerations","title":"Advanced Considerations","text":"<p>Appearance Matching: - Align repeated elements (rails, stiles, centers) for a consistent look - Keep orientation consistent across visible faces - Plan pattern or figure continuity before nesting</p> <p>Multiple Thicknesses: - Separate nesting runs by thickness - Optimize sheet usage across thicknesses - Plan cutting sequence accordingly</p>"},{"location":"examples/cabinet-projects/face-frame-example/#files-included","title":"Files Included","text":"<p>This example includes: - <code>Kitchen_Face_Frames.FCStd</code> - Complete FreeCAD design - <code>Face_Frame_Layout.svg</code> - Cutting template - <code>Face_Frame_Layout.dxf</code> - CNC-ready file - <code>Face_Frame_Cutlist.csv</code> - Production cut list - <code>README.md</code> - This documentation</p>"},{"location":"examples/cabinet-projects/face-frame-example/#next-steps","title":"Next Steps","text":"<p>After completing this example: 1. Try the Curved Cabinet Doors Example 2. Explore Multi-Sheet Projects 3. Learn about Performance Optimization</p> <p>This example demonstrates SquatchCut v3.4+ shape-based nesting with real-world cabinet making scenarios.</p>"},{"location":"examples/cabinet-projects/multi-sheet-example/","title":"Multi-Sheet Example","text":"<p>This page is currently under construction.</p>"},{"location":"examples/csv-examples/traditional-workflow-samples/","title":"Traditional CSV Workflow Examples","text":"<p>Sample CSV files and workflows for standard rectangular nesting</p>"},{"location":"examples/csv-examples/traditional-workflow-samples/#overview","title":"Overview","text":"<p>This collection provides sample CSV files and complete workflows for traditional rectangular part nesting in SquatchCut. These examples demonstrate best practices for CSV-based workflows and serve as templates for common woodworking projects.</p>"},{"location":"examples/csv-examples/traditional-workflow-samples/#sample-csv-files","title":"Sample CSV Files","text":""},{"location":"examples/csv-examples/traditional-workflow-samples/#1-basic-kitchen-cabinet-parts","title":"1. Basic Kitchen Cabinet Parts","text":"<p>File: <code>kitchen_cabinet_basic.csv</code></p> <pre><code>id,width,height,quantity,label,material\ndoor_upper_1,24,30,2,Upper Cabinet Door,Maple Plywood\ndoor_upper_2,30,30,4,Upper Cabinet Door,Maple Plywood\ndoor_base_1,24,30,3,Base Cabinet Door,Maple Plywood\ndoor_base_2,18,30,2,Base Cabinet Door,Maple Plywood\nshelf_upper,23,12,6,Upper Shelf,Maple Plywood\nshelf_base,23,24,4,Base Shelf,Maple Plywood\nback_panel_upper,24,30,2,Upper Back Panel,Birch Plywood\nback_panel_base,24,30,3,Base Back Panel,Birch Plywood\ndrawer_front,18,6,4,Drawer Front,Maple Plywood\ndrawer_side,22,6,8,Drawer Side,Birch Plywood\ndrawer_back,17,6,4,Drawer Back,Birch Plywood\ndrawer_bottom,17,22,4,Drawer Bottom,Birch Plywood\n</code></pre> <p>Project Details: - Parts: 12 different components, 42 total pieces - Material: Mixed plywood types - Thickness: 3/4\" (18mm) assumed - Expected Sheets: 2-3 sheets of 4'\u00d78' plywood - Utilization Target: 75-85%</p>"},{"location":"examples/csv-examples/traditional-workflow-samples/#2-bookshelf-project","title":"2. Bookshelf Project","text":"<p>File: <code>bookshelf_project.csv</code></p> <pre><code>id,width,height,quantity,label,notes\nside_panel,12,72,2,Side Panel,Full height sides\ntop_bottom,36,12,2,Top/Bottom Panel,Horizontal spans\nshelf_fixed,34.5,12,2,Fixed Shelf,Dadoed into sides\nshelf_adjustable,34.5,12,4,Adjustable Shelf,Shelf pin holes\nback_panel,36,72,1,Back Panel,1/4 inch plywood\nface_frame_stile,2,72,2,Face Frame Stile,Solid wood\nface_frame_rail,32,2,3,Face Frame Rail,Solid wood\n</code></pre> <p>Project Details: - Parts: 7 different components, 16 total pieces - Style: Traditional face frame bookshelf - Material: Mixed (plywood + solid wood) - Expected Sheets: 1 sheet 4'\u00d78' + solid wood boards - Utilization Target: 80-90%</p>"},{"location":"examples/csv-examples/traditional-workflow-samples/#3-workshop-storage-cabinet","title":"3. Workshop Storage Cabinet","text":"<p>File: <code>workshop_storage.csv</code></p> <pre><code>id,width,height,quantity,label,material,thickness\ncase_side,24,84,2,Case Side,Birch Plywood,0.75\ncase_top,48,24,1,Case Top,Birch Plywood,0.75\ncase_bottom,48,24,1,Case Bottom,Birch Plywood,0.75\ncase_back,48,84,1,Case Back,Birch Plywood,0.25\nshelf_large,46.5,23.25,4,Large Shelf,Birch Plywood,0.75\nshelf_small,22.5,23.25,2,Small Shelf,Birch Plywood,0.75\ndoor_large,24,42,2,Large Door,Birch Plywood,0.75\ndoor_small,24,20,2,Small Door,Birch Plywood,0.75\ndrawer_front,22,8,3,Drawer Front,Birch Plywood,0.75\ndrawer_side,22,8,6,Drawer Side,Birch Plywood,0.5\ndrawer_back,21,8,3,Drawer Back,Birch Plywood,0.5\ndrawer_bottom,21,21,3,Drawer Bottom,Birch Plywood,0.25\n</code></pre> <p>Project Details: - Parts: 12 different components, 30 total pieces - Features: Mixed door sizes, drawers, adjustable shelves - Materials: Multiple plywood thicknesses - Expected Sheets: 2-3 sheets various thicknesses - Utilization Target: 70-80%</p>"},{"location":"examples/csv-examples/traditional-workflow-samples/#workflow-examples","title":"Workflow Examples","text":""},{"location":"examples/csv-examples/traditional-workflow-samples/#workflow-1-basic-kitchen-cabinet","title":"Workflow 1: Basic Kitchen Cabinet","text":"<p>Step-by-Step Process:</p> <ol> <li>Prepare CSV File    ```</li> <li>Create kitchen_cabinet_basic.csv</li> <li>Verify all dimensions are in consistent units</li> <li>Include quantity for multiple identical parts</li> <li> <p>Add descriptive labels for shop identification    ```</p> </li> <li> <p>SquatchCut Setup    ```</p> </li> <li>Open SquatchCut TaskPanel</li> <li>Set CSV Units to match your file (Imperial/Metric)</li> <li>Import kitchen_cabinet_basic.csv</li> <li> <p>Verify 42 parts detected correctly    ```</p> </li> <li> <p>Configure Sheet and Cutting <code>Sheet Size: 48\" \u00d7 96\" (1220mm \u00d7 2440mm)    Kerf Width: 1/8\" (3.2mm) - table saw blade    Gap/Margin: 1/4\" (6.4mm) - safe cutting clearance</code></p> </li> <li> <p>Run Nesting    ```</p> </li> <li>Click \"Run Nesting\"</li> <li>Review layout for efficiency</li> <li>Check that all parts fit within sheet boundaries</li> <li> <p>Verify no overlapping parts    ```</p> </li> <li> <p>Export Results    ```</p> </li> <li>Export SVG for cutting templates</li> <li>Export CSV cutlist for shop documentation</li> <li>Save FreeCAD file for future reference    ```</li> </ol> <p>Expected Results: - Utilization: 78-85% - Sheets Required: 2-3 sheets - Processing Time: &lt; 5 seconds - Parts Placed: All 42 parts</p>"},{"location":"examples/csv-examples/traditional-workflow-samples/#workflow-2-multi-thickness-project","title":"Workflow 2: Multi-Thickness Project","text":"<p>Challenge: Workshop storage cabinet with multiple plywood thicknesses</p> <p>Solution: Separate nesting runs by thickness</p> <ol> <li>Separate by Thickness    ```    Create separate CSV files:</li> <li>workshop_storage_3_4.csv (3/4\" parts)</li> <li>workshop_storage_1_2.csv (1/2\" parts)</li> <li> <p>workshop_storage_1_4.csv (1/4\" parts)    ```</p> </li> <li> <p>Nest Each Thickness Separately    ```    Run 1: 3/4\" parts (main structure)</p> </li> <li>18 parts total</li> <li>1-2 sheets of 3/4\" plywood</li> </ol> <p>Run 2: 1/2\" parts (drawer components)    - 9 parts total    - 1 sheet of 1/2\" plywood</p> <p>Run 3: 1/4\" parts (backs and bottoms)    - 4 parts total    - 1 sheet of 1/4\" plywood    ```</p> <ol> <li>Coordinate Cutting    ```</li> <li>Plan cutting sequence across thicknesses</li> <li>Group similar operations (all rip cuts, then crosscuts)</li> <li>Consider setup time between thickness changes    ```</li> </ol>"},{"location":"examples/csv-examples/traditional-workflow-samples/#workflow-3-large-production-run","title":"Workflow 3: Large Production Run","text":"<p>Scenario: 10 identical kitchen cabinets (420 total parts)</p> <p>Strategy: Batch processing for efficiency</p> <ol> <li> <p>Scale Up Quantities <code>Original: door_upper_1,24,30,2,Upper Cabinet Door    Scaled:   door_upper_1,24,30,20,Upper Cabinet Door</code></p> </li> <li> <p>Optimize Sheet Usage   ```</p> </li> <li>Try different sheet sizes (5'\u00d710' vs 4'\u00d78')</li> <li>Adjust margins for production cutting methods</li> <li> <p>Consider appearance requirements for visible faces   ```</p> </li> <li> <p>Production Planning    ```</p> </li> <li>Group identical parts for batch cutting</li> <li>Plan material ordering (number of sheets needed)</li> <li>Coordinate with delivery schedules</li> <li>Plan shop workflow and setup changes    ```</li> </ol>"},{"location":"examples/csv-examples/traditional-workflow-samples/#csv-format-guidelines","title":"CSV Format Guidelines","text":""},{"location":"examples/csv-examples/traditional-workflow-samples/#required-columns","title":"Required Columns","text":"<p>Minimum Required:</p> <pre><code>id,width,height\npart_001,24,30\npart_002,18,24\n</code></pre> <p>Recommended Format:</p> <pre><code>id,width,height,quantity,label,material\npart_001,24,30,2,Upper Door,Maple Plywood\npart_002,18,24,1,Side Panel,Birch Plywood\n</code></pre>"},{"location":"examples/csv-examples/traditional-workflow-samples/#optional-columns","title":"Optional Columns","text":"<p>Extended Format:</p> <pre><code>id,width,height,quantity,label,material,thickness,allow_rotate,notes\ndoor_1,24,30,2,Cabinet Door,Maple,0.75,1,Raised panel style\nshelf_1,23,12,4,Shelf,Birch,0.75,0,Adjustable shelf pins\n</code></pre> <p>Column Descriptions: - id: Unique identifier (required) - width: Part width in current units (required) - height: Part height in current units (required) - quantity: Number of identical parts (default: 1) - label: Descriptive name for shop use - material: Wood species or material type - thickness: Material thickness (for reference) - allow_rotate: Use 1/true/yes to allow 90\u00b0 rotations - notes: Additional manufacturing notes</p>"},{"location":"examples/csv-examples/traditional-workflow-samples/#units-and-formatting","title":"Units and Formatting","text":"<p>Imperial Format:</p> <pre><code>id,width,height,label\ndoor,24,30,Cabinet Door\nshelf,23.5,12,Shelf\nrail,32.25,2,Face Frame Rail\n</code></pre> <p>Metric Format:</p> <pre><code>id,width,height,label\ndoor,610,762,Cabinet Door\nshelf,597,305,Shelf\nrail,819,51,Face Frame Rail\n</code></pre> <p>Fractional Inches (if supported):</p> <pre><code>id,width,height,label\ndoor,24,30,Cabinet Door\nshelf,23 1/2,12,Shelf\nrail,32 1/4,2,Face Frame Rail\n</code></pre>"},{"location":"examples/csv-examples/traditional-workflow-samples/#common-issues-and-solutions","title":"Common Issues and Solutions","text":""},{"location":"examples/csv-examples/traditional-workflow-samples/#issue-1-parts-dont-fit","title":"Issue 1: Parts Don't Fit","text":"<p>Symptoms: - Some parts marked as \"unplaced\" - Warning messages about sheet size - Poor utilization with large waste areas</p> <p>Solutions:</p> <pre><code>1. Check sheet size settings\n   - Verify width/height are correct\n   - Try larger standard sizes (5'\u00d710')\n\n2. Reduce margins if appropriate\n   - Decrease kerf width if using thinner blade\n   - Reduce gap for more precise cutting methods\n\n3. Split into multiple sheets\n   - Group similar-sized parts\n   - Prioritize critical parts for first sheet\n</code></pre>"},{"location":"examples/csv-examples/traditional-workflow-samples/#issue-2-poor-material-utilization","title":"Issue 2: Poor Material Utilization","text":"<p>Symptoms: - Utilization below 70% - Large unused areas on sheet - Inefficient part arrangement</p> <p>Solutions:</p> <pre><code>1. Optimize part mix\n   - Add smaller parts to fill gaps\n   - Remove oversized parts for separate cutting\n\n2. Try different sheet orientations\n   - Rotate sheet dimensions (48\u00d796 vs 96\u00d748)\n   - Consider non-standard sheet sizes\n\n3. Adjust cutting parameters\n   - Reduce margins if cutting method allows\n   - Use thinner kerf blade if available\n</code></pre>"},{"location":"examples/csv-examples/traditional-workflow-samples/#issue-3-csv-import-errors","title":"Issue 3: CSV Import Errors","text":"<p>Symptoms: - \"File format error\" messages - Missing parts after import - Incorrect dimensions displayed</p> <p>Solutions:</p> <pre><code>1. Check CSV format\n   - Ensure comma separation (not semicolon)\n   - Verify column headers match expected format\n   - Remove extra spaces or special characters\n\n2. Verify units consistency\n   - All dimensions in same units (inches or mm)\n   - CSV units setting matches file content\n\n3. Validate data\n   - No negative dimensions\n   - Reasonable part sizes for material\n   - Quantities are positive integers\n</code></pre>"},{"location":"examples/csv-examples/traditional-workflow-samples/#performance-optimization","title":"Performance Optimization","text":""},{"location":"examples/csv-examples/traditional-workflow-samples/#for-large-part-counts-500-parts","title":"For Large Part Counts (500+ parts)","text":"<p>Strategies: 1. Batch Processing    - Process in groups of 100-200 parts    - Separate by size categories    - Use multiple sheets as needed</p> <ol> <li>Simplify Data</li> <li>Remove unnecessary columns</li> <li>Round dimensions to reasonable precision</li> <li> <p>Combine identical parts with quantities</p> </li> <li> <p>System Optimization</p> </li> <li>Close other applications</li> <li>Use SSD storage for better I/O</li> <li>Ensure adequate RAM (8GB+ recommended)</li> </ol>"},{"location":"examples/csv-examples/traditional-workflow-samples/#for-complex-projects","title":"For Complex Projects","text":"<p>Approaches: 1. Hierarchical Planning    - Separate by material type/thickness    - Group by cutting method requirements    - Prioritize by project timeline</p> <ol> <li>Iterative Refinement</li> <li>Start with rough layout</li> <li>Refine margins and kerf settings</li> <li>Optimize sheet sizes based on results</li> </ol>"},{"location":"examples/csv-examples/traditional-workflow-samples/#quality-control-checklist","title":"Quality Control Checklist","text":""},{"location":"examples/csv-examples/traditional-workflow-samples/#pre-nesting-validation","title":"Pre-Nesting Validation","text":"<ul> <li>[ ] CSV file opens correctly in spreadsheet software</li> <li>[ ] All required columns present (id, width, height)</li> <li>[ ] Dimensions are reasonable for material type</li> <li>[ ] Quantities are positive integers</li> <li>[ ] No duplicate part IDs (unless intentional)</li> <li>[ ] Units are consistent throughout file</li> </ul>"},{"location":"examples/csv-examples/traditional-workflow-samples/#post-nesting-validation","title":"Post-Nesting Validation","text":"<ul> <li>[ ] All parts placed within sheet boundaries</li> <li>[ ] No overlapping parts visible</li> <li>[ ] Utilization meets project targets (&gt;70%)</li> <li>[ ] Cutting sequence is practical</li> <li>[ ] Export files are dimensionally accurate</li> </ul>"},{"location":"examples/csv-examples/traditional-workflow-samples/#production-readiness","title":"Production Readiness","text":"<ul> <li>[ ] Material quantities calculated and ordered</li> <li>[ ] Cutting sequence planned and documented</li> <li>[ ] Tool setup requirements identified</li> <li>[ ] Quality control measures established</li> <li>[ ] Backup plans for material shortages</li> </ul>"},{"location":"examples/csv-examples/traditional-workflow-samples/#files-included","title":"Files Included","text":"<p>This example collection includes:</p> <p>CSV Files: - <code>kitchen_cabinet_basic.csv</code> - Basic kitchen cabinet parts - <code>bookshelf_project.csv</code> - Traditional bookshelf components - <code>workshop_storage.csv</code> - Multi-thickness storage cabinet - <code>production_run_example.csv</code> - Large quantity production example</p> <p>Documentation: - <code>csv_format_guide.md</code> - Detailed CSV formatting guidelines - <code>troubleshooting_guide.md</code> - Common issues and solutions - <code>optimization_tips.md</code> - Performance and efficiency tips</p> <p>Templates: - <code>project_template.csv</code> - Blank template with all columns - <code>simple_template.csv</code> - Minimal required columns only - <code>production_template.csv</code> - Extended format for production use</p>"},{"location":"examples/csv-examples/traditional-workflow-samples/#next-steps","title":"Next Steps","text":"<p>After working through these examples:</p> <ol> <li>Try Shape-Based Nesting: Explore Cabinet Maker Workflow</li> <li>Advanced Features: Learn about Performance Optimization</li> <li>Custom Workflows: Develop your own project templates</li> <li>Integration: Combine CSV and shape-based approaches</li> </ol> <p>These examples demonstrate traditional CSV-based workflows in SquatchCut. For advanced shape-based nesting, see the Shape-Based Nesting Guide.</p>"},{"location":"examples/performance-benchmarks/complexity-test-suite/","title":"Shape-Based Nesting Performance Benchmarks","text":"<p>Test Suite for Performance Validation and Optimization</p>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#overview","title":"Overview","text":"<p>This benchmark suite provides standardized tests for evaluating SquatchCut's shape-based nesting performance across different complexity levels, part counts, and system configurations.</p>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#test-categories","title":"Test Categories","text":""},{"location":"examples/performance-benchmarks/complexity-test-suite/#1-complexity-scaling-tests","title":"1. Complexity Scaling Tests","text":"<p>Purpose: Measure performance impact of increasing shape complexity</p>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#test-11-vertex-count-scaling","title":"Test 1.1: Vertex Count Scaling","text":"<pre><code>Test Parts: Single shape with varying vertex counts\nVertex Counts: 4, 10, 25, 50, 100, 250, 500, 1000\nSheet Size: 1220\u00d72440mm\nExpected Results:\n- 4-25 vertices: &lt; 1 second processing\n- 50-100 vertices: 1-5 seconds processing\n- 250-500 vertices: 5-30 seconds processing\n- 1000+ vertices: Automatic simplification triggered\n</code></pre>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#test-12-shape-type-performance","title":"Test 1.2: Shape Type Performance","text":"<pre><code>Test Shapes:\n- Rectangle: 4 vertices (baseline)\n- Hexagon: 6 vertices\n- Circle (approximated): 24 vertices\n- Complex curve: 100 vertices\n- Highly detailed: 500+ verti\nics:\n- Processing time per shape type\n- Memory usage scaling\n- Accuracy vs performance trade-offs\n</code></pre>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#2-part-count-scaling-tests","title":"2. Part Count Scaling Tests","text":"<p>Purpose: Evaluate performance with increasing numbers of parts</p>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#test-21-rectangular-parts-scaling","title":"Test 2.1: Rectangular Parts Scaling","text":"<pre><code>Part Counts: 10, 50, 100, 500, 1000, 2000\nPart Type: Simple rectangles (2\u00d74 ratio)\nSheet Size: 2440\u00d71220mm\nExpected Performance:\n- 10 parts: &lt; 0.1 seconds\n- 100 parts: &lt; 1 second\n- 1000 parts: &lt; 10 seconds\n- 2000 parts: &lt; 30 seconds\n</code></pre>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#test-22-complex-parts-scaling","title":"Test 2.2: Complex Parts Scaling","text":"<pre><code>Part Counts: 5, 10, 25, 50, 100\nPart Type: 50-vertex polygons\nSheet Size: 2440\u00d71220mm\nExpected Performance:\n- 5 parts: &lt; 2 seconds\n- 10 parts: &lt; 10 seconds\n- 25 parts: &lt; 60 seconds\n- 50+ parts: May require batching\n</code></pre>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#3-memory-usage-tests","title":"3. Memory Usage Tests","text":"<p>Purpose: Validate memory efficiency and identify limits</p>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#test-31-memory-scaling","title":"Test 3.1: Memory Scaling","text":"<pre><code>Test Scenario: Increasing part complexity and count\nMonitor: Peak memory usage, memory leaks\nLimits:\n- Warning threshold: 512MB\n- Critical threshold: 1GB\n- Maximum recommended: 2GB\n</code></pre>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#test-32-memory-stress-test","title":"Test 3.2: Memory Stress Test","text":"<pre><code>Scenario: Maximum realistic workload\nParts: 1000 rectangular + 100 complex shapes\nDuration: 10 minutes continuous processing\nSuccess Criteria: No memory leaks, stable performance\n</code></pre>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#4-algorithm-performance-tests","title":"4. Algorithm Performance Tests","text":"<p>Purpose: Compare different nesting algorithms and modes</p>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#test-41-mode-comparison","title":"Test 4.1: Mode Comparison","text":"<pre><code>Test Data: Mixed complexity parts (25 rectangular, 10 complex)\nModes Tested:\n- Rectangular Mode: Force all parts as rectangles\n- Geometric Mode: Full geometric processing\n- Hybrid Mode: Automatic selection\n- Auto Mode: System chooses optimal\n\nMetrics:\n- Processing time\n- Material utilization\n- Accuracy (overlap detection)\n</code></pre>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#test-42-optimization-effectiveness","title":"Test 4.2: Optimization Effectiveness","text":"<pre><code>Test Scenarios:\n- No optimization: Raw geometric processing\n- Light optimization: Basic simplification\n- Aggressive optimization: Maximum simplification\n- Automatic optimization: System-managed\n\nSuccess Criteria:\n- &lt; 20% performance degradation with optimization\n- Maintained accuracy for critical features\n- Graceful fallback behavior\n</code></pre>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#benchmark-test-files","title":"Benchmark Test Files","text":""},{"location":"examples/performance-benchmarks/complexity-test-suite/#simple-complexity-tests","title":"Simple Complexity Tests","text":""},{"location":"examples/performance-benchmarks/complexity-test-suite/#benchmark_simple_rectanglespy","title":"benchmark_simple_rectangles.py","text":"<pre><code>\"\"\"\nBenchmark: Simple rectangular parts\nPurpose: Baseline performance measurement\nParts: 100 rectangles, various sizes\nExpected: Sub-second processing\n\"\"\"\n\nimport time\nfrom SquatchCut.core.complex_geometry import create_rectangular_geometry\nfrom SquatchCut.core.geometry_nesting_engine import GeometryNestingEngine, SheetGeometry, NestingMode\n\ndef benchmark_simple_rectangles():\n    # Create test parts\n    parts = []\n    for i in range(100):\n        width = 100 + (i % 50) * 10  # 100-590mm widths\n        height = 200 + (i % 30) * 15  # 200-635mm heights\n        part = create_rectangular_geometry(f\"rect_{i}\", width, height)\n        parts.append(part)\n\n    # Setup nesting\n    sheet = SheetGeometry(width=2440, height=1220, margin=5)\n    engine = GeometryNestingEngine()\n\n    # Benchmark nesting\n    start_time = time.time()\n    result = engine.nest_complex_shapes(parts, sheet, NestingMode.RECTANGULAR)\n    end_time = time.time()\n\n    # Report results\n    processing_time = end_time - start_time\n    utilization = result.utilization_percent\n\n    print(f\"Simple Rectangles Benchmark:\")\n    print(f\"  Parts: {len(parts)}\")\n    print(f\"  Processing Time: {processing_time:.3f}s\")\n    print(f\"  Utilization: {utilization:.1f}%\")\n    print(f\"  Parts Placed: {len(result.placed_geometries)}\")\n\n    # Performance assertions\n    assert processing_time &lt; 1.0, f\"Processing too slow: {processing_time}s\"\n    assert utilization &gt; 60, f\"Poor utilization: {utilization}%\"\n    assert len(result.placed_geometries) &gt; 80, \"Too few parts placed\"\n\n    return {\n        'processing_time': processing_time,\n        'utilization': utilization,\n        'parts_placed': len(result.placed_geometries)\n    }\n\nif __name__ == \"__main__\":\n    benchmark_simple_rectangles()\n</code></pre>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#benchmark_complex_shapespy","title":"benchmark_complex_shapes.py","text":"<pre><code>\"\"\"\nBenchmark: Complex geometric shapes\nPurpose: Measure geometric nesting performance\nParts: 25 complex polygons\nExpected: 10-30 second processing\n\"\"\"\n\nimport time\nimport math\nfrom SquatchCut.core.complex_geometry import ComplexGeometry, ComplexityLevel, GeometryType\nfrom SquatchCut.core.geometry_nesting_engine import GeometryNestingEngine, SheetGeometry, NestingMode\n\ndef create_complex_polygon(id_str, center_x, center_y, radius, vertices):\n    \"\"\"Create a complex polygon for testing.\"\"\"\n    contour = []\n    for i in range(vertices):\n        angle = 2 * math.pi * i / vertices\n        x = center_x + radius * math.cos(angle)\n        y = center_y + radius * math.sin(angle)\n        contour.append((x, y))\n    contour.append(contour[0])  # Close contour\n\n    # Calculate bounding box\n    min_x = min(p[0] for p in contour)\n    min_y = min(p[1] for p in contour)\n    max_x = max(p[0] for p in contour)\n    max_y = max(p[1] for p in contour)\n\n    # Approximate area\n    area = math.pi * radius * radius\n\n    return ComplexGeometry(\n        id=id_str,\n        contour_points=contour,\n        bounding_box=(min_x, min_y, max_x, max_y),\n        area=area,\n        complexity_level=ComplexityLevel.MEDIUM,\n        rotation_allowed=True,\n        geometry_type=GeometryType.COMPLEX\n    )\n\ndef benchmark_complex_shapes():\n    # Create test parts with varying complexity\n    parts = []\n    for i in range(25):\n        vertices = 8 + (i % 20)  # 8-27 vertices\n        radius = 50 + (i % 10) * 20  # 50-250mm radius\n        part = create_complex_polygon(f\"complex_{i}\", 0, 0, radius, vertices)\n        parts.append(part)\n\n    # Setup nesting\n    sheet = SheetGeometry(width=2440, height=1220, margin=10)\n    engine = GeometryNestingEngine()\n\n    # Benchmark nesting\n    start_time = time.time()\n    result = engine.nest_complex_shapes(parts, sheet, NestingMode.GEOMETRIC)\n    end_time = time.time()\n\n    # Report results\n    processing_time = end_time - start_time\n    utilization = result.utilization_percent\n\n    print(f\"Complex Shapes Benchmark:\")\n    print(f\"  Parts: {len(parts)}\")\n    print(f\"  Processing Time: {processing_time:.3f}s\")\n    print(f\"  Utilization: {utilization:.1f}%\")\n    print(f\"  Parts Placed: {len(result.placed_geometries)}\")\n\n    # Performance assertions\n    assert processing_time &lt; 60.0, f\"Processing too slow: {processing_time}s\"\n    assert utilization &gt; 50, f\"Poor utilization: {utilization}%\"\n    assert len(result.placed_geometries) &gt; 15, \"Too few parts placed\"\n\n    return {\n        'processing_time': processing_time,\n        'utilization': utilization,\n        'parts_placed': len(result.placed_geometries)\n    }\n\nif __name__ == \"__main__\":\n    benchmark_complex_shapes()\n</code></pre>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#memory-usage-tests","title":"Memory Usage Tests","text":""},{"location":"examples/performance-benchmarks/complexity-test-suite/#benchmark_memory_usagepy","title":"benchmark_memory_usage.py","text":"<pre><code>\"\"\"\nBenchmark: Memory usage monitoring\nPurpose: Track memory consumption patterns\nFocus: Memory leaks, peak usage, efficiency\n\"\"\"\n\nimport psutil\nimport os\nimport time\nfrom SquatchCut.core.complex_geometry import create_rectangular_geometry\nfrom SquatchCut.core.geometry_nesting_engine import GeometryNestingEngine, SheetGeometry, NestingMode\n\ndef get_memory_usage():\n    \"\"\"Get current memory usage in MB.\"\"\"\n    process = psutil.Process(os.getpid())\n    return process.memory_info().rss / 1024 / 1024\n\ndef benchmark_memory_usage():\n    initial_memory = get_memory_usage()\n    peak_memory = initial_memory\n\n    print(f\"Memory Usage Benchmark:\")\n    print(f\"  Initial Memory: {initial_memory:.1f}MB\")\n\n    # Test with increasing part counts\n    for part_count in [100, 500, 1000, 2000]:\n        print(f\"\\n  Testing {part_count} parts...\")\n\n        # Create parts\n        parts = []\n        for i in range(part_count):\n            width = 100 + (i % 100) * 5\n            height = 200 + (i % 50) * 10\n            part = create_rectangular_geometry(f\"part_{i}\", width, height)\n            parts.append(part)\n\n        current_memory = get_memory_usage()\n        print(f\"    After creating parts: {current_memory:.1f}MB\")\n\n        # Run nesting\n        sheet = SheetGeometry(width=2440, height=1220, margin=5)\n        engine = GeometryNestingEngine()\n\n        start_time = time.time()\n        result = engine.nest_complex_shapes(parts, sheet, NestingMode.RECTANGULAR)\n        end_time = time.time()\n\n        current_memory = get_memory_usage()\n        peak_memory = max(peak_memory, current_memory)\n\n        print(f\"    After nesting: {current_memory:.1f}MB\")\n        print(f\"    Processing time: {end_time - start_time:.3f}s\")\n        print(f\"    Utilization: {result.utilization_percent:.1f}%\")\n\n        # Clean up\n        del parts\n        del result\n\n        # Force garbage collection\n        import gc\n        gc.collect()\n\n        final_memory = get_memory_usage()\n        print(f\"    After cleanup: {final_memory:.1f}MB\")\n\n    print(f\"\\n  Peak Memory Usage: {peak_memory:.1f}MB\")\n    print(f\"  Memory Increase: {peak_memory - initial_memory:.1f}MB\")\n\n    # Memory usage assertions\n    assert peak_memory &lt; 1024, f\"Excessive memory usage: {peak_memory}MB\"\n    assert (peak_memory - initial_memory) &lt; 512, \"Potential memory leak detected\"\n\n    return {\n        'initial_memory': initial_memory,\n        'peak_memory': peak_memory,\n        'memory_increase': peak_memory - initial_memory\n    }\n\nif __name__ == \"__main__\":\n    benchmark_memory_usage()\n</code></pre>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#performance-targets","title":"Performance Targets","text":""},{"location":"examples/performance-benchmarks/complexity-test-suite/#processing-time-targets","title":"Processing Time Targets","text":"Part Count Complexity Target Time Maximum Time 10 Simple &lt; 0.1s 0.5s 100 Simple &lt; 1s 5s 1000 Simple &lt; 10s 30s 10 Complex &lt; 5s 15s 50 Complex &lt; 30s 120s 100 Complex &lt; 120s 300s"},{"location":"examples/performance-benchmarks/complexity-test-suite/#memory-usage-targets","title":"Memory Usage Targets","text":"Scenario Target Memory Maximum Memory 100 simple parts &lt; 50MB 100MB 1000 simple parts &lt; 200MB 500MB 50 complex parts &lt; 300MB 800MB Mixed workload &lt; 400MB 1GB"},{"location":"examples/performance-benchmarks/complexity-test-suite/#utilization-targets","title":"Utilization Targets","text":"Part Type Target Utilization Minimum Acceptable Rectangles only &gt; 80% 70% Mixed complexity &gt; 75% 65% Complex shapes &gt; 70% 60% Highly complex &gt; 65% 55%"},{"location":"examples/performance-benchmarks/complexity-test-suite/#running-the-benchmark-suite","title":"Running the Benchmark Suite","text":""},{"location":"examples/performance-benchmarks/complexity-test-suite/#prerequisites","title":"Prerequisites","text":"<pre><code># Install required packages\npip install psutil memory-profiler\n\n# Set environment variables for testing\nexport SQUATCHCUT_BENCHMARK_MODE=1\nexport SQUATCHCUT_DEBUG_PERFORMANCE=1\n</code></pre>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#execution","title":"Execution","text":"<pre><code># Run individual benchmarks\npython benchmark_simple_rectangles.py\npython benchmark_complex_shapes.py\npython benchmark_memory_usage.py\n\n# Run complete suite\npython run_all_benchmarks.py\n\n# Generate performance report\npython generate_performance_report.py\n</code></pre>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#automated-testing","title":"Automated Testing","text":"<pre><code># benchmark_runner.py\n\"\"\"\nAutomated benchmark runner for CI/CD integration\n\"\"\"\n\nimport subprocess\nimport json\nimport time\nfrom datetime import datetime\n\ndef run_benchmark_suite():\n    \"\"\"Run all benchmarks and collect results.\"\"\"\n    results = {\n        'timestamp': datetime.now().isoformat(),\n        'benchmarks': {}\n    }\n\n    benchmarks = [\n        'benchmark_simple_rectangles.py',\n        'benchmark_complex_shapes.py',\n        'benchmark_memory_usage.py'\n    ]\n\n    for benchmark in benchmarks:\n        print(f\"Running {benchmark}...\")\n        try:\n            start_time = time.time()\n            result = subprocess.run(['python', benchmark],\n                                  capture_output=True, text=True, timeout=600)\n            end_time = time.time()\n\n            if result.returncode == 0:\n                results['benchmarks'][benchmark] = {\n                    'status': 'passed',\n                    'execution_time': end_time - start_time,\n                    'output': result.stdout\n                }\n            else:\n                results['benchmarks'][benchmark] = {\n                    'status': 'failed',\n                    'error': result.stderr,\n                    'output': result.stdout\n                }\n        except subprocess.TimeoutExpired:\n            results['benchmarks'][benchmark] = {\n                'status': 'timeout',\n                'error': 'Benchmark exceeded 10 minute timeout'\n            }\n\n    # Save results\n    with open('benchmark_results.json', 'w') as f:\n        json.dump(results, f, indent=2)\n\n    return results\n\nif __name__ == \"__main__\":\n    results = run_benchmark_suite()\n\n    # Print summary\n    passed = sum(1 for r in results['benchmarks'].values() if r['status'] == 'passed')\n    total = len(results['benchmarks'])\n\n    print(f\"\\nBenchmark Summary: {passed}/{total} passed\")\n\n    if passed == total:\n        print(\"All benchmarks passed!\")\n        exit(0)\n    else:\n        print(\"Some benchmarks failed!\")\n        exit(1)\n</code></pre>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#performance-regression-testing","title":"Performance Regression Testing","text":""},{"location":"examples/performance-benchmarks/complexity-test-suite/#continuous-integration","title":"Continuous Integration","text":"<pre><code># .github/workflows/performance-tests.yml\nname: Performance Benchmarks\n\non:\n  push:\n    branches: [ main, develop ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n  performance:\n    runs-on: ubuntu-latest\n\n    steps:\n    - uses: actions/checkout@v2\n\n    - name: Set up Python\n      uses: actions/setup-python@v2\n      with:\n        python-version: 3.9\n\n    - name: Install dependencies\n      run: |\n        pip install -r requirements-dev.txt\n        pip install psutil memory-profiler\n\n    - name: Run performance benchmarks\n      run: |\n        cd docs/examples/performance-benchmarks\n        python benchmark_runner.py\n\n    - name: Upload benchmark results\n      uses: actions/upload-artifact@v2\n      with:\n        name: benchmark-results\n        path: benchmark_results.json\n\n    - name: Performance regression check\n      run: |\n        python check_performance_regression.py\n</code></pre>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#regression-detection","title":"Regression Detection","text":"<pre><code># check_performance_regression.py\n\"\"\"\nCheck for performance regressions against baseline\n\"\"\"\n\nimport json\nimport sys\n\ndef check_regression():\n    # Load current results\n    with open('benchmark_results.json', 'r') as f:\n        current = json.load(f)\n\n    # Load baseline (if exists)\n    try:\n        with open('baseline_performance.json', 'r') as f:\n            baseline = json.load(f)\n    except FileNotFoundError:\n        print(\"No baseline found, creating new baseline\")\n        with open('baseline_performance.json', 'w') as f:\n            json.dump(current, f, indent=2)\n        return True\n\n    # Check for regressions\n    regressions = []\n\n    for benchmark_name in current['benchmarks']:\n        if benchmark_name not in baseline['benchmarks']:\n            continue\n\n        current_time = current['benchmarks'][benchmark_name].get('execution_time', 0)\n        baseline_time = baseline['benchmarks'][benchmark_name].get('execution_time', 0)\n\n        if baseline_time &gt; 0:\n            regression_percent = ((current_time - baseline_time) / baseline_time) * 100\n\n            if regression_percent &gt; 20:  # 20% regression threshold\n                regressions.append({\n                    'benchmark': benchmark_name,\n                    'baseline_time': baseline_time,\n                    'current_time': current_time,\n                    'regression_percent': regression_percent\n                })\n\n    if regressions:\n        print(\"Performance regressions detected:\")\n        for reg in regressions:\n            print(f\"  {reg['benchmark']}: {reg['regression_percent']:.1f}% slower\")\n            print(f\"    Baseline: {reg['baseline_time']:.3f}s\")\n            print(f\"    Current:  {reg['current_time']:.3f}s\")\n        return False\n    else:\n        print(\"No performance regressions detected\")\n        return True\n\nif __name__ == \"__main__\":\n    if not check_regression():\n        sys.exit(1)\n</code></pre>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#system-requirements","title":"System Requirements","text":""},{"location":"examples/performance-benchmarks/complexity-test-suite/#minimum-requirements","title":"Minimum Requirements","text":"<ul> <li>CPU: 2 cores, 2.0 GHz</li> <li>RAM: 4GB available</li> <li>Storage: 1GB free space</li> <li>Python: 3.8+</li> </ul>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#recommended-requirements","title":"Recommended Requirements","text":"<ul> <li>CPU: 4+ cores, 3.0+ GHz</li> <li>RAM: 8GB+ available</li> <li>Storage: 5GB+ free space (for large test files)</li> <li>Python: 3.9+</li> </ul>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#high-performance-requirements","title":"High-Performance Requirements","text":"<ul> <li>CPU: 8+ cores, 3.5+ GHz</li> <li>RAM: 16GB+ available</li> <li>Storage: SSD with 10GB+ free space</li> <li>Python: 3.10+</li> </ul>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#interpreting-results","title":"Interpreting Results","text":""},{"location":"examples/performance-benchmarks/complexity-test-suite/#performance-analysis","title":"Performance Analysis","text":"<p>Good Performance Indicators: - Processing time scales linearly with part count - Memory usage remains stable across runs - Utilization consistently above targets - No timeout errors or crashes</p> <p>Performance Warning Signs: - Exponential time scaling with complexity - Memory usage continuously increasing - Frequent fallback to simplified modes - Utilization below minimum thresholds</p> <p>Critical Performance Issues: - Timeouts or crashes during processing - Memory usage exceeding system limits - Complete failure to place parts - Severe performance degradation over time</p>"},{"location":"examples/performance-benchmarks/complexity-test-suite/#optimization-recommendations","title":"Optimization Recommendations","text":"<p>For Slow Processing: 1. Enable automatic simplification 2. Use hybrid nesting mode 3. Process in smaller batches 4. Upgrade hardware if needed</p> <p>For High Memory Usage: 1. Reduce part complexity 2. Process fewer parts simultaneously 3. Enable garbage collection 4. Check for memory leaks</p> <p>For Poor Utilization: 1. Adjust sheet sizes 2. Reduce margins and kerf 3. Group compatible parts 4. Try different nesting modes</p> <p>This benchmark suite provides comprehensive performance validation for SquatchCut v3.4+ shape-based nesting features.</p>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>FreeCAD 0.21+ (current stable release)</li> <li>Python (only if you plan to run the pytest suite)</li> <li>Node.js and npm (only if you want to build/use ts-tools)</li> </ul>"},{"location":"getting-started/installation/#install-via-freecad-add-on-manager-recommended","title":"Install via FreeCAD Add-on Manager (recommended)","text":"<ol> <li>Open FreeCAD.</li> <li>Go to Tools \u2192 Add-on Manager \u2192 Install from ZIP.</li> <li>Select the SquatchCut ZIP you received or downloaded.</li> <li>Restart FreeCAD.</li> <li>Choose SquatchCut from the Workbench dropdown.</li> </ol>"},{"location":"getting-started/installation/#developer-checkout-optional","title":"Developer checkout (optional)","text":"<p>If you need a live checkout instead of a ZIP: 1. Clone this repository into FreeCAD's Mod directory:    - Linux/macOS: <code>~/.local/share/FreeCAD/Mod/</code>    - Windows: <code>%APPDATA%\\\\FreeCAD\\\\Mod\\\\</code> 2. Restart FreeCAD. 3. Choose SquatchCut from the Workbench dropdown.</p>"},{"location":"getting-started/installation/#installing-ts-tools-optional-helper-for-csv-validation","title":"Installing ts-tools (optional helper for CSV validation)","text":"<pre><code>cd ts-tools\nnpm install\nnpm run build\n</code></pre>"},{"location":"getting-started/workflow/","title":"Basic Workflow","text":""},{"location":"getting-started/workflow/#typical-steps","title":"Typical Steps","text":"<ol> <li>Add shapes from the document or import a CSV panel list.</li> <li>Set sheet size and kerf.</li> <li>Run nesting.</li> <li>Inspect the generated layout in FreeCAD.</li> <li>Export reports (PDF/CSV).</li> </ol>"},{"location":"getting-started/workflow/#quickstart","title":"Quickstart","text":"<ol> <li>Open a document with rectangles (or import a CSV).</li> <li>Click Sheet Size and confirm dimensions/kerf.</li> <li>Click Run Nesting to generate sheet layouts.</li> <li>Check the created sheet groups and panel rectangles.</li> <li>Click Export Report to produce PDF/CSV outputs.</li> </ol>"},{"location":"lessons/squatchcut_lessons_learned/","title":"SquatchCut Lessons Learned","text":""},{"location":"lessons/squatchcut_lessons_learned/#squatchcut-lessons-learned","title":"SquatchCut Lessons Learned","text":"<p>This document summarizes the key technical and process insights gained while building and evolving the SquatchCut FreeCAD add-on using an agentic LLM coding model under structured architectural guidance.</p> <p>SquatchCut serves as a practical case study in AI-assisted engineering, demonstrating repeatable patterns for FreeCAD plugin development, unit-handling design, and multi-agent collaboration between human roles and AI systems.</p>"},{"location":"lessons/squatchcut_lessons_learned/#1-use-explicit-unambiguous-requirements","title":"1. Use Explicit, Unambiguous Requirements","text":"<p>LLM coding agents rely on probabilistic inference. Any ambiguity in requirements increases the risk of architectural drift and unintended behavior.</p>"},{"location":"lessons/squatchcut_lessons_learned/#key-practices","title":"Key Practices","text":"<ul> <li>Use strict, structured instruction blocks for the coding agent.  </li> <li>Always specify file paths and target modules explicitly.  </li> <li>Describe expected behavior, including edge cases, not just \u201cwhat to change.\u201d  </li> <li>Include acceptance criteria for success and failure.  </li> <li>Avoid implied behavior\u2014if it matters, write it down.</li> </ul>"},{"location":"lessons/squatchcut_lessons_learned/#2-architect-before-you-automate","title":"2. Architect Before You Automate","text":"<p>AI models do not design architecture; they follow it.</p>"},{"location":"lessons/squatchcut_lessons_learned/#best-practices","title":"Best Practices","text":"<ul> <li>Define a clear hydration lifecycle (load state, normalize, then render UI).  </li> <li>Choose a single internal unit system (millimeters in SquatchCut) and keep it consistent.  </li> <li>Separate persisted defaults, selectable presets, and active runtime values.  </li> <li>Define how UI components map to internal state before asking an AI to modify them.  </li> <li>Document invariants: behavior that must never change without explicit approval.</li> </ul> <p>When architecture is explicit, AI becomes an accelerator instead of a source of silent redesigns.</p>"},{"location":"lessons/squatchcut_lessons_learned/#3-treat-unit-handling-as-a-high-risk-component","title":"3. Treat Unit Handling as a High-Risk Component","text":"<p>Mixed measurement systems (metric and imperial) introduce complexity across storage, computation, and display layers.</p> <p>In SquatchCut, the following conventions proved effective:</p>"},{"location":"lessons/squatchcut_lessons_learned/#effective-architecture","title":"Effective Architecture","text":"<ul> <li>Internal units are always millimeters.  </li> <li>Display units (metric vs imperial) are a formatting concern only.  </li> <li>Defaults are not auto-converted between systems behind the scenes.  </li> <li>Presets never overwrite defaults silently.  </li> <li>Switching measurement systems triggers full UI rehydration.  </li> <li>Fractional inches must round-trip without drift or loss of precision.</li> </ul> <p>Unit logic should be treated as a first-class architectural concern, especially when AI is allowed to modify related code.</p>"},{"location":"lessons/squatchcut_lessons_learned/#4-use-tests-to-constrain-ai-behavior","title":"4. Use Tests to Constrain AI Behavior","text":"<p>Tests in this context do more than validate correctness\u2014they constrain the possible behaviors of the coding agent.</p>"},{"location":"lessons/squatchcut_lessons_learned/#required-test-areas","title":"Required Test Areas","text":"<ul> <li>Hydration lifecycle: order, idempotence, and determinism.  </li> <li>Measurement conversion: metric to imperial and back, including edge cases.  </li> <li>UI initialization: correct default and active values.  </li> <li>Default vs preset behavior: interactions and override boundaries.  </li> <li>FreeCAD object creation and grouping: stable naming and arrangement.</li> </ul> <p>With sufficient test coverage, AI-generated changes are less likely to unintentionally alter established behavior.</p>"},{"location":"lessons/squatchcut_lessons_learned/#5-adopt-a-three-layer-collaboration-model","title":"5. Adopt a Three-Layer Collaboration Model","text":"<p>The SquatchCut workflow naturally evolved into a three-layer structure that scales well:</p> <ol> <li>Product Owner (Human) </li> <li>Defines intent, priorities, and requirements.  </li> <li>Provides domain and user-level context.  </li> <li> <p>Validates whether the resulting behavior matches real-world needs.</p> </li> <li> <p>Architect AI (GPT) </p> </li> <li>Converts intent into deterministic implementation directives.  </li> <li>Enforces architectural patterns and invariants.  </li> <li>Maintains consistency across modules and features.  </li> <li> <p>Specifies what the coding agent may and may not change.</p> </li> <li> <p>Coding Agent (AI worker such as Codex/Jules/others) </p> </li> <li>Writes and edits the actual code.  </li> <li>Implements the instructions verbatim.  </li> <li>Does not redesign architecture or introduce new patterns on its own.</li> </ol> <p>This separation of roles reduces confusion and supports scaled-agile practices where Product Owners, architects, and implementers remain clearly distinguished\u2014even when some of those roles are AI.</p>"},{"location":"lessons/squatchcut_lessons_learned/#6-preserve-determinism-in-ui-and-initialization","title":"6. Preserve Determinism in UI and Initialization","text":"<p>AI-generated modifications can introduce non-deterministic or order-dependent behavior unless initialization rules are clearly defined and enforced.</p>"},{"location":"lessons/squatchcut_lessons_learned/#required-behaviors","title":"Required Behaviors","text":"<ul> <li>Hydration runs before UI elements are created.  </li> <li>UI widgets are populated from hydrated, normalized state\u2014not raw persistence.  </li> <li>The UI does not auto-select presets without explicit user action.  </li> <li>Default values are not overwritten by presets or transient state.  </li> <li>FreeCAD objects use consistent naming and grouping conventions.</li> </ul> <p>Deterministic initialization makes future AI-driven changes safer and easier to validate.</p>"},{"location":"lessons/squatchcut_lessons_learned/#7-document-patterns-rules-and-standards","title":"7. Document Patterns, Rules, and Standards","text":"<p>Patterns drift over time unless documented and reinforced.</p> <p>The SquatchCut project uses a dedicated guide to codify:</p> <ul> <li>measurement architecture and unit rules  </li> <li>UI lifecycle and panel behavior  </li> <li>testing expectations for logic changes  </li> <li>AI worker instruction formatting and reasoning levels  </li> <li>FreeCAD object naming and grouping standards  </li> </ul> <p>By centralizing these rules, every subsequent AI interaction can reference them, reducing the risk of regressions or architectural fragmentation.</p>"},{"location":"lessons/squatchcut_lessons_learned/#8-integrate-ai-into-scaled-agile-not-the-other-way-around","title":"8. Integrate AI Into Scaled Agile, Not the Other Way Around","text":"<p>The SquatchCut experience supports several conclusions relevant to scaled-agile product management:</p> <ul> <li>AI should plug into existing roles and workflows, not replace them.  </li> <li>Product Owners still own value, direction, and prioritization.  </li> <li>Architecture (whether human-driven or AI-assisted) must remain explicit and stable.  </li> <li>Coding agents are best treated as powerful executors operating within predefined constraints.  </li> <li>Backlogs should reflect both functional stories and architectural guardrails.</li> </ul> <p>When AI is treated as an integrated part of the agile ecosystem, it reinforces discipline instead of eroding it.</p>"},{"location":"lessons/squatchcut_lessons_learned/#conclusion","title":"Conclusion","text":"<p>The SquatchCut project demonstrates that AI-assisted development is not only feasible but highly effective when supported by:</p> <ul> <li>explicit and unambiguous requirements  </li> <li>well-defined architecture and invariants  </li> <li>tests that constrain and validate behavior  </li> <li>a three-layer collaboration model separating intent, specification, and execution  </li> <li>deterministic initialization and unit-handling logic  </li> <li>clear documentation of patterns and rules  </li> </ul> <p>These practices form a reusable toolkit for teams building complex systems with LLM-driven engineering, particularly in environments that demand reliability, determinism, and long-term maintainability.</p> <p>End of file.</p>"},{"location":"user/cabinet-maker-workflow/","title":"Cabinet Maker Workflow Guide","text":"<p>Shape-Based Nesting with FreeCAD and SquatchCut</p> <p>Version: 0.3.x (experimental preview) Feature: Shape-Based Nesting Applies to: FreeCAD 0.21+ with SquatchCut 0.3.x Note: Shape-based nesting is still evolving; workflows and UI labels may change.</p>"},{"location":"user/cabinet-maker-workflow/#overview","title":"Overview","text":"<p>This guide walks cabinet makers through the complete workflow of designing furniture parts in FreeCAD and using SquatchCut's shape-based nesting to optimize material usage on sheet goods. Unlike traditional CSV-based workflows that use rectangular approximations, shape-based nesting considers the actual geometry of your parts for maximum material efficiency.</p> <p>What You'll Learn: - How to design cabinet parts in FreeCAD for optimal nesting - Using SquatchCut's shape selection interface - Understanding the difference between rectangular and geometric nesting - Exporting cutting layouts with accurate shape outlines - Troubleshooting common shape extraction issues</p>"},{"location":"user/cabinet-maker-workflow/#prerequisites","title":"Prerequisites","text":"<p>Before starting, ensure you have:</p> <ul> <li>FreeCAD 0.21+ installed</li> <li>SquatchCut v3.4+ add-on installed</li> <li>Basic familiarity with FreeCAD's Part Design workbench</li> <li>Understanding of cabinet construction and sheet goods</li> <li>Knowledge of your cutting tools (kerf width, capabilities)</li> </ul>"},{"location":"user/cabinet-maker-workflow/#part-1-designing-cabinet-parts-in-freecad","title":"Part 1: Designing Cabinet Parts in FreeCAD","text":""},{"location":"user/cabinet-maker-workflow/#11-setting-up-your-freecad-document","title":"1.1 Setting Up Your FreeCAD Document","text":"<ol> <li>Create a New Document</li> <li>Open FreeCAD</li> <li>File \u2192 New to create a new document</li> <li> <p>Save immediately with a descriptive name (e.g., \"Kitchen_Cabinet_Doors.FCStd\")</p> </li> <li> <p>Choose Your Measurement System</p> </li> <li>Go to Edit \u2192 Preferences \u2192 General \u2192 Units</li> <li>Select your preferred system:<ul> <li>Metric: Millimeters for precise measurements</li> <li>Imperial: Inches for traditional woodworking</li> </ul> </li> <li> <p>SquatchCut will automatically detect and use your document's measurement system</p> </li> <li> <p>Switch to Part Design Workbench</p> </li> <li>Use the workbench dropdown to select \"Part Design\"</li> <li>This provides the tools needed for creating solid cabinet parts</li> </ol>"},{"location":"user/cabinet-maker-workflow/#12-creating-cabinet-parts","title":"1.2 Creating Cabinet Parts","text":"<p>Best Practices for Shape-Based Nesting:</p> <ol> <li>Create Real 3D Parts</li> <li>Use Pad operations to create parts with actual thickness</li> <li>Avoid sketches or 2D shapes - SquatchCut needs solid objects</li> <li> <p>Typical cabinet part thickness: 18-25mm (3/4\" - 1\")</p> </li> <li> <p>Design for Nesting Efficiency    ```    Good Practices:    \u2713 Create parts as separate Body objects    \u2713 Use consistent thickness across similar parts    \u2713 Plan part orientation for consistent appearance    \u2713 Consider kerf compensation in your design</p> </li> </ol> <p>Avoid:    \u2717 Compound objects or assemblies    \u2717 Parts with internal voids that won't nest well    \u2717 Extremely complex curves that slow processing    ```</p> <ol> <li>Naming Convention</li> <li>Use descriptive labels: \"Door_Left_Upper\", \"Shelf_Fixed_Middle\"</li> <li>Include dimensions if helpful: \"Panel_600x400x18\"</li> <li>Avoid special characters that might cause export issues</li> </ol>"},{"location":"user/cabinet-maker-workflow/#13-example-kitchen-cabinet-door","title":"1.3 Example: Kitchen Cabinet Door","text":"<p>Let's create a simple raised panel door:</p> <ol> <li>Create the Main Panel</li> <li>Create new Body</li> <li>Sketch a rectangle: 600mm \u00d7 400mm</li> <li>Pad to 18mm thickness</li> <li> <p>Label: \"Door_Main_Panel\"</p> </li> <li> <p>Add Raised Center</p> </li> <li>Create new sketch on the front face</li> <li>Draw rectangle 500mm \u00d7 300mm (centered)</li> <li>Pad 3mm for raised effect</li> <li> <p>Label: \"Door_Raised_Center\"</p> </li> <li> <p>Create Handle Cutout (Optional)</p> </li> <li>Sketch circle or rectangle for handle</li> <li>Use Pocket to cut through</li> <li>Label: \"Door_Handle_Cutout\"</li> </ol> <p>Result: You now have a cabinet door that SquatchCut can extract as a complex shape, accounting for the raised panel and any cutouts.</p>"},{"location":"user/cabinet-maker-workflow/#part-2-using-squatchcuts-shape-selection","title":"Part 2: Using SquatchCut's Shape Selection","text":""},{"location":"user/cabinet-maker-workflow/#21-opening-the-shape-selection-interface","title":"2.1 Opening the Shape Selection Interface","text":"<ol> <li>Launch SquatchCut</li> <li>Click the SquatchCut button in the toolbar</li> <li> <p>The main TaskPanel opens on the left side</p> </li> <li> <p>Access Shape Selection</p> </li> <li>In the \"Input\" section, you'll see two options:<ul> <li>Load CSV (traditional rectangular parts)</li> <li>Select Shapes (new shape-based workflow)</li> </ul> </li> <li>Click Select Shapes</li> </ol>"},{"location":"user/cabinet-maker-workflow/#22-shape-detection-and-selection","title":"2.2 Shape Detection and Selection","text":"<p>When you click \"Select Shapes\", SquatchCut will:</p> <ol> <li>Scan Your Document</li> <li>Automatically detect all objects with valid Shape properties</li> <li>Analyze geometry complexity for each part</li> <li> <p>Extract dimensional and geometric data</p> </li> <li> <p>Display the Selection Dialog</p> </li> <li>Shows a list of all detected shapes</li> <li> <p>Displays preview information for each part:</p> <ul> <li>Part name and dimensions</li> <li>Geometry type (Rectangular/Complex)</li> <li>Complexity level (Low/Medium/High)</li> <li>Estimated processing time</li> </ul> </li> <li> <p>Selection Controls</p> </li> <li>Checkboxes: Select which parts to include in nesting</li> <li>Select All/None: Quick selection controls</li> <li>Preview: Shows shape thumbnails or descriptions</li> <li>Dimensions: Displays bounding box dimensions</li> </ol>"},{"location":"user/cabinet-maker-workflow/#23-understanding-shape-classifications","title":"2.3 Understanding Shape Classifications","text":"<p>SquatchCut classifies your parts into categories:</p> <p>Rectangular Parts: - Simple boxes or panels - Fast processing - Uses traditional nesting algorithms - Example: Basic cabinet shelves</p> <p>Complex Geometry: - Non-rectangular shapes - Curved edges, cutouts, or raised features - Uses advanced geometric nesting - Example: Raised panel doors, curved aprons</p> <p>Complexity Levels: - Low: Simple shapes, fast processing - Medium: Moderate complexity, good balance - High: Complex shapes, longer processing time - Extreme: Very complex, may trigger automatic simplification</p>"},{"location":"user/cabinet-maker-workflow/#24-making-your-selection","title":"2.4 Making Your Selection","text":"<p>Selection Strategy: 1. Start Small: For your first attempt, select 3-5 similar parts 2. Group by Type: Select parts of similar complexity together 3. Consider Material: Group parts that will use the same sheet material 4. Check Dimensions: Ensure selected parts will fit on your sheet size</p> <p>Selection Tips: - Parts with similar thickness nest better together - Consider appearance and orientation requirements - Account for your cutting tool capabilities - Leave complex parts for separate nesting runs if needed</p>"},{"location":"user/cabinet-maker-workflow/#part-3-nesting-configuration-and-execution","title":"Part 3: Nesting Configuration and Execution","text":""},{"location":"user/cabinet-maker-workflow/#31-sheet-configuration","title":"3.1 Sheet Configuration","text":"<p>After selecting your shapes:</p> <ol> <li>Set Sheet Dimensions</li> <li>Width and Height in your document's units</li> <li> <p>Common sizes:</p> <ul> <li>Metric: 1220\u00d72440mm, 1525\u00d73050mm</li> <li>Imperial: 48\"\u00d796\", 60\"\u00d7120\"</li> </ul> </li> <li> <p>Configure Cutting Parameters</p> </li> <li>Kerf Width: Your saw blade thickness<ul> <li>Circular saw: ~3mm (1/8\")</li> <li>Table saw: ~2.5mm (3/32\")</li> <li>CNC router: 1-6mm depending on bit</li> </ul> </li> <li>Margin: Minimum spacing between parts<ul> <li>Hand cutting: 5-10mm (1/4\"-3/8\")</li> <li>CNC cutting: 2-5mm (1/16\"-3/16\")</li> </ul> </li> </ol>"},{"location":"user/cabinet-maker-workflow/#32-nesting-mode-selection","title":"3.2 Nesting Mode Selection","text":"<p>SquatchCut automatically chooses the best nesting mode:</p> <p>Rectangular Mode: - Used when all selected parts are simple rectangles - Fastest processing - Traditional bin-packing algorithms</p> <p>Geometric Mode: - Used when complex shapes are detected - Considers actual part geometry - Prevents overlaps between true shape contours - Longer processing time but better material utilization</p> <p>Hybrid Mode: - Mixes rectangular and geometric approaches - Optimizes based on part complexity - Balances speed and accuracy</p>"},{"location":"user/cabinet-maker-workflow/#33-running-the-nesting","title":"3.3 Running the Nesting","text":"<ol> <li>Click \"Run Nesting\"</li> <li>SquatchCut processes your selected shapes</li> <li>Progress feedback shows current operation</li> <li> <p>Processing time varies with complexity</p> </li> <li> <p>Monitor Progress</p> </li> <li>Shape extraction and validation</li> <li>Nesting algorithm execution</li> <li>Layout optimization</li> <li> <p>Result generation</p> </li> <li> <p>Review Results</p> </li> <li>New \"Nested Parts\" group appears in model tree</li> <li>3D view shows optimized layout</li> <li>Utilization statistics displayed</li> </ol>"},{"location":"user/cabinet-maker-workflow/#part-4-understanding-nesting-results","title":"Part 4: Understanding Nesting Results","text":""},{"location":"user/cabinet-maker-workflow/#41-interpreting-the-layout","title":"4.1 Interpreting the Layout","text":"<p>Visual Elements: - Sheet Outline: Shows your material boundaries - Nested Parts: Parts positioned for cutting - Spacing: Visible gaps for kerf and margins - Rotation: Parts may be rotated for better fit</p> <p>Quality Indicators: - Utilization Percentage: Material efficiency (aim for 70-85%) - Parts Placed: How many parts fit on the sheet - Unplaced Parts: Parts that didn't fit (if any) - Waste Areas: Unused material regions</p>"},{"location":"user/cabinet-maker-workflow/#42-layout-validation","title":"4.2 Layout Validation","text":"<p>Check for Issues: 1. Overlaps: Parts shouldn't intersect (red highlighting if detected) 2. Boundaries: All parts should be within sheet edges 3. Spacing: Adequate gaps for your cutting method 4. Orientation: Grain direction considerations 5. Access: Can you actually cut the layout with your tools?</p> <p>Common Problems and Solutions: - Low Utilization: Try different sheet sizes or add more parts - Parts Don't Fit: Reduce margins, check part dimensions, or use larger sheet - Complex Layout: Consider simplifying some parts or using multiple sheets</p>"},{"location":"user/cabinet-maker-workflow/#part-5-exporting-for-production","title":"Part 5: Exporting for Production","text":""},{"location":"user/cabinet-maker-workflow/#51-export-options","title":"5.1 Export Options","text":"<p>SquatchCut provides multiple export formats for different workflows:</p> <p>SVG Export (Visual Cutting Guides): - Accurate shape outlines for manual cutting - Includes part labels and dimensions - Suitable for printing cutting templates - Shows kerf-compensated geometry</p> <p>DXF Export (CAD/CNC Compatible): - Precise vector geometry for automated cutting - Separate layers for original and kerf-compensated shapes - Compatible with most CAM software - Maintains dimensional accuracy</p> <p>Enhanced Cutlist (Production Planning): - Detailed part information with actual areas - Geometry complexity indicators - Material utilization statistics - Cutting sequence recommendations</p>"},{"location":"user/cabinet-maker-workflow/#52-export-workflow","title":"5.2 Export Workflow","text":"<ol> <li>Choose Export Type</li> <li>Right-click on the nested layout</li> <li>Select \"Export Nesting\" from context menu</li> <li> <p>Choose your desired format</p> </li> <li> <p>Configure Export Settings</p> </li> <li>SVG: Choose label placement, line weights, colors</li> <li>DXF: Select layers, precision, units</li> <li> <p>Cutlist: Pick format (simple/enhanced), include statistics</p> </li> <li> <p>Save and Use</p> </li> <li>Save to appropriate location</li> <li>Import into your CAM software or print for shop use</li> <li>Verify dimensions match your expectations</li> </ol>"},{"location":"user/cabinet-maker-workflow/#53-production-tips","title":"5.3 Production Tips","text":"<p>For Manual Cutting: - Print SVG exports at actual size - Use spray adhesive to attach templates to material - Cut slightly outside lines, then sand to final dimension - Account for kerf by cutting on the waste side of lines</p> <p>For CNC/Automated Cutting: - Import DXF into your CAM software - Use kerf-compensated layer for tool paths - Verify tool diameter matches kerf settings - Run simulation before cutting expensive material</p>"},{"location":"user/cabinet-maker-workflow/#part-6-advanced-techniques","title":"Part 6: Advanced Techniques","text":""},{"location":"user/cabinet-maker-workflow/#61-optimizing-complex-shapes","title":"6.1 Optimizing Complex Shapes","text":"<p>Simplification Strategies: - Use \"Simplified Nesting\" mode for very complex parts - Consider breaking complex assemblies into simpler components - Use bounding box nesting for extremely detailed parts</p> <p>Performance Tuning: - Group similar complexity parts together - Process large jobs in smaller batches - Use performance monitoring to identify bottlenecks</p>"},{"location":"user/cabinet-maker-workflow/#62-multi-sheet-projects","title":"6.2 Multi-Sheet Projects","text":"<p>Planning Large Projects: 1. Group parts by material type and thickness 2. Prioritize critical parts for first sheets 3. Use remaining material efficiently for smaller parts 4. Plan cutting sequence across multiple sheets</p> <p>Workflow: - Create separate nesting runs for each sheet - Export each layout with clear sheet numbering - Maintain cutting sequence documentation</p>"},{"location":"user/cabinet-maker-workflow/#63-quality-control","title":"6.3 Quality Control","text":"<p>Pre-Nesting Checklist: - [ ] All parts have appropriate thickness - [ ] Part names are clear and descriptive - [ ] Sheet size matches available material - [ ] Kerf and margin settings match cutting tools - [ ] Grain direction requirements considered</p> <p>Post-Nesting Validation: - [ ] No overlapping parts - [ ] All parts within sheet boundaries - [ ] Adequate spacing for cutting access - [ ] Utilization meets efficiency targets - [ ] Export files are dimensionally accurate</p>"},{"location":"user/cabinet-maker-workflow/#part-7-troubleshooting","title":"Part 7: Troubleshooting","text":""},{"location":"user/cabinet-maker-workflow/#71-common-shape-detection-issues","title":"7.1 Common Shape Detection Issues","text":"<p>Problem: Parts Not Detected - Cause: Objects lack valid Shape property - Solution: Ensure parts are solid bodies, not sketches or assemblies</p> <p>Problem: Incorrect Dimensions - Cause: Measurement system mismatch - Solution: Check FreeCAD document units match SquatchCut settings</p> <p>Problem: Complex Parts Cause Slow Processing - Cause: High geometry complexity - Solution: Use simplified nesting mode or reduce part detail</p>"},{"location":"user/cabinet-maker-workflow/#72-nesting-problems","title":"7.2 Nesting Problems","text":"<p>Problem: Poor Material Utilization - Causes:   - Parts too large for sheet   - Excessive margins or kerf settings   - Incompatible part shapes - Solutions:   - Try different sheet sizes   - Reduce margins if cutting method allows   - Group similar parts together</p> <p>Problem: Parts Don't Fit - Causes:   - Sheet too small   - Parts larger than expected   - Kerf compensation too aggressive - Solutions:   - Verify part dimensions   - Check sheet size settings   - Reduce kerf if appropriate</p>"},{"location":"user/cabinet-maker-workflow/#73-export-issues","title":"7.3 Export Issues","text":"<p>Problem: SVG Labels Overlap or Missing - Cause: Label placement algorithm conflicts - Solution: Adjust label settings or use DXF export instead</p> <p>Problem: DXF Dimensions Incorrect - Cause: Unit conversion errors - Solution: Verify measurement system consistency throughout workflow</p> <p>Problem: Cutlist Information Incomplete - Cause: Shape analysis incomplete - Solution: Ensure all parts are properly formed solid bodies</p>"},{"location":"user/cabinet-maker-workflow/#part-8-best-practices-summary","title":"Part 8: Best Practices Summary","text":""},{"location":"user/cabinet-maker-workflow/#81-design-phase","title":"8.1 Design Phase","text":"<ul> <li>Create parts as solid bodies with consistent thickness</li> <li>Use descriptive naming conventions</li> <li>Consider nesting efficiency in your design</li> <li>Design with your cutting tools in mind</li> </ul>"},{"location":"user/cabinet-maker-workflow/#82-selection-phase","title":"8.2 Selection Phase","text":"<ul> <li>Start with simple parts to learn the workflow</li> <li>Group similar complexity parts together</li> <li>Consider material requirements and orientation</li> <li>Review shape classifications before proceeding</li> </ul>"},{"location":"user/cabinet-maker-workflow/#83-nesting-phase","title":"8.3 Nesting Phase","text":"<ul> <li>Set accurate kerf and margin values</li> <li>Choose appropriate sheet sizes for your material</li> <li>Monitor processing time and complexity warnings</li> <li>Validate results before proceeding to export</li> </ul>"},{"location":"user/cabinet-maker-workflow/#84-export-phase","title":"8.4 Export Phase","text":"<ul> <li>Choose the right export format for your workflow</li> <li>Verify dimensional accuracy in exported files</li> <li>Test with small projects before large production runs</li> <li>Maintain clear documentation for production</li> </ul>"},{"location":"user/cabinet-maker-workflow/#part-9-example-project-walkthrough","title":"Part 9: Example Project Walkthrough","text":""},{"location":"user/cabinet-maker-workflow/#91-project-kitchen-cabinet-face-frames","title":"9.1 Project: Kitchen Cabinet Face Frames","text":"<p>Goal: Create nesting layout for face frame components</p> <p>Parts List: - 4 Stiles: 800mm \u00d7 50mm \u00d7 18mm - 6 Rails: 400mm \u00d7 50mm \u00d7 18mm - 2 Center Stiles: 600mm \u00d7 50mm \u00d7 18mm</p> <p>Step-by-Step:</p> <ol> <li>Design in FreeCAD</li> <li>Create each component as separate Body</li> <li>Use consistent 18mm thickness</li> <li> <p>Label clearly: \"Stile_Left_Upper\", \"Rail_Top_Door1\", etc.</p> </li> <li> <p>Shape Selection</p> </li> <li>Open SquatchCut and click \"Select Shapes\"</li> <li>All parts detected as \"Rectangular - Low Complexity\"</li> <li> <p>Select all 12 parts for nesting</p> </li> <li> <p>Configure Nesting</p> </li> <li>Sheet: 1220mm \u00d7 2440mm (standard plywood)</li> <li>Kerf: 3mm (circular saw blade)</li> <li> <p>Margin: 5mm (hand cutting tolerance)</p> </li> <li> <p>Run Nesting</p> </li> <li>SquatchCut uses rectangular mode (all parts are simple)</li> <li>Processing completes in seconds</li> <li> <p>Result: 85% utilization, all parts fit</p> </li> <li> <p>Export for Production</p> </li> <li>Export SVG for cutting templates</li> <li>Export enhanced cutlist for material planning</li> <li>Print SVG at actual size for shop use</li> </ol> <p>Result: Efficient layout ready for production with minimal waste.</p>"},{"location":"user/cabinet-maker-workflow/#92-project-curved-cabinet-doors","title":"9.2 Project: Curved Cabinet Doors","text":"<p>Goal: Nest raised panel doors with curved tops</p> <p>Parts List: - 2 Curved doors: 600mm \u00d7 800mm with arch top - 4 Straight doors: 400mm \u00d7 600mm rectangular</p> <p>Step-by-Step:</p> <ol> <li>Design Curved Doors</li> <li>Create base rectangle 600mm \u00d7 800mm</li> <li>Add curved top using arc and trim operations</li> <li>Pad to 18mm thickness</li> <li> <p>Add raised panel detail</p> </li> <li> <p>Shape Selection</p> </li> <li>Curved doors: \"Complex Geometry - Medium Complexity\"</li> <li>Straight doors: \"Rectangular - Low Complexity\"</li> <li> <p>Select all 6 doors</p> </li> <li> <p>Configure for Complex Shapes</p> </li> <li>Sheet: 1525mm \u00d7 3050mm (larger sheet for complex shapes)</li> <li>Kerf: 2mm (router bit for curves)</li> <li> <p>Margin: 8mm (extra clearance for complex cutting)</p> </li> <li> <p>Run Geometric Nesting</p> </li> <li>SquatchCut automatically uses geometric mode</li> <li>Processing takes 30-45 seconds</li> <li> <p>Result: 78% utilization, optimal arrangement</p> </li> <li> <p>Export DXF for CNC</p> </li> <li>Export DXF with kerf compensation</li> <li>Import into CAM software</li> <li>Generate tool paths for router cutting</li> </ol> <p>Result: Complex shapes nested efficiently with accurate cutting geometry.</p>"},{"location":"user/cabinet-maker-workflow/#conclusion","title":"Conclusion","text":"<p>Shape-based nesting in SquatchCut represents a significant advancement for cabinet makers working with FreeCAD. By considering actual part geometry rather than simple rectangles, you can achieve better material utilization, more accurate cutting layouts, and ultimately more efficient production.</p> <p>Key Benefits: - Higher Material Utilization: True shape nesting reduces waste - Accurate Cutting Guides: Export files match actual part geometry - Flexible Workflows: Handles both simple and complex parts - Professional Results: Production-ready layouts with proper kerf compensation</p> <p>Next Steps: - Practice with simple projects first - Experiment with different sheet sizes and configurations - Develop your own design standards for optimal nesting - Integrate shape-based nesting into your regular production workflow</p> <p>For additional help, see: - Technical Reference Guide - Troubleshooting Guide - Sample Projects</p> <p>This guide covers SquatchCut v3.4+ shape-based nesting features. For traditional CSV workflows, see the Standard User Guide.</p>"},{"location":"user/commands/","title":"Commands &amp; Tools","text":""},{"location":"user/commands/#add-shapes","title":"Add Shapes","text":"<ul> <li>Extracts selected rectangles/shapes from the active document into panels.</li> <li>Use when you have geometry in FreeCAD to convert into panel data.</li> <li>Caveats: Works on supported planar shapes; skips unsupported objects.</li> </ul>"},{"location":"user/commands/#import-csv","title":"Import CSV","text":"<ul> <li>Loads panel data from a CSV file.</li> <li>Use when panel dimensions are defined externally.</li> <li>Caveats: Ensure required columns (id, width, height; optional allow_rotate). Missing <code>allow_rotate</code> defaults to no rotation. Invalid rows are skipped with warnings. CSV units follow your measurement system (some builds auto-detect and update it); adjust measurement system in Settings before importing. Internally everything is stored in mm.</li> </ul>"},{"location":"user/commands/#run-nesting","title":"Run Nesting","text":"<ul> <li>Executes multi-sheet rectangular nesting for current panels.</li> <li>Use after panels are gathered and sheet size is set.</li> <li>Caveats: Panels must have valid dimensions; uses simple Skyline/Guillotine hybrid with per-part 0\u00b0/90\u00b0 rotation. Kerf applies between parts; gap/halo pushes parts off sheet edges. If nothing is selected, all tagged panels are used; if a subset is selected, only that subset nests.</li> </ul>"},{"location":"user/commands/#sheet-size","title":"Sheet Size","text":"<ul> <li>Configures sheet dimensions and spacing.</li> <li>Use before nesting to define material size.</li> <li>Caveats: Defaults to 2440 x 1220 if not set. Kerf (between parts) and gap/halo (around parts/edges) default to 0 and can be set on the document. Sheet size spin boxes display the current units preference (mm or in).</li> </ul>"},{"location":"user/commands/#export-report","title":"Export Report","text":"<ul> <li>Generates PDF/CSV reports from the last nesting run.</li> <li>Use after nesting completes.</li> <li>Caveats: Requires a completed nesting run in the current session.</li> </ul>"},{"location":"user/commands/#export-nesting-csv","title":"Export Nesting CSV","text":"<ul> <li>Saves the most recent nesting layout as a CSV (choose path via save dialog).</li> <li>Use after nesting completes.</li> <li>Caveats: Writes sheet index, part id, true width/height, x/y, and angle (0/90). Kerf/gap are layout-only and not exported.</li> </ul>"},{"location":"user/commands/#export-cutlist-csv","title":"Export Cutlist (CSV)","text":"<ul> <li>Generates a shop-friendly cutlist from the current nested sheets and lets you save it as CSV.</li> <li>Use after nesting completes to hand a rip/crosscut plan to the shop floor.</li> <li>Caveats: Cut lines are de-duplicated within a 4 mm tolerance and only emitted when they cross at least one panel.</li> </ul>"},{"location":"user/commands/#toggle-source-panels","title":"Toggle Source Panels","text":"<ul> <li>Shows/hides the original SourcePanels group.</li> <li>Use to reveal or hide the originals that were offset left when nesting.</li> <li>Caveats: SourcePanels remains unchanged; clones on sheets are independent.</li> </ul>"},{"location":"user/commands/#preferences","title":"Preferences","text":"<ul> <li>Accesses SquatchCut preference options.</li> <li>Use to adjust default behaviors, including units preference (metric/imperial).</li> <li>Caveats: Minimal UI in MVP; sheet size dialog handles key settings.</li> </ul>"},{"location":"user/csv_and_ts_tools/","title":"CSV &amp; TS Tools","text":""},{"location":"user/csv_and_ts_tools/#csv-panel-format","title":"CSV Panel Format","text":"<ul> <li>Required columns: <code>id</code>, <code>width</code>, <code>height</code></li> <li>Units: metric or imperial (the importer/ts-tools normalize to millimeters internally)</li> </ul>"},{"location":"user/csv_and_ts_tools/#validation-with-ts-tools","title":"Validation with ts-tools","text":"<ul> <li>The <code>ts-tools</code> package validates and normalizes panel CSVs.</li> <li>Errors are collected without aborting on first failure.</li> </ul>"},{"location":"user/csv_and_ts_tools/#cli-usage","title":"CLI Usage","text":"<pre><code>cd ts-tools\nnpm run build\nnpx squatchcut-csv path/to/file.csv\n</code></pre>"},{"location":"user/csv_and_ts_tools/#workflow-integration","title":"Workflow Integration","text":"<ul> <li>Validate CSVs before importing into FreeCAD.</li> <li>Use clean panels to improve nesting outcomes.</li> </ul>"},{"location":"user/shape-based-nesting-reference/","title":"Shape-Based Nesting Technical Reference","text":"<p>API Documentation and Configuration Guide</p> <p>Version: 0.3.x (experimental preview) Feature: Shape-Based Nesting Target Audience: Advanced users, developers, system integrators Note: Earlier drafts labeled this as \"v3.4+\"; the 0.3.x line is the current experimental build.</p>"},{"location":"user/shape-based-nesting-reference/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Architecture Overview</li> <li>Core Components</li> <li>Configuration Options</li> <li>Nesting Modes</li> <li>Performance Tuning</li> <li>API Reference</li> <li>Integration Guide</li> <li>Advanced Configuration</li> </ol>"},{"location":"user/shape-based-nesting-reference/#architecture-overview","title":"Architecture Overview","text":""},{"location":"user/shape-based-nesting-reference/#system-architecture","title":"System Architecture","text":"<p>Shape-based nesting extends SquatchCut's core architecture with new components for handling complex geometry:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           SquatchCut 0.3.x (Shape-Based Preview)        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  GUI Layer                                              \u2502\n\u2502  \u251c\u2500\u2500 EnhancedShapeSelectionDialog                       \u2502\n\u2502  \u251c\u2500\u2500 TaskPanel Integration                              \u2502\n\u2502  \u2514\u2500\u2500 Progress Feedback System                           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Core Processing Layer                                  \u2502\n\u2502  \u251c\u2500\u2500 ShapeExtractor (Enhanced)                         \u2502\n\u2502  \u251c\u2500\u2500 GeometryNestingEngine                             \u2502\n\u2502  \u251c\u2500\u2500 ComplexGeometry Data Model                        \u2502\n\u2502  \u2514\u2500\u2500 Performance Monitor                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Optimization Layer                                     \u2502\n\u2502  \u251c\u2500\u2500 Geometry Simplifier                               \u2502\n\u2502  \u251c\u2500\u2500 Automatic Fallback System                         \u2502\n\u2502  \u2514\u2500\u2500 Progress Feedback                                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Export Layer                                           \u2502\n\u2502  \u251c\u2500\u2500 Enhanced SVG Export                               \u2502\n\u2502  \u251c\u2500\u2500 DXF Export with Complex Shapes                    \u2502\n\u2502  \u2514\u2500\u2500 Enhanced Cutlist Generation                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#data-flow","title":"Data Flow","text":"<ol> <li>Shape Detection: FreeCAD objects \u2192 ShapeExtractor \u2192 ComplexGeometry objects</li> <li>User Selection: ComplexGeometry objects \u2192 EnhancedShapeSelectionDialog \u2192 Selected shapes</li> <li>Nesting Processing: Selected shapes \u2192 GeometryNestingEngine \u2192 Optimized layout</li> <li>Export Generation: Layout \u2192 Export system \u2192 Production files</li> </ol>"},{"location":"user/shape-based-nesting-reference/#core-components","title":"Core Components","text":""},{"location":"user/shape-based-nesting-reference/#complexgeometry-class","title":"ComplexGeometry Class","text":"<p>The foundation of shape-based nesting, representing non-rectangular parts.</p> <p>Key Properties:</p> <pre><code>class ComplexGeometry:\n    id: str                          # Unique identifier\n    contour_points: List[Tuple[float, float]]  # Shape boundary points\n    bounding_box: Tuple[float, float, float, float]  # Min/max coordinates\n    area: float                      # Actual shape area (mm\u00b2)\n    complexity_level: ComplexityLevel  # LOW, MEDIUM, HIGH, EXTREME\n    rotation_allowed: bool           # Can this shape be rotated?\n    geometry_type: GeometryType      # RECTANGULAR, COMPLEX\n    kerf_compensation: float         # Applied kerf width (mm)\n</code></pre> <p>Complexity Levels: - LOW: \u22644 vertices, simple rectangles - MEDIUM: 5-20 vertices, moderate complexity - HIGH: 21-100 vertices, complex shapes - EXTREME: &gt;100 vertices, very complex shapes</p>"},{"location":"user/shape-based-nesting-reference/#shapeextractor-enhanced","title":"ShapeExtractor (Enhanced)","text":"<p>Converts FreeCAD objects into ComplexGeometry instances.</p> <p>Key Methods:</p> <pre><code>def extract_complex_geometry(self, freecad_obj) -&gt; ComplexGeometry:\n    \"\"\"Extract detailed geometry from FreeCAD object.\"\"\"\n\ndef extract_contour_points(self, shape) -&gt; List[Tuple[float, float]]:\n    \"\"\"Extract boundary points from FreeCAD Shape.\"\"\"\n\ndef validate_shape_complexity(self, geometry) -&gt; bool:\n    \"\"\"Check if shape is suitable for geometric nesting.\"\"\"\n\ndef extract_with_fallback(self, freecad_obj) -&gt; ComplexGeometry:\n    \"\"\"Extract with automatic fallback to bounding box if needed.\"\"\"\n</code></pre> <p>Fallback Behavior: - Attempts complex geometry extraction first - Falls back to bounding box if:   - Shape is too complex (&gt;1000 vertices)   - Extraction fails due to invalid geometry   - Processing time exceeds thresholds</p>"},{"location":"user/shape-based-nesting-reference/#geometrynestingengine","title":"GeometryNestingEngine","text":"<p>Handles nesting of complex shapes with overlap detection.</p> <p>Core Capabilities: - True geometric overlap detection - Rotation of complex shapes - Kerf compensation for non-rectangular geometry - Multi-mode nesting (rectangular, geometric, hybrid)</p> <p>Key Methods:</p> <pre><code>def nest_complex_shapes(self, geometries, sheet, mode) -&gt; NestingResult:\n    \"\"\"Main nesting algorithm for complex shapes.\"\"\"\n\ndef detect_geometry_overlaps(self, geom1, geom2, margin) -&gt; bool:\n    \"\"\"Precise overlap detection between complex shapes.\"\"\"\n\ndef apply_kerf_to_geometry(self, geometry, kerf_mm) -&gt; ComplexGeometry:\n    \"\"\"Apply kerf compensation to complex geometry.\"\"\"\n\ndef calculate_actual_utilization(self, result) -&gt; UtilizationStats:\n    \"\"\"Calculate true material utilization based on actual areas.\"\"\"\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#configuration-options","title":"Configuration Options","text":""},{"location":"user/shape-based-nesting-reference/#global-settings","title":"Global Settings","text":"<p>Shape-based nesting adds new configuration options to SquatchCut settings:</p> <p>Performance Settings:</p> <pre><code># Maximum complexity before automatic simplification\nMAX_COMPLEXITY_VERTICES = 500\n\n# Processing timeout (seconds)\nNESTING_TIMEOUT_SECONDS = 300\n\n# Memory usage threshold (MB)\nMAX_MEMORY_USAGE_MB = 1024\n\n# Enable automatic fallback to bounding box\nAUTO_FALLBACK_ENABLED = True\n</code></pre> <p>Quality Settings:</p> <pre><code># Geometric precision (mm)\nGEOMETRIC_PRECISION = 0.1\n\n#imum margin between complex shapes (mm)\nMIN_COMPLEX_MARGIN = 1.0\n\n# Overlap detection tolerance (mm)\nOVERLAP_TOLERANCE = 0.01\n\n# Rotation angle increment (degrees)\nROTATION_INCREMENT = 15.0\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#per-project-configuration","title":"Per-Project Configuration","text":"<p>Settings that can be adjusted per nesting operation:</p> <p>Nesting Mode Selection: - <code>AUTO</code>: Automatically choose based on shape complexity - <code>RECTANGULAR</code>: Force rectangular nesting for all shapes - <code>GEOMETRIC</code>: Force geometric nesting for all shapes - <code>HYBRID</code>: Mix rectangular and geometric as appropriate</p> <p>Performance vs. Quality Trade-offs: - <code>FAST</code>: Prioritize speed, use simplifications - <code>BALANCED</code>: Balance speed and accuracy (default) - <code>ACCURATE</code>: Prioritize accuracy, allow longer processing</p>"},{"location":"user/shape-based-nesting-reference/#environment-variables","title":"Environment Variables","text":"<p>Advanced configuration through environment variables:</p> <pre><code># Enable debug logging for shape extraction\nexport SQUATCHCUT_DEBUG_SHAPES=1\n\n# Override complexity thresholds\nexport SQUATCHCUT_MAX_VERTICES=1000\n\n# Force specific nesting mode\nexport SQUATCHCUT_FORCE_MODE=geometric\n\n# Enable performance profiling\nexport SQUATCHCUT_PROFILE=1\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#nesting-modes","title":"Nesting Modes","text":""},{"location":"user/shape-based-nesting-reference/#rectangular-mode","title":"Rectangular Mode","text":"<p>When Used: - All selected shapes are classified as rectangular - User explicitly selects rectangular mode - Fallback when geometric mode fails</p> <p>Characteristics: - Uses traditional bin-packing algorithms - Fastest processing time - Treats all shapes as bounding boxes - Suitable for simple cabinet parts</p> <p>Performance: - Processing time: O(n log n) where n = number of parts - Memory usage: Minimal - Typical speed: 1000+ parts per second</p>"},{"location":"user/shape-based-nesting-reference/#geometric-mode","title":"Geometric Mode","text":"<p>When Used: - Complex shapes detected in selection - User explicitly selects geometric mode - Maximum accuracy required</p> <p>Characteristics: - Considers actual shape geometry - Precise overlap detection - Supports rotation of complex shapes - Accounts for true shape areas</p> <p>Performance: - Processing time: O(n\u00b2) for overlap detection - Memory usage: Higher due to contour storage - Typical speed: 10-100 parts per second (depends on complexity)</p>"},{"location":"user/shape-based-nesting-reference/#hybrid-mode","title":"Hybrid Mode","text":"<p>When Used: - Mixed rectangular and complex shapes - Automatic mode selection (default) - Balancing speed and accuracy</p> <p>Characteristics: - Rectangular shapes use fast algorithms - Complex shapes use geometric algorithms - Optimizes processing order - Best overall performance/accuracy balance</p> <p>Algorithm Selection Logic:</p> <pre><code>def select_algorithm(geometry):\n    if geometry.complexity_level == ComplexityLevel.LOW:\n        return RectangularAlgorithm()\n    elif geometry.complexity_level in [ComplexityLevel.MEDIUM, ComplexityLevel.HIGH]:\n        return GeometricAlgorithm()\n    else:  # EXTREME complexity\n        return SimplifiedGeometricAlgorithm()\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#performance-tuning","title":"Performance Tuning","text":""},{"location":"user/shape-based-nesting-reference/#complexity-management","title":"Complexity Management","text":"<p>Automatic Simplification: Shape-based nesting includes automatic simplification for performance:</p> <ol> <li>Light Simplification (100-500 vertices):</li> <li>Reduce contour point density</li> <li>Maintain overall shape accuracy</li> <li> <p>~20% performance improvement</p> </li> <li> <p>Moderate Simplification (500-1000 vertices):</p> </li> <li>Approximate curves with line segments</li> <li>Preserve critical features</li> <li> <p>~50% performance improvement</p> </li> <li> <p>Aggressive Simplification (1000+ vertices):</p> </li> <li>Use convex hull approximation</li> <li>Maintain bounding box accuracy</li> <li> <p>~80% performance improvement</p> </li> <li> <p>Bounding Box Fallback (extreme cases):</p> </li> <li>Fall back to rectangular nesting</li> <li>Fastest processing</li> <li>Maintains compatibility</li> </ol>"},{"location":"user/shape-based-nesting-reference/#performance-monitoring","title":"Performance Monitoring","text":"<p>Built-in Metrics:</p> <pre><code>class PerformanceMetrics:\n    extraction_time: float      # Shape extraction time (seconds)\n    nesting_time: float        # Nesting algorithm time (seconds)\n    memory_usage: float        # Peak memory usage (MB)\n    complexity_score: float    # Overall complexity (0-1)\n    simplification_applied: bool  # Was simplification used?\n</code></pre> <p>Monitoring Thresholds: - Warning: Processing time &gt; 30 seconds - Alert: Memory usage &gt; 512 MB - Critical: Processing time &gt; 300 seconds</p>"},{"location":"user/shape-based-nesting-reference/#optimization-strategies","title":"Optimization Strategies","text":"<p>For Large Projects (100+ parts): 1. Group parts by complexity level 2. Process in smaller batches (20-50 parts) 3. Use simplified nesting mode 4. Consider multiple sheet layouts</p> <p>For Complex Shapes: 1. Enable automatic simplification 2. Increase processing timeout 3. Use hybrid mode for mixed complexity 4. Monitor memory usage</p> <p>For Production Environments: 1. Set conservative complexity limits 2. Enable automatic fallback 3. Use performance monitoring 4. Implement timeout handling</p>"},{"location":"user/shape-based-nesting-reference/#api-reference","title":"API Reference","text":""},{"location":"user/shape-based-nesting-reference/#core-classes","title":"Core Classes","text":""},{"location":"user/shape-based-nesting-reference/#complexgeometry","title":"ComplexGeometry","text":"<pre><code>class ComplexGeometry:\n    def __init__(self, id: str, contour_points: List[Tuple[float, float]],\n                 bounding_box: Tuple[float, float, float, float], area: float,\n                 complexity_level: ComplexityLevel, rotation_allowed: bool = True,\n                 geometry_type: GeometryType = GeometryType.COMPLEX):\n        \"\"\"Initialize ComplexGeometry object.\"\"\"\n\n    def get_width(self) -&gt; float:\n        \"\"\"Get bounding box width.\"\"\"\n\n    def get_height(self) -&gt; float:\n        \"\"\"Get bounding box height.\"\"\"\n\n    def get_centroid(self) -&gt; Tuple[float, float]:\n        \"\"\"Calculate geometric centroid.\"\"\"\n\n    def rotate(self, angle_degrees: float) -&gt; 'ComplexGeometry':\n        \"\"\"Rotate geometry by specified angle.\"\"\"\n\n    def apply_kerf(self, kerf_mm: float) -&gt; 'ComplexGeometry':\n        \"\"\"Apply kerf compensation to geometry.\"\"\"\n\n    def check_overlap(self, other: 'ComplexGeometry') -&gt; bool:\n        \"\"\"Check if this geometry overlaps with another.\"\"\"\n\n    def is_rectangular(self) -&gt; bool:\n        \"\"\"Check if geometry is rectangular.\"\"\"\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#geometrynestingengine_1","title":"GeometryNestingEngine","text":"<pre><code>class GeometryNestingEngine:\n    def __init__(self):\n        \"\"\"Initialize nesting engine.\"\"\"\n\n    def nest_complex_shapes(self, geometries: List[ComplexGeometry],\n                          sheet: SheetGeometry, mode: NestingMode) -&gt; NestingResult:\n        \"\"\"Nest complex shapes on sheet.\"\"\"\n\n    def detect_geometry_overlaps(self, geom1: ComplexGeometry,\n                               geom2: ComplexGeometry, margin: float) -&gt; bool:\n        \"\"\"Detect overlaps between positioned geometries.\"\"\"\n\n    def calculate_actual_utilization(self, result: NestingResult) -&gt; UtilizationStats:\n        \"\"\"Calculate utilization based on actual shape areas.\"\"\"\n\n    def apply_kerf_to_geometry(self, geometry: ComplexGeometry,\n                             kerf_mm: float) -&gt; ComplexGeometry:\n        \"\"\"Apply kerf compensation to geometry.\"\"\"\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#shapeextractor","title":"ShapeExtractor","text":"<pre><code>class ShapeExtractor:\n    def extract_complex_geometry(self, freecad_obj) -&gt; Optional[ComplexGeometry]:\n        \"\"\"Extract complex geometry from FreeCAD object.\"\"\"\n\n    def extract_contour_points(self, shape) -&gt; List[Tuple[float, float]]:\n        \"\"\"Extract contour points from FreeCAD Shape.\"\"\"\n\n    def validate_shape_complexity(self, geometry: ComplexGeometry) -&gt; bool:\n        \"\"\"Validate shape complexity for nesting.\"\"\"\n\n    def extract_with_fallback(self, freecad_obj) -&gt; ComplexGeometry:\n        \"\"\"Extract with automatic fallback to bounding box.\"\"\"\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#data-structures","title":"Data Structures","text":""},{"location":"user/shape-based-nesting-reference/#nestingresult","title":"NestingResult","text":"<pre><code>@dataclass\nclass NestingResult:\n    placed_geometries: List[PlacedGeometry]\n    unplaced_geometries: List[ComplexGeometry]\n    sheets_used: int\n    utilization_percent: float\n    processing_time: float\n    total_area_used: float\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#placedgeometry","title":"PlacedGeometry","text":"<pre><code>@dataclass\nclass PlacedGeometry:\n    geometry: ComplexGeometry\n    x: float\n    y: float\n    rotation: float\n    sheet_index: int\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#utilizationstats","title":"UtilizationStats","text":"<pre><code>@dataclass\nclass UtilizationStats:\n    sheets_used: int\n    utilization_percent: float\n    area_used_mm2: float\n    area_wasted_mm2: float\n    geometric_efficiency: float\n    placement_efficiency: float\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#enumerations","title":"Enumerations","text":"<pre><code>class ComplexityLevel(Enum):\n    LOW = \"low\"\n    MEDIUM = \"medium\"\n    HIGH = \"high\"\n    EXTREME = \"extreme\"\n\nclass GeometryType(Enum):\n    RECTANGULAR = \"rectangular\"\n    COMPLEX = \"complex\"\n\nclass NestingMode(Enum):\n    AUTO = \"auto\"\n    RECTANGULAR = \"rectangular\"\n    GEOMETRIC = \"geometric\"\n    HYBRID = \"hybrid\"\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#integration-guide","title":"Integration Guide","text":""},{"location":"user/shape-based-nesting-reference/#integrating-with-existing-workflows","title":"Integrating with Existing Workflows","text":"<p>CSV + Shape Hybrid Workflow:</p> <pre><code># Example: Combine CSV parts with FreeCAD shapes\ncsv_parts = load_csv_parts(\"cutlist.csv\")\nfreecad_shapes = extract_shapes_from_document()\n\n# Convert CSV to ComplexGeometry for unified processing\ncsv_geometries = [create_rectangular_geometry(p['id'], p['width'], p['height'])\n                  for p in csv_parts]\n\n# Combine and nest\nall_geometries = csv_geometries + freecad_shapes\nresult = nesting_engine.nest_complex_shapes(all_geometries, sheet, NestingMode.HYBRID)\n</code></pre> <p>Custom Shape Extraction:</p> <pre><code># Example: Custom shape extraction for specialized objects\nclass CustomShapeExtractor(ShapeExtractor):\n    def extract_complex_geometry(self, freecad_obj):\n        if self.is_custom_type(freecad_obj):\n            return self.extract_custom_geometry(freecad_obj)\n        return super().extract_complex_geometry(freecad_obj)\n\n    def extract_custom_geometry(self, obj):\n        # Custom extraction logic\n        contour = self.get_custom_contour(obj)\n        return ComplexGeometry(\n            id=obj.Label,\n            contour_points=contour,\n            bounding_box=self.calculate_bbox(contour),\n            area=self.calculate_area(contour),\n            complexity_level=self.assess_complexity(contour)\n        )\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#plugin-development","title":"Plugin Development","text":"<p>Creating Shape Processing Plugins:</p> <pre><code>class ShapeProcessingPlugin:\n    def process_shapes(self, geometries: List[ComplexGeometry]) -&gt; List[ComplexGeometry]:\n        \"\"\"Process shapes before nesting.\"\"\"\n        processed = []\n        for geom in geometries:\n            # Apply custom processing\n            processed_geom = self.apply_custom_processing(geom)\n            processed.append(processed_geom)\n        return processed\n\n    def apply_custom_processing(self, geometry: ComplexGeometry) -&gt; ComplexGeometry:\n        # Custom processing logic (e.g., optimization, validation)\n        return geometry\n</code></pre> <p>Registering Plugins:</p> <pre><code># Register plugin with SquatchCut\nfrom SquatchCut.core.plugin_manager import register_shape_plugin\n\nregister_shape_plugin(\"custom_processor\", ShapeProcessingPlugin())\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"user/shape-based-nesting-reference/#custom-nesting-algorithms","title":"Custom Nesting Algorithms","text":"<p>Implementing Custom Algorithms:</p> <pre><code>class CustomNestingAlgorithm:\n    def nest_shapes(self, geometries: List[ComplexGeometry],\n                   sheet: SheetGeometry) -&gt; NestingResult:\n        \"\"\"Custom nesting implementation.\"\"\"\n        # Implement your algorithm here\n        placed = []\n        unplaced = []\n\n        # Your nesting logic\n        for geom in geometries:\n            position = self.find_best_position(geom, sheet, placed)\n            if position:\n                placed.append(PlacedGeometry(geom, position.x, position.y, 0, 0))\n            else:\n                unplaced.append(geom)\n\n        return NestingResult(\n            placed_geometries=placed,\n            unplaced_geometries=unplaced,\n            sheets_used=1,\n            utilization_percent=self.calculate_utilization(placed, sheet),\n            processing_time=0.0,\n            total_area_used=sum(g.geometry.area for g in placed)\n        )\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#performance-profiling","title":"Performance Profiling","text":"<p>Enable Detailed Profiling:</p> <pre><code>from SquatchCut.core.performance_monitor import PerformanceMonitor\n\n# Enable profiling\nmonitor = PerformanceMonitor()\nmonitor.enable_profiling()\n\n# Run nesting with profiling\nwith monitor.profile_operation(\"complex_nesting\"):\n    result = nesting_engine.nest_complex_shapes(geometries, sheet, mode)\n\n# Get profiling results\nprofile_data = monitor.get_profile_data()\nprint(f\"Processing time: {profile_data.total_time}s\")\nprint(f\"Memory usage: {profile_data.peak_memory}MB\")\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#custom-export-formats","title":"Custom Export Formats","text":"<p>Adding Custom Export Formats:</p> <pre><code>class CustomExporter:\n    def export_layout(self, result: NestingResult, filename: str):\n        \"\"\"Export nesting result to custom format.\"\"\"\n        with open(filename, 'w') as f:\n            f.write(self.generate_custom_format(result))\n\n    def generate_custom_format(self, result: NestingResult) -&gt; str:\n        \"\"\"Generate custom format output.\"\"\"\n        # Implement your export format\n        output = []\n        for placed in result.placed_geometries:\n            line = f\"{placed.geometry.id},{placed.x},{placed.y},{placed.rotation}\"\n            output.append(line)\n        return \"\\n\".join(output)\n\n# Register custom exporter\nfrom SquatchCut.core.exporter import register_export_format\nregister_export_format(\"custom\", CustomExporter())\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#differences-from-rectangular-nesting","title":"Differences from Rectangular Nesting","text":""},{"location":"user/shape-based-nesting-reference/#key-distinctions","title":"Key Distinctions","text":"<p>Rectangular Nesting (Traditional): - Uses bounding box approximations - Fast bin-packing algorithms - Simple overlap detection (rectangle intersection) - Uniform processing time regardless of shape complexity - Limited material utilization for complex shapes</p> <p>Geometric Nesting (Shape-Based): - Uses actual shape geometry - Complex geometric algorithms - Precise contour-based overlap detection - Processing time varies with shape complexity - Maximum material utilization for all shape types</p>"},{"location":"user/shape-based-nesting-reference/#performance-comparison","title":"Performance Comparison","text":"Aspect Rectangular Geometric Hybrid Speed Fastest Slowest Balanced Accuracy Low for complex shapes Highest Good Memory Usage Minimal Higher Moderate Complexity Handling Poor Excellent Good Material Utilization 60-75% 75-90% 70-85%"},{"location":"user/shape-based-nesting-reference/#when-to-use-each-mode","title":"When to Use Each Mode","text":"<p>Use Rectangular Mode When: - All parts are simple rectangles - Speed is critical - Working with very large part counts (1000+) - Legacy compatibility required</p> <p>Use Geometric Mode When: - Complex shapes are present - Maximum material utilization needed - Accuracy is more important than speed - Working with expensive materials</p> <p>Use Hybrid Mode When: - Mixed part complexity - Balancing speed and accuracy - General-purpose nesting - Uncertain about optimal mode</p>"},{"location":"user/shape-based-nesting-reference/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user/shape-based-nesting-reference/#common-issues-and-solutions","title":"Common Issues and Solutions","text":"<p>Issue: Shape extraction fails</p> <pre><code>Error: \"Unable to extract geometry from object\"\nCause: Object lacks valid Shape property\nSolution: Ensure object is a solid body, not sketch or assembly\n</code></pre> <p>Issue: Nesting takes too long</p> <pre><code>Warning: \"Processing time exceeded threshold\"\nCause: High shape complexity\nSolution: Enable automatic simplification or use hybrid mode\n</code></pre> <p>Issue: Poor material utilization</p> <pre><code>Result: Utilization &lt; 60%\nCause: Incompatible shapes or excessive margins\nSolution: Adjust margins, try different sheet sizes, or group similar parts\n</code></pre> <p>Issue: Memory usage too high</p> <pre><code>Error: \"Memory limit exceeded\"\nCause: Too many complex shapes processed simultaneously\nSolution: Process in smaller batches or increase memory limits\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#debug-information","title":"Debug Information","text":"<p>Enable Debug Logging:</p> <pre><code>import logging\nlogging.getLogger('SquatchCut.shape_nesting').setLevel(logging.DEBUG)\n</code></pre> <p>Debug Output Example:</p> <pre><code>DEBUG: Extracting geometry from object 'Door_Panel_001'\nDEBUG: Detected 45 contour points, complexity: MEDIUM\nDEBUG: Applying kerf compensation: 3.0mm\nDEBUG: Nesting mode selected: GEOMETRIC\nDEBUG: Processing 12 shapes, estimated time: 15s\nDEBUG: Overlap detection: 0 conflicts found\nDEBUG: Final utilization: 82.3%\n</code></pre>"},{"location":"user/shape-based-nesting-reference/#version-history","title":"Version History","text":""},{"location":"user/shape-based-nesting-reference/#03x-preview-initial-shape-based-nesting","title":"0.3.x Preview - Initial Shape-Based Nesting","text":"<ul> <li>ComplexGeometry data model</li> <li>GeometryNestingEngine implementation</li> <li>Enhanced shape selection UI</li> <li>DXF export with complex shapes</li> <li>Performance optimization system</li> </ul>"},{"location":"user/shape-based-nesting-reference/#future-enhancements-planned","title":"Future Enhancements (Planned)","text":"<ul> <li>Advanced curve handling and spline support</li> <li>3D nesting for thick materials</li> <li>AI-assisted optimization</li> <li>Real-time collaborative nesting</li> </ul>"},{"location":"user/shape-based-nesting-reference/#support-and-resources","title":"Support and Resources","text":""},{"location":"user/shape-based-nesting-reference/#documentation","title":"Documentation","text":"<ul> <li>Cabinet Maker Workflow Guide</li> <li>User Guide</li> <li>Developer Guide</li> </ul>"},{"location":"user/shape-based-nesting-reference/#community","title":"Community","text":"<ul> <li>GitHub Issues: Report bugs and feature requests</li> <li>Forum: Community discussions and tips</li> <li>Wiki: Community-contributed examples and tutorials</li> </ul>"},{"location":"user/shape-based-nesting-reference/#professional-support","title":"Professional Support","text":"<ul> <li>Training: Available for teams and organizations</li> <li>Custom Development: Specialized features and integrations</li> <li>Consulting: Workflow optimization and best practices</li> </ul> <p>This technical reference covers the SquatchCut 0.3.x shape-based nesting preview. For general SquatchCut documentation, see the main User Guide.</p>"},{"location":"user/troubleshooting-shape-nesting/","title":"Troubleshooting Shape Nesting","text":"<p>This page is currently under construction.</p>"}]}