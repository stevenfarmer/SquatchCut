name: "FreeCAD Integration (manual)"

on:
  workflow_dispatch:
    inputs:
      run_freecad_tests:
        description: "Run FreeCADCmd integration tests (disabled in CI until FreeCAD env is fixed)"
        required: false
        default: "true"

jobs:
  # TODO(SquatchCut): Reintroduce FreeCAD integration tests with a known-good FreeCAD image.
  # The distro FreeCAD on GitHub runners has a broken embedded Python (fails to import stdlib modules),
  # so freecadcmd is unusable here. Until we have a custom image/container with working FreeCAD + Python,
  # CI will run only the core tests under the standard Python toolchain.
  freecad-integration:
    if: ${{ false }}  # Disabled pending a working FreeCAD environment (see TODO above)
    runs-on: ubuntu-22.04
    steps:
      - name: FreeCAD integration tests are disabled
        run: |
          echo "FreeCAD integration tests are disabled in CI."
          echo "See workflow TODO for re-enabling with a stable FreeCAD environment."
